"use strict";(self.webpackChunkpatreon_react_features=self.webpackChunkpatreon_react_features||[]).push([[7928],{182125:(e,t,n)=>{n.d(t,{SM:()=>y,UA:()=>E,iz:()=>x,rQ:()=>g,zv:()=>v});var r,a,i,o,l,s=n(356264),c=n(710184),d=n(921968),u=n(233174),m=n(312553),p=n(683874);function g(e){(0,c.Y8)()&&!e&&(console.log("Loading test currencies from fixture."),e=u.F.patreon.bootstrap.supported_currencies);const t=[];for(const n of e||[]){const e=(0,s.camelizeKeys)(n);Object.setPrototypeOf(e,p.N.prototype),t.push(e)}return t}const h=g(null===(r=(0,d.ZP)().patreon)||void 0===r||null===(a=r.bootstrap)||void 0===a?void 0:a.supported_currencies),f=null!==(i=null===(o=(0,d.ZP)().patreon)||void 0===o||null===(l=o.featureFlags)||void 0===l?void 0:l.allow_unlaunched_currencies)&&void 0!==i&&i?h:h.filter((e=>e.isLaunched)),b=(e,t)=>{const n="string"==typeof t?null==t?void 0:t.toUpperCase():t;return e.hasOwnProperty(n),e[n]},v=e=>new Proxy(e.reduce(((e,t)=>(e[t.code]=t,e)),{}),{get:b}),y=(v(h),function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.e.Any;return e===m.e.PayIn?f.filter((e=>e.availableForPayIn)):e===m.e.PayOut?f.filter((e=>e.availableForPayOut)):e===m.e.Both?f.filter((e=>e.availableForPayIn&&e.availableForPayOut)):f.filter((e=>e.availableForPayIn||e.availableForPayOut))}),x=()=>{var e;const{currency_constants:t=[]}=(null===(e=(0,d.ZP)().patreon)||void 0===e?void 0:e.bootstrap)||{};return(0,c.Y8)()&&0===(null==t?void 0:t.length)?(console.log("Loading test currencies from fixture."),u.r.patreon.bootstrap.currency_constants):(0,s.camelizeKeys)(t)},E=e=>h.map((e=>e.code)).includes(e)},30287:(e,t,n)=>{n.d(t,{Z:()=>R});var r=n(110251),a=n.n(r),i=n(500711),o=n.n(i),l=n(227361),s=n.n(l),c=n(435161),d=n.n(c),u=n(957557),m=n.n(u),p=n(436968),g=n.n(p),h=n(45697),f=n.n(h),b=n(667294),v=n(50533),y=n(3424),x=n(646433),E=n(364663),w=n(504653),C=n(223529),k=n(982210),T=n(878861),P=n(614122);function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const I=(e,t)=>t.dataKey||e,A=(e,t)=>!!(0,P.Z)(m()(t,["mallard"]),m()(e,["mallard"]))&&o()(Object.keys(e.mallard),(n=>"_initializeDataKey"===n||"_declarations"===n||(!t.mallard[n]._isInitialized&&e.mallard[n]._isInitialized?a()(t.mallard[n].value,e.mallard[n].value,{strict:!0}):t.mallard[n].value===e.mallard[n].value))),j=e=>{let t;const n=e=>d()(t,((t,n)=>e(t,n,I(n,t))));return{makeMapStateToProps:()=>(r,a)=>{t=e instanceof Function?e(a):"string"==typeof e?{[e]:{}}:e,(e=>{d()(e,((e,t)=>{d()({initialValue:void 0,actions:{},selectors:{},resetOnMount:!1},((t,n)=>{const r=s()(e,n,t);e[n]=r}))}))})(t);const i={},o=n(((e,t,n)=>{if(i[n])throw new Error("Duplicate dataKeys detected in this mallard decorator");return i[n]=t,e.dataKey=I(t,e),(0,C.xE)(n,e.selectors),n})),l={};return o.forEach((e=>{const n=i[e],{value:a,selectors:o,_isInitialized:s}=(0,w.selectMallard)(e)(r),c=s?a:t[n].initialValue;g()(l,[n,"value"],c),g()(l,[n,"_isInitialized"],s);const d=Object.keys(o).reduce(((e,t)=>(e[t]=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return o[t](c,...n)},e)),{});g()(l,[n,"selectors"],d)})),{mallard:l}},mapDispatchToProps:(e,t)=>{const r={};return n(((t,n,a)=>{r[n]={};const i=(0,k.default)(a,t);(0,E.q1)(a,i.reducers),(0,y.Ue)(a,i.actionTypesAndCreators);const o=y.xg[a];o&&(r[n].actions=Object.keys(o).reduce(((t,n)=>(t[n]=function(){return e(o[n](...arguments))},t)),{}))})),r._initializeDataKey=(t,n,r)=>e({type:x.L1,payload:{dataKey:t,initialValue:n,force:r}}),r},mergeProps:(e,r,a)=>{const i=e.mallard,o=a.mallard,l=Object.assign({},e,a,{mallard:_(_({},i),o)});return n(((e,t,n)=>{const a=y.xg[n]||{};Object.keys(a).forEach((e=>{g()(l.mallard,[t,"actions",e],r[t].actions[e])}))})),l.mallard._initializeDataKey=r._initializeDataKey,l.mallard._declarations=t,l}}},D=(e,t)=>{d()(e._declarations,((n,r)=>{const{dataKey:a,initialValue:i,resetOnMount:o}=n,l=o&&t;void 0===i||e[r]._isInitialized||e._initializeDataKey(a,i,l)}))},R=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=>{const{makeMapStateToProps:n,mapDispatchToProps:r,mergeProps:a}=j(e);class i extends b.Component{componentDidMount(){D(this.props.mallard,!0)}componentWillUnmount(){D(this.props.mallard,!0)}UNSAFE_componentWillReceiveProps(e){D(e.mallard)}render(){return b.createElement(t,this.props)}}return S(i,"displayName",`Mallard(${(0,T.Z)(t)})`),S(i,"propTypes",{mallard:f().object.isRequired}),(0,v.$j)(n,r,a,{areMergedPropsEqual:A})(i)}}},415067:(e,t,n)=>{n.d(t,{B:()=>i});var r=n(667294);let a=-1;function i(){const[e,t]=(0,r.useState)(void 0);return(0,r.useEffect)((()=>{t("cid-"+ ++a)}),[]),e}},119841:(e,t,n)=>{n.d(t,{dA:()=>p,sQ:()=>m});var r=n(227361),a=n.n(r),i=n(435161),o=n.n(i),l=n(667294),s=n(50533),c=n(531687),d=n(442279);n(356264);const u=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return n=>a()(n.presets,e,t)},m=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return t=>{const r={};"object"==typeof e?o()(e,((e,t)=>{r[t]=u(e)})):o()([e,...n],(e=>{r[e]=u(e)}));const a=(0,d.zB)(r);return(0,s.$j)(a)(t)}},p=(e,t)=>{const n=(0,l.useCallback)((n=>a()(n.presets,e,t)),[e,t]);return(0,c.fy)(n)}},892543:(e,t,n)=>{n.d(t,{CX:()=>f,ZP:()=>x});var r=n(753074),a=n.n(r),i=n(957557),o=n.n(i),l=n(45697),s=n.n(l),c=n(667294),d=n(50533),u=n(442279),m=n(304547),p=n(710184),g=n(796433),h=n(921968);let f;const b=m.nZ,v=(0,u.zB)({renderAsClient:b}),y=(e,t)=>({setRenderAsClient:t=>{e({type:m.hK,payload:t})}});function x(e){class t extends c.Component{componentDidMount(){(0,p.C5)()&&!(0,p.Y8)()&&(0,h.ZP)().setTimeout((()=>{this.props.renderAsClient||this.props.setRenderAsClient(!0)}),1)}render(){const t=o()(this.props,["setRenderAsClient"]);return c.createElement(e,t)}}var n,r,i;n=t,r="propTypes",i={renderAsClient:s().bool,setRenderAsClient:s().func},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[r]=i,t.displayName=`renderAsClient(${(0,g.Z)(e)})`;const l=a()(t,e);return(0,d.$j)(v,y)(l)}},2139:(e,t,n)=>{n.d(t,{l:()=>s});var r=n(218659),a=n(839301),i=n(667294),o=n(95127);const l=e=>{let{children:t,fallback:n}=e;return(0,o.C)()?i.createElement(i.Fragment,null,t):n||null},s=e=>t=>{let n=Object.assign({},(function(e){if(null==e)throw new TypeError("Cannot destructure "+e)}(t),t));return i.createElement(l,{fallback:i.createElement(r.x,{pv:4},i.createElement(a.T,{"data-tag":"ssr-loading-spinner"}))},i.createElement(e,n))}},95127:(e,t,n)=>{n.d(t,{C:()=>s});var r=n(667294),a=n(531687),i=n(304547),o=n(710184),l=n(892543);function s(){var e;const t=(0,a.I0)(),n=null!==(e=(0,a.fy)(i.nZ))&&void 0!==e&&e;return(0,r.useEffect)((()=>{if((0,o.C5)()&&!(0,o.Y8)()){const e=setTimeout((()=>t({type:i.hK,payload:!0})),0);return()=>clearTimeout(e)}}),[]),null!==l.CX&&void 0!==l.CX?l.CX:n}},318588:(e,t,n)=>{n.d(t,{Z:()=>R});var r,a,i=n(963931),o=n(547718),l=n(202790),s=n(999007),c=n(218659),d=n(562481),u=n(650308),m=n(398032),p=n(808397),g=n(179302),h=n(16420),f=n(839301),b=n(45697),v=n.n(b),y=n(667294),x=n(50533),E=n(418093),w=n(442279),C=n(571995),k=n(393174),T=n(599757),P=n(625847),O=n(432645),_=n(261165),S=n(576405);function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const A=["blocked.null","block_action.blocked","block_action.chosen_reason"],j={user:["full_name","vanity"]};let D=(0,x.$j)((0,w.zB)({currentUser:(0,i.yA)("currentUser"),isModalOpen:S._h}),{closeModal:S.Mr})(r=(0,E.xJ)("selectedReason","setSelectedReason",null)(r=(0,E.xJ)("isWorking","setIsWorking",!1)(r=(0,E.xJ)("error","setError",null)(r=(0,o.ZP)((e=>{let{userToBlock:t}=e;return{block:{dataKey:`modules:blockUser:${t.id}`,endpoint:(0,O.R)(`/block/${t.id}`,{include:A,fields:j}),fetchOnInit:!0}}}))((a=class extends y.Component{constructor(){super(...arguments),I(this,"canUnblock",(()=>{const{block:e}=this.props.nion,t=e.data;return(0,l.G)(t)&&(0,T.U)((()=>t.blockAction.id))})),I(this,"block",(e=>{const{block:t}=this.props.nion,{currentUser:n,userToBlock:r}=this.props,a=new _.Z("block_action",{});a.addRelationship("blocker",{type:"user",id:n.id}),a.addRelationship("blocked",{type:"user",id:r.id}),e&&a.addRelationship("chosen_reason",{type:"block_reason",id:e});const i=(0,O.R)("/block",{include:A,fields:j});return this.props.setIsWorking(!0),t.actions.post(a.toRequest(),{endpoint:i}).then((()=>{this.props.setIsWorking(!1),this.props.closeModal()})).catch((e=>{this.props.setIsWorking(!1),this.props.setError(e)}))})),I(this,"getBlockActionId",(()=>{const{block:e}=this.props.nion,t=e.data;return(0,T.U)((()=>t.blockAction.id))})),I(this,"unblock",(()=>{const{block:e}=this.props.nion,t=this.getBlockActionId(),n=(0,O.R)(`/block_action/${t}`);return this.props.setIsWorking(!0),e.actions.delete({endpoint:n}).then((()=>{this.props.setIsWorking(!1),this.props.closeModal()})).catch((e=>{this.props.setIsWorking(!1),this.props.setError(e)}))})),I(this,"renderReasons",(()=>{if(!this.canUnblock())return y.createElement("form",null,k.Z.map(this.renderReason))})),I(this,"renderReason",(e=>{const{selectedReason:t,setSelectedReason:n}=this.props;return y.createElement(c.x,{mb:2,key:e.id},y.createElement(c.x,{alignContent:c.x.AlignContent.FlexStart,alignItems:c.x.AlignItems.FlexStart,display:c.x.Display.Flex,flexDirection:c.x.FlexDirection.Row,flexWrap:c.x.FlexWrap.NoWrap,justifyContent:c.x.JustifyContent.FlexStart},y.createElement(d.E,{id:e.id,name:"reason",value:e.id,checked:e.id===t,onChange:()=>n(e.id)},e.displayDescription)))})),I(this,"headerText",(()=>{const{userToBlock:e}=this.props,t=e.fullName;return this.canUnblock()?y.createElement(u.V.Title,null,"Unblock ",t,"?"):y.createElement(u.V.Title,null,"Why are you blocking ",t,"?")})),I(this,"renderFooter",(()=>{const{block:e}=this.props.nion,{isWorking:t}=this.props,n=this.canUnblock(),r=y.createElement(c.x,{mr:2,display:c.x.Display.InlineBlock},y.createElement(m.z,{loggerId:"modules-BlockUserModal-containers-BlockUserModal-close-modal",color:m.z.Color.Tertiary,onClick:this.props.closeModal},y.createElement(C.GX,null))),a=this.props.selectedReason,{isLoading:i}=e.request,o=i||t,l=y.createElement(m.z,{loggerId:"modules-BlockUserModal-containers-BlockUserModal-block",variant:"secondary",isLoading:o,onClick:()=>{n?this.unblock().then((()=>this.props.onBlockOrUnblock&&this.props.onBlockOrUnblock())):this.block(a).then((()=>this.props.onBlockOrUnblock&&this.props.onBlockOrUnblock()))}},n?y.createElement(y.Fragment,null,"Unblock"):y.createElement(y.Fragment,null,"Block")),{error:s}=this.props;return y.createElement(y.Fragment,null,s?y.createElement(c.x,{mt:1},y.createElement(p.j,{placement:"inline-small",variant:p.j.Variant.Critical},"There was an error. Try again.")):null,y.createElement(c.x,{mt:2,display:c.x.Display.Flex,flexDirection:c.x.FlexDirection.Row},r,l))})),I(this,"renderContent",(()=>{const{fullName:e}=this.props.userToBlock,t=this.canUnblock(),n=y.createElement(g.x,null,"Unblocking ",e," will allow them to become your patron and contact you."),r=y.createElement(g.x,null,"Blocking ",e," will remove their pledge, remove any declined or pending payments, prevent them from contacting you, and prevent them from becoming your patron in the future. ",e," will be notified of this action by email.");return y.createElement(y.Fragment,null,y.createElement("div",{className:"stackable"},t?n:r),y.createElement(h.A,{href:(0,P.Z)("/articles/207982093",this.context)},"Learn more about blocking"))})),I(this,"onRequestClose",(()=>{this.props.setError(null),this.props.onRequestClose()})),I(this,"render",(()=>{const{isModalOpen:e,nion:{block:t}}=this.props;return y.createElement(u.V,{isOpen:e,onCloseRequest:this.onRequestClose,title:this.headerText()},t.request.isLoading||!t.request.isLoaded?y.createElement(f.T,null):y.createElement(y.Fragment,null,this.renderReasons(),this.renderContent(),this.renderFooter()))}))}componentDidUpdate(e){var t,n;e.userToBlock&&(null===(t=this.props.userToBlock)||void 0===t?void 0:t.id)!==(null===(n=e.userToBlock)||void 0===n?void 0:n.id)&&this.props.nion.block.actions.get()}},I(a,"contextType",s.LocaleContext),I(a,"propTypes",{nion:v().object,closeModal:v().func,currentUser:v().object,isWorking:v().bool,isModalOpen:v().bool,onRequestClose:v().func,onBlockOrUnblock:v().func,setIsWorking:v().func,selectedReason:v().string,setSelectedReason:v().func,userToBlock:v().object,error:v().string,setError:v().func}),r=a))||r)||r)||r)||r)||r;D.propTypes={currentUser:v().object,userToBlock:v().object,onRequestClose:v().func,isModalOpen:v().bool,setIsWorking:v().bool,closeModal:v().func,setSelectedReason:v().func,selectedReason:v().number};const R=D},62886:(e,t,n)=>{n.d(t,{ZP:()=>i});var r=n(14890),a=n(576405);const i=(0,r.UY)({modal:a.ZP})},576405:(e,t,n)=>{n.d(t,{Mr:()=>g,ZP:()=>m,_h:()=>h,h7:()=>p});var r=n(227361),a=n.n(r);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const s=e=>`modules/blockUser/${e}`,c=s("OPEN_MODAL"),d=s("CLOSE_MODAL"),u={isModalOpen:!1},m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case c:return o(o({},e),{},{isModalOpen:!0});case d:return o(o({},e),{},{isModalOpen:!1});default:return e}},p=()=>({type:c}),g=()=>({type:d}),h=e=>Boolean(a()(e.modules,"blockUser.modal.isModalOpen"))},845685:(e,t,n)=>{n.d(t,{ZP:()=>o});var r=n(451121),a=n(318588),i=n(62886);const o=(0,r.m)("blockUser",i.ZP)(a.Z)},335294:(e,t,n)=>{n.d(t,{Y:()=>a});var r=n(432645);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{dataKey:`tiers:${e}`,endpoint:(0,r.R)(`/rewards/${e}`,t)}}},396486:(e,t,n)=>{var r=n(740992),a=n(983359),i=n(480549),o=n(569640),l=n(937713),s=n(864945),c=n(505164),d=n(921968),u=n(103881),m=n(45697),p=n.n(m),g=n(667294),h=n(418093),f=n(721400),b=n(880924),v=n(434015),y=n(914779),x=n(602542),E=n(259926),w=n(566316),C=n(119841),k=n(307716),T=n(814093),P=n(736343),O=n(670075),_=n(774136),S=n(911121),I=n(229081),A=n(27685);function j(e){var t;let{campaign:n}=e;const r=(0,S.y)("enableSeoExperiments"),a=(0,I.a)(_.fN);if(r&&"has_schema"===(null==a||null===(t=a.exposureData)||void 0===t?void 0:t.variantName)){const e=(e=>{const t={"@type":"Person",name:e.name};if(e.avatarPhotoImageUrls){const n={"@type":"ImageObject",contentUrl:e.avatarPhotoImageUrls.default,thumbnailUrl:e.avatarPhotoImageUrls.thumbnail};t.image=n}const n={"@context":"http://schema.org","@type":"ProfilePage",author:t};if(e.summary){const t={"@type":"Thing",description:e.summary.replace(/(<([^>]+)>)/gi,"")};n.about=t}if(e.coverPhotoUrlSizes){var r,a;const t={"@type":"ImageObject",representativeOfPage:!0,contentUrl:null===(r=e.coverPhotoUrlSizes)||void 0===r?void 0:r.large,thumbnailUrl:null===(a=e.coverPhotoUrlSizes)||void 0===a?void 0:a.small};n.primaryImageOfPage=t}return e.createdAt&&(n.dateCreated=e.createdAt),e.publishedAt&&(n.datePublished=e.publishedAt),(0,A.k)(e,n),n})(n);return g.createElement(x.s,null,g.createElement("script",{type:"application/ld+json"},JSON.stringify(e,null,"\t")))}return null}var D=n(285145),R=n(468254),L=n(797067),z=n(280887),U=n(218659),M=n(492041),B=n(623338),F=n(173743),Z=n(937720),N=n(796359),q=n(961080),V=n(505838),$=n(354355),W=n(398032),J=n(169073),H=n(671893),K=n(242064),G=n(391036),X=n.n(G),Q=n(351914),Y=n(177533),ee=n(955261),te=n(365359),ne=n(86046),re=n(435994),ae=n(526965),ie=n(468484),oe=n(341709),le=n(593406),se=n(692330),ce=n(599757),de=n(322750),ue=n(892543),me=n(999007),pe=n(179302),ge=n(839301),he=n(558119),fe=n(297292);const be=(0,me.translate)(me.DEFAULT_LOCALE,"Report this creator"),ve=(0,me.translate)(me.DEFAULT_LOCALE,"Unblock this creator"),ye=(0,me.translate)(me.DEFAULT_LOCALE,"Block this creator");var xe=n(140085),Ee=n(948799),we=n(731180),Ce=n(868963),ke=n(893540);const Te=()=>null,Pe={},Oe=g.memo((e=>{let{campaign:t,currentUser:n,postResource:r,handlePostClick:a,isLockedPostJoinModalExperimentEnabled:i}=e;const{accessRules:o,audio:l,audioPreview:s,commentCount:c,contentTeaserText:d,currentUserCanView:u,currentUserCanReport:m,currentUserHasLiked:p,id:h,images:f,isPaid:b,image:v,likeCount:y,minCentsPledgedToView:x,patreonUrl:E,patronCount:w,poll:C,postFile:k,publishedAt:T,teaserText:P,title:O,thumbnail:_,upgradeUrl:S,user:I,tiChecks:A,moderatorActions:j,videoPreview:D,postType:R}=r,[L,z]=(0,ke.J)(r,t),{postDisplayType:U,media:M,content:B}=(0,we.Z)(r),F={accessRules:o,audio:l,audioPreview:s,author:I,campaign:t,commentCount:c,commentIsLikedByCreatorIconColor:xe.J.Color.Primary,contentTeaserText:d,content:B,currentUser:n,currentUserCanDelete:null,currentUserCanView:u&&!(0,te.n)("public"),currentUserCanReport:m,currentUserIsOwner:!1,currentUserPledge:null,currentUserPledgeAmount:null,feedName:he.C7,id:h,images:f,isLoggedOut:Boolean(n),isNsfw:t.isNsfw,isPaid:b,likeCount:y,image:v,likesOnPost:Pe,logTagClick:Te,media:M,minCentsPledgedToView:x,noHandling:!n,onClickUser:Te,onDeleteClick:Te,onLikeClick:Te,onTagClick:Te,patreonUrl:E,patronCount:w,poll:C,postFile:k,postContextOwnerId:(0,ce.U)((()=>t.creator.id)),postDisplayType:U,publishedAt:T,retrieveLikes:Te,shareButtons:(0,Ce.ib)(r),showTeaser:!0,teaserText:P,thumbnail:_,title:O,upgradeUrl:S,isMonthly:(0,ce.U)((()=>t.isMonthly)),wasPostedByCampaignOwner:!0,tiChecks:A,moderatorActions:j,videoPreview:D,postType:R,postResource:r,currentUserHasLiked:p,likeLoading:!1,handlePostClick:()=>a(z,L),isLockedPostJoinModalExperimentEnabled:i};return g.createElement(Ee.Z,F)}));Oe.propTypes={campaign:p().object,currentUser:p().object,postResource:p().object,handlePostClick:p().func,isLockedPostJoinModalExperimentEnabled:p().bool};const _e=Oe;var Se=n(517308),Ie=n(499825),Ae=n(297397),je=n(126469),De=n(392359);const Re=(e,t)=>{const n=Date.now();return null==e?void 0:e.filter((e=>new Date(e.publishedAt).getTime()>n-864e5*t))},Le=e=>{let{campaign:t,posts:n}=e;(0,se.b)();const r=Re(n,31),a=Re(n,7),i=(0,ce.U)((()=>t.name));let o=!1,l=null;(null==a?void 0:a.length)>1?(o=!0,l=null==a?void 0:a.length):(null==r?void 0:r.length)>1&&(l=null==r?void 0:r.length);let s=l===(null==n?void 0:n.length)?"+":null;return g.createElement(U.x,{mv:2},g.createElement(N.R,{align:N.R.Align.Center,size:N.R.Size.Md,el:N.R.El.H2},"Recent posts by ",i),l&&g.createElement(U.x,{mt:3,mb:5,display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center},o?g.createElement(pe.x,{color:pe.x.Color.Gray2},i," posted ",g.createElement(me.Decimal,{value:l}),s," times in the last week"):g.createElement(pe.x,{color:pe.x.Color.Gray2},i," posted ",g.createElement(me.Decimal,{value:l}),s," times in the last month")))},ze=e=>{var t;let{allPostsCount:n,allPostsUrl:r,campaign:a,currentUser:i,isLoading:o,onClickSeeAllPosts:l,posts:s}=e;(0,se.b)();const c=(0,ce.U)((()=>a.creator.id))&&(0,ce.U)((()=>a.creator.id))===(0,ce.U)((()=>i.id)),d=(0,C.dA)("isPublished"),u=(0,I.a)("lockedPostJoinModal"),m="variant"===(null==u||null===(t=u.exposureData)||void 0===t?void 0:t.variantName),[p,h]=(0,g.useState)(!1),[f,b]=(0,g.useState)(),[v,y]=(0,g.useState)(),[x,E]=(0,g.useState)(),w=e=>(t,n)=>{var r,i,o,l;b(t),y(n),E(null==e?void 0:e.id),h(!0),(0,Ie.A)({access_rule_type:(0,De.c3)(e.accessRules),campaign_id:null!==(r=null==a?void 0:a.id)&&void 0!==r?r:"",creator_id:null!==(i=null==a||null===(o=a.creator)||void 0===o||null===(l=o.id)||void 0===l?void 0:l.toString())&&void 0!==i?i:"",currency:(null==a?void 0:a.currency)||"",min_cents_pledged_to_view:e.minCentsPledgedToView||0,post_id:e.id})};if(0===n&&!d)return g.createElement(fe.Z,{currentUserIsOwner:c,feedName:he.vA});if(0===n&&d)return null;if(o)return g.createElement(g.Fragment,null,n&&n>0&&g.createElement(Le,{campaign:a,posts:s}),g.createElement(U.x,{alignItems:U.x.AlignItems.Center,display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center,mv:6},g.createElement(ge.T,{size:ge.T.Size.Lg,color:ge.T.Color.Gray3})));if(!s.length)return null;const k=n>10;return g.createElement(g.Fragment,null,g.createElement(Se.D,{campaign:a,isBecomePatronDialogOpen:p,joinText:f,joinUrl:v,setIsBecomePatronDialogOpen:h,handleOnClickJoin:()=>{var e;(0,je.F)({campaign_id:null!==(e=null==a?void 0:a.id)&&void 0!==e?e:"",post_id:x})},handleOnClickExplore:()=>{var e;(0,Ae.O)({campaign_id:null!==(e=null==a?void 0:a.id)&&void 0!==e?e:"",post_id:x})},isCreatorPublicPage:!1}),g.createElement(U.x,{position:U.x.Position.Relative,fluidWidth:!0},g.createElement(Le,{campaign:a,posts:s}),s.map((e=>g.createElement(U.x,{key:e.id,mv:3},g.createElement(_e,{key:e.id,campaign:a,currentUser:i,postResource:e,handlePostClick:w(e),isLockedPostJoinModalExperimentEnabled:m})))),k&&g.createElement(U.x,{mb:6,mh:{xs:2,md:0}},g.createElement(W.z,{loggerId:"pages-fan-page-CampaignPostFeed-see-all-posts",fluid:!0,href:r,onClick:l},"See all ",g.createElement(me.Decimal,{value:n})," posts"))))};Le.propTypes={campaign:p().object.isRequired,posts:p().array.isRequired},ze.propTypes={allPostsCount:p().number,allPostsUrl:p().string,campaign:p().object.isRequired,currentUser:p().object,isLoading:p().bool,onClickSeeAllPosts:p().func,posts:p().array.isRequired};const Ue=ze;var Me=n(432645);function Be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Fe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Be(Object(n),!0).forEach((function(t){Ze(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Be(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ne=n(323690),qe=n(538124),Ve=n(822977);const $e=g.memo((e=>{let{baseUrl:t,campaign:n,currentUser:r,renderAsClient:a,canSeeNsfw:i,canCampaignBeAgeGated:o}=e;const l=n.id,s=(0,ce.U)((()=>r.id)),c=(0,C.dA)("numPosts"),m=new URL((0,ce.U)((()=>(0,d.ZP)().location.href),"")).searchParams,[p,,{isLoading:h,status:f}]=(0,u.Z)((e=>{let{allPatronsFilter:t,campaignId:n,dataKey:r,isPublicFilter:a,queryParams:i,size:o}=e;return{dataKey:null!=r?r:"campaignPostFeed",endpoint:(0,Me.R)("posts",{include:["user.null","access_rules.tier.null","attachments.null","audio.null","audio_preview.null","images.null","poll.choices.null","poll.current_user_responses.null"],fields:{user:["full_name","image_url","url"],post:["comment_count","content","content_teaser_text","current_user_can_view","current_user_can_report","embed","image","is_paid","like_count","min_cents_pledged_to_view","patreon_url","pledge_url","post_file","post_type","post_metadata","published_at","teaser_text","thumbnail","title","upgrade_url","url","video_preview"],reward:[],"access-rule":["access_rule_type","amount_cents","post_count"],media:["download_url","image_urls","metadata"]},filter:Fe(Fe(Fe({campaign_id:n,contains_exclusive_posts:!0,is_draft:!1},null!=i&&i.get("filters[tag]")?{tag:i.get("filters[tag]")}:{}),t?{all_patrons:t}:{}),a?{is_public:a}:{}),page:{size:null!=o?o:10},sort:"-published_at","json-api-use-default-includes":!1}),fetchOnMount:!0}})({campaignId:l,queryParams:m}),[l]),b=(0,g.useCallback)((()=>{(0,Ne.w)({campaign_id:l,all_posts_count:c}),(0,qe.Kz)({domain:Ve.C.DOMAIN,title:Ve.C.CLICKED_SEE_ALL_POSTS,info:{all_posts_count:c,campaign_id:l,current_user_id:s}})}),[c,l,s]),v=p||[];m.delete("fan_landing");const y=m.toString();let x=`${t}/posts`;return y&&(x+=`?${y}`),g.createElement(Ue,{allPostsCount:c,campaign:n,currentUser:r,isLoading:h||f===de._,onClickSeeAllPosts:b,posts:v,allPostsUrl:x})}));$e.propTypes={campaign:p().object.isRequired,currentUser:p().object,baseUrl:p().string,renderAsClient:p().bool,canSeeNsfw:p().bool,canCampaignBeAgeGated:p().bool};const We=(0,h.qC)(ue.ZP,(0,C.sQ)("baseUrl"),E.Z)($e);var Je=n(754891),He=n(650),Ke=n(302378);function Ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Xe extends g.Component{constructor(){super(...arguments),Ge(this,"renderMerchPromo",(()=>g.createElement(U.x,{display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center,alignItems:U.x.AlignItems.Center,pb:1},g.createElement(U.x,{mr:1},g.createElement(Je.$,{color:xe.J.Color.Forest,size:xe.J.Size.Sm,verticalAlign:xe.J.VerticalAlign.Middle})),g.createElement(pe.x,{verticalAlign:pe.x.VerticalAlign.Middle,color:pe.x.Color.Gray2,weight:pe.x.Weight.Medium},"Get exclusive patron-only merch")))),Ge(this,"renderSpecialOfferPromo",(()=>{const{activeOffer:{endsAt:e}}=this.props;return g.createElement(U.x,{display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center,alignItems:U.x.AlignItems.Center,pb:1},g.createElement(U.x,{mr:.5},g.createElement(He.F,{size:xe.J.Size.Sm,color:xe.J.Stroke.Yellow,verticalAlign:xe.J.VerticalAlign.Middle})),g.createElement(pe.x,{verticalAlign:pe.x.VerticalAlign.Middle,color:pe.x.Color.Gray2,weight:pe.x.Weight.Medium},g.createElement(g.Fragment,null,"Special Offer")," ",g.createElement(Ke.Z,{endsAt:e})))}))}render(){const{activeOffer:e,merchItems:t}=this.props;return g.createElement(U.x,{mh:2},e&&this.renderSpecialOfferPromo(),t.length>1&&this.renderMerchPromo())}}Ge(Xe,"contextType",me.LocaleContext),Ge(Xe,"propTypes",{activeOffer:p().object,merchItems:p().array.isRequired});const Qe=Xe,Ye=g.memo((()=>{const[e]=(0,u.Z)("campaign"),t=(0,ce.U)((()=>(0,O.mR)(e.rewards)),[]);return g.createElement(Qe,{activeOffer:(0,ce.U)((()=>e.activeOffer)),merchItems:t})}));var et=n(935218),tt=n(577658),nt=n(77885);function rt(e){let{isFollowing:t,isLoading:n,handleFollowClick:r}=e;return(0,se.b)(),g.createElement(W.z,{loggerId:"pages-fan-page-FollowButton-follow",fluid:!0,isLoading:n,onClick:r,icon:t?nt.A:null},t?g.createElement(g.Fragment,null,"Following"):g.createElement(g.Fragment,null,"Follow"))}rt.propTypes={isFollowing:p().bool.isRequired,isLoading:p().bool,handleFollowClick:p().func.isRequired};var at=n(261165);const it=e=>({dataKey:"followActions",endpoint:(0,Me.R)("follow"+(e?`/${e}`:""),{include:["campaign.current_user_follow.null"],fields:{campaign:["id"],follow:["id"]},"json-api-use-default-includes":!1})});var ot=n(58526),lt=n(522675);const st=g.memo((function(){const[{id:e}]=(0,u.Z)("campaign"),{offersFreeMembership:t}=(0,ot.E)(),n=(0,lt.x)(),r=null==n?void 0:n.id,[,a,i]=(0,u.Z)(it()),[o,{get:l},s]=(0,u.Z)({dataKey:"campaignFollow",endpoint:(0,Me.R)(`/campaigns/${e}`,{include:["current_user_follow.null"],fields:{campaign:["id"],follow:["id"]}}),fetchOnMount:!1});(0,g.useEffect)((()=>{r&&l()}),[r,l]);const c=null==o?void 0:o.currentUserFollow,m=!!c,p=r&&("not called"===s.status||s.isLoading||i.isLoading);return!m&&t?null:g.createElement(rt,{isFollowing:m,isLoading:p,handleFollowClick:()=>{(0,qe.Kz)({domain:et.O.DOMAIN,title:et.O.CLICKED_FOLLOW,info:{attempted_follow_type:m?"unfollow":"follow",campaign_id:e,current_user_id:r,is_logged_in:Boolean(r),context:"landing_page"}}),r?c?(e=>{let{id:t,actions:n}=e;n.delete(it(t),{refToDelete:{type:"follow",id:t}})})({id:c.id,actions:a}):(e=>{let{currentUserId:t,campaignId:n,actions:r}=e;const a=new at.Z("follow");return a.addRelationship("follower",{type:"user",id:t}),a.addRelationship("campaign",n),r.post(a.toRequest())})({currentUserId:r,campaignId:e,actions:a}).then((()=>{(e=>{let{campaignId:t}=e;(0,d.ZP)().location.href=`/bePatron?c=${t}&fc=true`})({campaignId:e})})):(0,tt.Z)()}})}));var ct=n(356961),dt=n(16420),ut=n(378813),mt=n(392853),pt=n(50533),gt=n(407278),ht=n(54181),ft=n(845685),bt=n(576405),vt=n(963931),yt=n(227361),xt=n.n(yt),Et=n(442279),wt=n(22182),Ct=n(271336),kt=n(442555),Tt=n(965815),Pt=n(29116);function Ot(){return Ot=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ot.apply(this,arguments)}const _t=e=>{let{campaign:t,userCanBlock:n,userCanReport:r,isUserBlocked:a,openBlockUserModal:i,isBlockUserModalOpen:o,closeBlockUserModal:l}=e;const s=(0,se.b)(),[c,d]=(0,g.useState)(!1),[u,m]=(0,g.useState)(!1);if(!n&&!r)return null;const p=g.createElement(ct.Kq,null,n&&g.createElement(dt.A,{color:dt.A.Color.Gray1,"data-tag":"block-button",onClick:()=>{i(),(0,Ct.u)({campaign_id:null==t?void 0:t.id}),(0,Tt.v)({title:Pt.o.CLICKED_BLOCK_BUTTON,info:{context:"landing_page"}})},underline:!1},a?ve:ye),r&&g.createElement(dt.A,{color:dt.A.Color.Gray1,"data-tag":"report-button",onClick:e=>{e.preventDefault(),m(!0),(0,kt.i)({campaign_id:null==t?void 0:t.id}),(0,Tt.v)({title:Pt.o.CLICKED_REPORT_BUTTON,info:{context:"landing_page"}})},underline:!1},be));return g.createElement(U.x,{fluidWidth:!0},g.createElement(ut.J,{hideArrow:!0,renderMode:"portal",preferredPlacement:ut.J.Placement.Bottom,content:p,isOpen:c,onCloseRequest:()=>d(!1)},(e=>{let{ref:n,ariaProps:r}=e;return g.createElement(W.z,Ot({loggerId:"pages-fan-page-MoreOptionsButton",ref:n,icon:mt.F},r,{"aria-label":(0,me.translate)(s,"More actions",void 0,"Aria label to show more actions"),onClick:()=>{(0,wt.g)({campaign_id:null==t?void 0:t.id}),(0,Tt.v)({title:Pt.o.CLICKED_MORE_OPTIONS_BUTTON,info:{context:"landing_page"}}),d(!c)}}))})),g.createElement(ft.ZP,{onRequestClose:function(){o&&l()},userToBlock:t.creator}),g.createElement(gt.Z,{useModal:!0,modalIsOpen:u,targetType:ht.DC,targetId:t.id,onReportClose:()=>m(!1)}))};_t.propTypes={campaign:p().object.isRequired,userCanBlock:p().bool.isRequired,userCanReport:p().bool.isRequired,isBlockUserModalOpen:p().bool.isRequired,isUserBlocked:p().bool.isRequired,openBlockUserModal:p().func.isRequired,closeBlockUserModal:p().func.isRequired};const St=(0,pt.$j)(((e,t)=>{return{isBlockUserModalOpen:bt._h(e),isUserBlocked:(n=t.campaign.creator.id,(0,Et.P1)((0,vt.yA)(`modules:blockUser:${n}`),(e=>!!xt()(e,"blockAction.id"))))(e)};var n}),{openBlockUserModal:bt.h7,closeBlockUserModal:bt.Mr})(_t),It=g.memo((function(){const e=(0,lt.x)(),[t]=(0,u.Z)("campaign"),n=(0,ce.U)((()=>t.creator.id)),r=(0,ce.U)((()=>e.id)),a=r&&n&&r===n,i=Boolean(e&&!a),o=Boolean((0,ce.U)((()=>e.campaign))&&!a);return g.createElement(St,{campaign:t,userCanReport:i,userCanBlock:o,currentUserId:r})}));var At=n(572060),jt=n(577675),Dt=n(131843),Rt=n(549511),Lt=n(285433),zt=n(23279),Ut=n.n(zt),Mt=n(918879),Bt=n(903478),Ft=n(788699),Zt=n(217980),Nt=n(153117);const qt=(0,g.memo)((function(e){let{content:t,onResize:n}=e;return g.createElement(Ft.Z,{bounds:!0,onResize:n},(e=>{let{measureRef:n}=e;return g.createElement(Nt.D,null,g.createElement("div",{"data-tag":"summary-container",ref:n},g.createElement(Zt.Z,{dirtyHtml:t,allowStyles:!0,allowIframe:!0,inheritTextStyling:!0})))}))}));function Vt(e){let{content:t,campaign:n}=e;const[r,a]=(0,g.useState)(),[i,o]=(0,g.useState)(!0),l=(0,g.useRef)(!1),s=((0,se.b)(),void 0===r||r>450);(0,g.useEffect)((()=>(l.current=!0,()=>{l.current=!1})),[]);const c=Ut()((()=>{null!=n&&n.id&&((0,Bt.L)({campaign_id:n.id}),(0,Mt.g)({campaign_id:n.id}))}),250),d=Ut()((e=>{var t;l.current&&a(null==e||null===(t=e.bounds)||void 0===t?void 0:t.height)}),250);return g.createElement(g.Fragment,null,s?g.createElement("div",null,g.createElement(Rt.U,{collapsedHeight:400,isCollapsed:i,fadeBottom:!0},g.createElement(qt,{content:t,onResize:d})),i&&g.createElement(Lt.h,{loggerId:"pages-fan-page-Summary-show-more",onClick:()=>{o(!1),c()}},"Show more")):g.createElement(qt,{content:t,onResize:d}))}var $t=n(437610),Wt=n(574694),Jt=n(946928);const Ht=e=>{let{name:t,mainVideoEmbed:n,summary:r,campaign:a}=e;const i=(0,g.useRef)(null);return(0,g.useEffect)((()=>{var e;const t=null===(e=i.current)||void 0===e?void 0:e.querySelector("iframe");focus();const n=()=>{var e;t&&t===document.activeElement&&(0,$t.J)({campaign_id:null!==(e=null==a?void 0:a.id)&&void 0!==e?e:""})};return window.addEventListener("blur",n),()=>{window.removeEventListener("blur",n)}}),[null==a?void 0:a.id]),n||r?g.createElement(Wt.Z,{log:()=>{var e;return(0,Jt._)({campaign_id:null!==(e=null==a?void 0:a.id)&&void 0!==e?e:""})}},n&&g.createElement(U.x,{mb:2},g.createElement(Dt.Z,{innerHTML:n.replace("autoplay=1","autoplay=0"),ref:i})),r&&g.createElement(Vt,{content:r,campaign:a})):null};Ht.propTypes={mainVideoEmbed:p().string,name:p().string,summary:p().string,campaign:p().object};const Kt=Ht,Gt=g.memo((()=>{const[e]=(0,u.Z)("campaign"),{name:t,mainVideoEmbed:n,summary:r}=(0,ce.U)((()=>e),{});return g.createElement(jt.E,{rootMargin:"100px"},g.createElement(At.Z,null,g.createElement(Kt,{name:t,mainVideoEmbed:n,summary:r,campaign:e})))}));var Xt=n(496486),Qt=n(895494),Yt=n(602720),en=n(653028),tn=n(396553),nn=n(82930),rn=n(303936);function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const ln=e=>{let{campaign:t,creator:n,currentUserIsOwner:r,analyticsInfo:a}=e;(0,se.b)();const[i,o]=(0,g.useState)(!1),l=(0,Ce.Tw)(t,n,null,null,r),s=(0,Xt.pick)(l,[Yt.y.Twitter,Yt.y.Facebook,Yt.y.Pinterest,Yt.y.CopyLink]);return g.createElement(Qt.Z,{buttons:s,card:!1,isPopoverOpen:i,onOuterAction:()=>{o(!1)},onShareClick:e=>{(0,en.L)({campaign_id:null==t?void 0:t.id,is_owner:r,is_already_patron:null==a?void 0:a.is_already_patron,social:(0,Yt.j)(e),social_raw:e}),(0,rn.C)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){on(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({social:(0,Yt.j)(e)},a))},popover:!0,isPost:!1},g.createElement(W.z,{loggerId:"pages-fan-page-SharePopover-share",fluid:!0,onClick:()=>{o(!i),(0,tn.Z)({campaign_id:null==t?void 0:t.id,is_owner:r,is_already_patron:null==a?void 0:a.is_already_patron}),(0,nn._)({campaign_id:t.id,is_owner:r,is_already_patron:null==a?void 0:a.is_already_patron,source:null==a?void 0:a.source})}},"Share"))};ln.propTypes={campaign:p().object.isRequired,creator:p().object.isRequired,currentUserIsOwner:p().bool.isRequired,analyticsInfo:p().shape({source:p().string.isRequired,campaign_id:p().string.isRequired,is_owner:p().bool.isRequired,is_already_patron:p().bool.isRequired})};const sn=ln,cn=g.memo((()=>{const[e]=(0,u.Z)("campaign"),t=(0,lt.x)(),n=(0,z.Z)(e,t);let r={campaign_id:e.id,is_owner:!!n,is_already_patron:!!e.currentUserPledge,source:"other"};return g.createElement(sn,{campaign:e,creator:e.creator,analyticsInfo:r,currentUserIsOwner:!!n})}));var dn=n(654096),un=n(667159),mn=n(739519),pn=n(275692),gn=n(836964),hn=n(258741),fn=n(837621),bn=n(758251),vn=n(837899),yn=n(628862),xn=n(613266),En=n(912493),wn=n(547718),Cn=n(918467),kn=n(768379),Tn=n(135190),Pn=n(340502),On=n(85504),_n=n(953848),Sn=n(642341),In=n(430494),An=n(962179),jn=n(335827),Dn=n(423314);const Rn=kn.z.div.withConfig({componentId:"sc-1rlfkev-0"})(["img{max-width:100%;}a{color:",";}p:empty{overflow:auto;margin-bottom:1em !important;}overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;font-size:",";font-weight:",";"],(e=>e.theme.textButtons.getColor("primary",e.theme.colors)),B.T.global.fontSizes.body.md,B.T.global.fontWeights.body.default),Ln=e=>{var t;let{isSmScreen:n,reward:r,isDescriptionExpanded:a,setIsDescriptionExpanded:i,renderAsClient:o,isCarouselItem:l}=e;(0,se.b)();const s=function(e,t){var n;let r;return r=void 0===t?225:t?130:320,(null==e||null===(n=e.description)||void 0===n?void 0:n.length)>r}(r,n),c=(null==r||null===(t=r.description)||void 0===t?void 0:t.length)>0;return g.createElement(U.x,null,o&&s?g.createElement(Rt.U,{id:r.id,isCollapsed:!a,collapsedHeight:{xs:l?126:40,md:126},fadeBottom:!0,fadeHeight:50},c&&g.createElement(Rn,null,g.createElement(Zt.Z,{allowStyles:!0,allowIframe:!0,allowTarget:!0,dirtyHtml:r.description}))):c&&g.createElement(Rn,null,g.createElement(Zt.Z,{allowStyles:!0,allowIframe:!0,allowTarget:!0,dirtyHtml:r.description})),s&&!a&&g.createElement(U.x,{textAlign:U.x.TextAlign.Center},g.createElement(dt.A,{color:dt.A.Color.Primary,onClick:()=>i(!0)},"Show more")))};Ln.propTypes={isDescriptionExpanded:p().bool,isSmScreen:p().bool,reward:p().object,setIsDescriptionExpanded:p().func,renderAsClient:p().bool.isRequired,isCarouselItem:p().bool};const zn=(0,h.qC)(ue.ZP)(Ln);var Un=n(96730),Mn=n(825149),Bn=n(920986),Fn=n(300451),Zn=n(182066),Nn=n(40642);function qn(e){return Math.max(null==e?void 0:e.patronAmountCents,In.Pd)}function Vn(e){const{reward:t,payPerName:n,hasFreeTrialInCampaign:r,hideTierImage:a}=e,i=(0,se.b)();return function(e,t,n,r){return g.createElement(F.L,{css:(0,kn.i)(["text-align:center;"])},g.createElement(U.x,null,e.title&&g.createElement(pe.x,{"data-tag":"tier-title",weight:pe.x.Weight.Bold,el:pe.x.Element.H3,align:pe.x.Align.Center,size:pe.x.Size.Md,noMargin:!1,locale:n},e.title),g.createElement(pe.x,{color:pe.x.Color.Gray2,el:pe.x.Element.Div,size:pe.x.Size.Sm},g.createElement(Nn.Z,{remaining:e.remaining,userLimit:e.userLimit})),e.imageUrl&&!r&&g.createElement(Fn.B,null,g.createElement(Zn.Z,{imageUrl:e.imageUrl})),t))}(t,function(e,t,n,r){const a=function(e,t){return t.showPlusTaxLabel?(0,me.translate)(e,"plus {taxLabel}",{taxLabel:t.salesTaxLabel},"Subtitle on reward card to indicate that there will be additional tax applied. The 'taxLabel' will be passed in translated and depends on the country where it's named differently"):g.createElement(g.Fragment,null)}(n,t),i=pe.x.Element.Div;return g.createElement(U.x,{mv:{xs:1,md:2},display:U.x.Display.Flex,flexDirection:U.x.FlexDirection.Column,justifyContent:U.x.JustifyContent.Center},function(e,t){const n=pe.x.Element.Div,r=pe.x.Weight.Bold,a=g.createElement(Bn.O,{value:qn(t),currency:t.patronCurrency});return g.createElement(pe.x,{el:n,font:pe.x.Font.Title,size:pe.x.Size.Xl,color:pe.x.Color.Dark,weight:r,noMargin:!1},a," / ",e)}(e,t),t.showPlusTaxLabel&&g.createElement(Mn.A,{"data-tag":"vat-text",as:i,size:"md",variant:"content",muted:!0},a),r&&function(e,t){const n=e.freeTrialConfiguration,r="enabled"===(null==n?void 0:n.status),a=pe.x.Element.Div,i=pe.x.Weight.Bold;return g.createElement(F.L,{mt:"4px"},r?g.createElement(pe.x,{align:pe.x.Align.Center,el:a,font:pe.x.Font.Body,size:pe.x.Size.md,weight:i,uppercase:!0,color:pe.x.Color.Gray2},"Free for ",n.durationDays," days"):g.createElement(pe.x,{align:pe.x.Align.Center,el:a,font:pe.x.Font.Body,size:pe.x.Size.md,weight:i,uppercase:!0,color:pe.x.Color.Gray2},"Â "))}(t))}(n,t,i,r),i,a)}Vn.propTypes={reward:p().shape({amountCents:p().number,currency:p().string,description:p().string,id:p().string,imageUrl:p().string,isTwitchReward:p().bool,items:p().array,patronCount:p().number,requiresShipping:p().bool,title:p().string,type:p().string,url:p().string,userLimit:p().number,remaining:p().number,patronAmountCents:p().number,patronCurrency:p().string,showPlusTaxLabel:p().bool,salesTaxLabel:p().string,rewardRecommendations:p().array}).isRequired,hideTierImage:p().bool,payPerName:p().string.isRequired,hasFreeTrialInCampaign:p().bool};var $n,Wn,Jn,Hn,Kn,Gn,Xn,Qn=n(868587);function Yn(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let er=($n=(0,wn.ZP)((e=>{let{campaignId:t,reward:n,campaignDataKey:r="campaign"}=e;return{reward:{dataKey:`reward:${n.id}`},campaign:{dataKey:r}}})),Wn=(0,h.vl)((e=>{var t,n;return{isSmScreen:e.responsive.lte("sm"),reward:null!==(t=null===(n=e.nion.reward)||void 0===n?void 0:n.data)&&void 0!==t?t:e.reward}})),Jn=(0,h.xJ)("isDescriptionExpanded","setIsDescriptionExpanded",(e=>e.expandDescriptionByDefault)),Hn=(0,C.sQ)("currencyMigrationInProgress"),Kn=(0,An.ZP)("membershipTabDiscourageDowngrade"),(0,w.Z)(Gn=$n(Gn=Wn(Gn=Jn(Gn=Hn(Gn=Kn((Xn=class extends g.Component{constructor(){super(...arguments),Yn(this,"renderOfferDetail",(()=>{const{title:e,description:t,endsAt:n}=this.props.activeOffer,r=(0,Dn.rz)(n,this.context);return g.createElement(Sn.Z,{title:e,subtitle:r,description:t,icon:g.createElement(He.F,null),borderColor:"yellow"})})),Yn(this,"renderRecommendationHeader",(()=>{const{reward:e}=this.props,t=(0,En.oY)(e,this.context);return g.createElement(U.x,{"data-tag":"recommendation-header",backgroundColor:B.T.global.primary.action.default,textAlign:U.x.TextAlign.Center},t)})),Yn(this,"renderButtonText",(()=>{const{reward:e,belongsToTier:t,isPatronOfCampaign:n,CTAText:r,isFreeMember:a}=this.props,i=0===e.remaining,o=this.isFreeTrialAvailable();return i?(0,me.translate)(this.context,"Sold out",void 0,"Button on Tier Card to indicate the tier has reached its maximum member"):t?(0,me.translate)(this.context,"Joined",void 0,"Button on Tier Card to indicate that the member has already joined this tier"):o?(0,me.translate)(this.context,"Start free trial",void 0,"Button on Tier Card to indicate that a member can start a free trial to this specific tier"):a?(0,me.translate)(this.context,"Upgrade",void 0,"Message to upgrade your membership from free to paid"):n?(0,me.translate)(this.context,"Change tier",void 0,"Button on Tier Card to indicate that a member that has pledge on other tier of the campaign can change to this one"):r||(0,me.translate)(this.context,"Join",void 0,"Button on Tier Card to indicate that a user can join the specific tier as a patron")})),Yn(this,"getFreeTrialConfiguration",(()=>{const{reward:e}=this.props;return e.freeTrialConfiguration})),Yn(this,"isFreeTrialAvailable",(()=>{var e;return"enabled"===(null===(e=this.getFreeTrialConfiguration())||void 0===e?void 0:e.status)})),Yn(this,"getJoinUrl",(()=>{const{selectRewardHref:e}=this.props;return e&&this.isFreeTrialAvailable()?e+"&is_free_trial=true":e})),Yn(this,"setIsDescriptionExpanded",(e=>{const{reward:t,onExpandTierDescription:n,setIsDescriptionExpanded:r,logOnExpanded:a}=this.props;return a&&a(e),n?n(t.id):r(e)})),Yn(this,"renderCTA",(e=>{const{reward:t,currencyMigrationInProgress:n,selectRewardAnnualHref:r,belongsToTier:a}=this.props,i=0===t.remaining,o=this.renderButtonText(),l=n?null:this.getJoinUrl(),s=n?null:r,{showAnnualCTA:c,discountDecimal:d}=(0,T.oK)(t),u=0===d?g.createElement(dt.A,{onClick:this.handleAnnualJoinButtonClick.bind(this),href:s,"data-tag":"annual-checkout-continue-button"},g.createElement(g.Fragment,null,"or pay annually")):g.createElement(dt.A,{onClick:this.handleAnnualJoinButtonClick.bind(this),href:s,"data-tag":"annual-checkout-continue-button"},g.createElement(g.Fragment,null,"or save ",g.createElement(me.Percent,{value:d})," if you pay annually"));return g.createElement(ie.Z,null,g.createElement(U.x,{mb:e},g.createElement(U.x,{textAlign:U.x.TextAlign.Center},g.createElement(tr,{size:"md",disabled:i||a,variant:a?"outline":"primary",icon:a&&Cn.C,onClick:this.handleJoinButtonClick.bind(this),href:l,"data-tag":"patron-checkout-continue-button","aria-label":`${t.title} ${o}`},o)),!i&&c?g.createElement(U.x,{textAlign:U.x.TextAlign.Center,mt:1},u):null))})),Yn(this,"renderTierContents",(()=>{var e;const{activeOffer:t,campaignId:n,reward:r,isSmScreen:a,isDescriptionExpanded:i,nion:{campaign:{data:o}},payPerName:l,hasFreeTrialInCampaign:s,isCarouselItem:c,hideTierImage:d,hideButtonForSmScreens:u}=this.props,m={xs:1,md:3},p=(0,O.mR)([r],O.nl),h=(0,Qn.wp)(p);return g.createElement(U.x,{"data-tag":"reward-tier-card",alignContent:U.x.AlignContent.FlexStart,alignItems:U.x.AlignItems.Stretch,display:U.x.Display.Flex,flexDirection:U.x.FlexDirection.Column,flexWrap:U.x.FlexWrap.NoWrap,fluidHeight:!0,justifyContent:U.x.JustifyContent.FlexStart},g.createElement(Vn,{reward:r,payPerName:l,hasFreeTrialInCampaign:s,hideTierImage:d}),u?g.createElement(Tn.o,{md:!0,lg:!0,xl:!0},this.renderCTA(m)):this.renderCTA(m),(null==r||null===(e=r.description)||void 0===e?void 0:e.length)>0&&g.createElement(U.x,{alignContent:U.x.AlignContent.FlexStart,alignItems:U.x.AlignItems.FlexStart,display:U.x.Display.Flex,flexDirection:U.x.FlexDirection.Row,flexWrap:U.x.FlexWrap.NoWrap,justifyContent:U.x.JustifyContent.FlexStart},g.createElement(zn,{isSmScreen:a,reward:r,isDescriptionExpanded:i,setIsDescriptionExpanded:this.setIsDescriptionExpanded,isCarouselItem:c})),g.createElement(U.x,{flexGrow:1},g.createElement(Un.Z,{campaignId:n,showBenefits:(0,jn.y)(o),tier:r})),t&&this.renderOfferDetail(),p.length>0&&(h?g.createElement(On.Z,{description:h.description,items:(0,Qn.cw)(p),reward:r}):g.createElement(_n.Z,{items:p,reward:r})))})),Yn(this,"render",(()=>{const{hasRecommendationsInSubset:e,isCarouselItem:t,reward:n}=this.props,r="calc(100% - 2rem)";return(0,En.Zr)(n)?g.createElement(At.Z,{fluidHeight:!0,noPadding:!0},g.createElement(nr,null,this.renderRecommendationHeader(),g.createElement(At.Z.Content,null,this.renderTierContents()))):g.createElement(U.x,{mt:e?t?4:{sm:0,md:4}:0,height:e?t?r:{sm:"100%",md:r}:"100%"},g.createElement(At.Z,{fluidHeight:!0},this.renderTierContents()))}))}get rewardMonthlyAmount(){const{reward:e}=this.props;return Math.max(null==e?void 0:e.patronAmountCents,In.Pd)}logPatronClickedJoinTier(){const{campaignId:e,isPatronOfCampaign:t,membershipTabDiscourageDowngrade:n}=this.props;t&&(0,Pn.h)({campaign_id:e,membership_tab_discourage_downgrade:n})}handleJoinButtonClick(){const{currencyMigrationInProgress:e,onSelectReward:t,setMultiCurrencyModalOpen:n}=this.props;this.logPatronClickedJoinTier(),e?n(!0):"function"==typeof t&&t(bn.ZP.MONTHLY)}handleAnnualJoinButtonClick(){const{onSelectReward:e,currencyMigrationInProgress:t,setMultiCurrencyModalOpen:n}=this.props;this.logPatronClickedJoinTier(),t?n(!0):"function"==typeof e&&e(12)}},Yn(Xn,"contextType",me.LocaleContext),Yn(Xn,"propTypes",{campaignId:p().string,reward:p().shape({amountCents:p().number,currency:p().string,description:p().string,id:p().string,imageUrl:p().string,isTwitchReward:p().bool,items:p().array,patronCount:p().number,requiresShipping:p().bool,title:p().string,type:p().string,url:p().string,userLimit:p().number,remaining:p().number,patronAmountCents:p().number,patronCurrency:p().string,showPlusTaxLabel:p().bool,salesTaxLabel:p().string,rewardRecommendations:p().array,freeTrialConfiguration:p().shape({status:p().string,durationDays:p().number})}),nion:p().object,onSelectReward:p().func,selectRewardHref:p().string,selectRewardAnnualHref:p().string,payPerName:p().string,setMultiCurrencyModalOpen:p().func,hasRecommendationsInSubset:p().bool,hasFreeTrialInCampaign:p().bool,isPatronOfCampaign:p().bool,isFreeMember:p().bool,belongsToTier:p().bool,onExpandTierDescription:p().func,logOnExpanded:p().func,isCarouselItem:p().bool,expandDescriptionByDefault:p().bool,isDescriptionExpanded:p().bool,setIsDescriptionExpanded:p().func,isSmScreen:p().bool,CTAText:p().string,hideTierImage:p().bool,hideButtonForSmScreens:p().bool,activeOffer:p().object,currencyMigrationInProgress:p().bool,membershipTabDiscourageDowngrade:p().bool}),Yn(Xn,"defaultProps",{hasRecommendationsInSubset:!1,isCarouselItem:!1}),Gn=Xn))||Gn)||Gn)||Gn)||Gn)||Gn)||Gn);const tr=(0,kn.z)(W.z).withConfig({componentId:"sc-ibazdf-0"})(["width:100%;"]),nr=kn.z.div.withConfig({componentId:"sc-ibazdf-1"})(["background-color:",";border-width:",";border-radius:",";border-color:",";border-style:solid;box-sizing:border-box;height:100%;padding:0;"],B.T.global.bg.base.default,B.T.global.borderWidth.thick,B.T.global.radius.md,B.T.global.primary.action.default);let rr;(0,kn.i)(["filter:blur(10px);"]),function(e){e.MOST_RECENT_PAYMENT_NOT_SETTLED="most_recent_payment_not_settled",e.HAS_FAILED_BILL="has_failed_bill",e.BILLING_IN_PROGRESS="billing_in_progress",e.AB_MIGRATION_IN_PROGRESS="ab_migration_in_progress",e.AB_CAMPAIGN_PAUSED="ab_campaign_paused"}(rr||(rr={}));var ar=n(650308);const ir=e=>{let{isOpen:t,toggleOpen:n}=e;return(0,se.b)(),g.createElement(g.Fragment,null,g.createElement(ar.V,{id:"multicurrency-in-progress-selector-modal",isOpen:t,onCloseRequest:()=>n(!1),title:g.createElement(ar.V.Title,{"data-tag":"multicurrency-in-progress-selector-modal-title"},"Check back in a bit")},g.createElement(q.r,{p:1},g.createElement(V.X,null,g.createElement(pe.x,{el:pe.x.Element.P},"This campaign is currently under maintenance. Try again in 15 minutes.")))))};ir.propTypes={isOpen:p().bool,toggleOpen:p().func};const or=ir;function lr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lr(Object(n),!0).forEach((function(t){cr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function cr(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dr(e){let{campaignId:t,activeOffer:n,isMonthly:r,payPerName:a,tiers:i,pledgeUrl:o,isExpandedByDefault:l=!1,campaignDataKey:s,currentTierId:c,isFreeMember:d,isTwoColumn:u}=e;const[m,p]=(0,g.useState)(!1),h=(0,L.Uy)("grid");return i.length?g.createElement(U.x,{pv:1},g.createElement(or,{isOpen:m,toggleOpen:p}),g.createElement(hr,{campaignId:t,isMonthly:r,payPerName:a,setMultiCurrencyModalOpen:p,campaignDataKey:s,currentTierId:c,isFreeMember:d,isTwoColumn:u,pledgeUrl:o,tiers:i,isExpandedByDefault:l,activeOffer:n}),g.createElement("div",{ref:h})):null}function ur(e){let{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,tier:d,index:u,numTiers:m,activeOffer:p,hasRecommendationsInSubset:h,hasFreeTrialInCampaign:f}=e;const{offset:b,sm:v,md:y,lg:x}=function(e,t,n){let r={sm:2,md:0},a=8,i=4,o=4;return n?(r={sm:0,md:0},a=8,i=6,o=6):1===t?(r={sm:2,md:3},a=8,i=6,o=6):2===t&&(r=0===e?{sm:0,md:1}:{sm:0,md:0},a=6,i=5,o=5),{offset:r,sm:a,md:i,lg:o}}(u,m,s),E=(0,C.dA)("showAcastButtonPostPledge"),{href:w,annualHref:k}=function(e,t,n){const r={rid:(0,ce.U)((()=>e.id),"0")};return t&&(r.rss_pledge_flow=!0),{href:(0,un.ZP)(n)("/checkout",sr({},r)),annualHref:(0,un.ZP)(n)("/checkout",sr(sr({},r),{},{cadence:bn.ZP.ANNUAL}))}}(d,E,c),T=!!o,P=!!T&&d.id===o;return g.createElement($.J,{fluidHeight:!0,xs:12,sm:v,md:y,lg:x,offset:b,key:d.id},g.createElement(Wt.Z,{log:()=>(0,hn.$)(fr(d,u,1,t))},g.createElement(er,{campaignId:t,payPerName:(0,yn.Z)({payPerName:r,isMonthly:n}),reward:d,activeOffer:(0,xn.i)({activeOffer:p,reward:d})?p:null,selectRewardHref:w,selectRewardAnnualHref:k,onSelectReward:e=>{(0,pn.K)(fr(d,u,e,t)),function(e,t,n,r){const a=(0,ce.U)((()=>t.items.filter((e=>(0,O.nl)(e)))),[]),i={amount_cents:t.amountCents,context:"landing_page",currency:t.currency,reward_id:t.id,campaign_id:String(e),merch_conversion_tier_has_merch:a.length>0,renewal_period:String(r),reward_index:n,is_recommended:(0,En.Zr)(t),has_active_trial:(0,vn.r)(t),trial_duration:(0,vn.D)(t),reward_recommendation_id:""},o=(0,En.Vs)(t);o&&o.id&&(i.reward_recommendation_id=o.id),(0,mn.I)(i)}(t,d,u,e)},setMultiCurrencyModalOpen:a,hasRecommendationsInSubset:h,hasFreeTrialInCampaign:f,campaignDataKey:i||"campaign",isPatronOfCampaign:T,isFreeMember:l,belongsToTier:P,logOnExpanded:e=>{e&&(0,gn.q)(fr(d,u,1,t))}})))}function mr(e){let{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,tierList:d,numTotalTiers:u,indexOffset:m=0,activeOffer:p}=e;const h=d.some((e=>(0,En.Zr)(e))),f=d.some((e=>(0,vn.r)(e)));return g.createElement(U.x,{alignContent:U.x.AlignContent.FlexStart,alignItems:U.x.AlignItems.Stretch,display:U.x.Display.Flex,flexDirection:U.x.FlexDirection.Row,flexWrap:U.x.FlexWrap.Wrap,justifyContent:U.x.JustifyContent.FlexStart},g.createElement(g.Fragment,null,d.map(((e,d)=>g.createElement(ur,{key:e.id,campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,tier:e,index:d+m,numTiers:u,activeOffer:p,hasRecommendationsInSubset:h,hasFreeTrialInCampaign:f})))))}function pr(e){let{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,extraTiers:d,numTotalTiers:u,indexOffset:m,isExpanded:p,setIsExpanded:h,activeOffer:f}=e;return p?g.createElement(mr,{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,tierList:d,numTotalTiers:u,indexOffset:m,activeOffer:f}):g.createElement(gr,{setIsExpanded:h,numTotalTiers:u})}function gr(e){let{setIsExpanded:t,numTotalTiers:n}=e;const r=(0,g.useCallback)((()=>{t(!0),(0,fn.Q)()}),[t]);return(0,se.b)(),g.createElement(U.x,{display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center,mb:2},g.createElement(W.z,{loggerId:"pages-fan-page-TierGrid-see-all-levels",onClick:r,disclosureIcon:dn.i,iconProps:{size:W.z.Icon.Size.Xxs}},"See all ",g.createElement(me.Decimal,{value:n})," levels"))}function hr(e){let{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,tiers:d,isExpandedByDefault:u,activeOffer:m}=e;const[p,h]=(0,g.useState)(u),f=s?d.slice(0,2):d.slice(0,3),b=s?d.slice(2):d.slice(3);return g.createElement("div",{"data-tag":"tier-grid"},g.createElement(mr,{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,tierList:f,numTotalTiers:d.length,activeOffer:m}),b.length>0&&g.createElement(pr,{campaignId:t,isMonthly:n,payPerName:r,setMultiCurrencyModalOpen:a,campaignDataKey:i,currentTierId:o,isFreeMember:l,isTwoColumn:s,pledgeUrl:c,extraTiers:b,indexOffset:3,isExpanded:p,setIsExpanded:h,numTotalTiers:d.length,activeOffer:m}))}function fr(e,t,n,r){var a;const i=(0,ce.U)((()=>e.items.filter((e=>(0,O.nl)(e)))),[]);return{amount_cents:e.amountCents,campaign_id:String(r),currency:e.currency,has_active_trial:(0,vn.r)(e),is_limited_reward:e.userLimit>0,is_recommended:(0,En.Zr)(e),merch_conversion_tier_has_merch:i.length>0,renewal_period:1===n?"monthly":"annual",reward_id:e.id,reward_index:t,reward_recommendation_id:null===(a=(0,En.Vs)(e))||void 0===a?void 0:a.id,trial_duration:(0,vn.D)(e)}}const br=()=>{const[e]=(0,u.Z)("campaign"),{activeOffer:t,id:n,isMonthly:r,payPerName:a,pledgeUrl:i,rewards:o}=e,l=(0,g.useMemo)((()=>(0,ce.U)((()=>o.filter(T.U$).filter(T.PN)),[])),[o]),s=(0,ce.U)((()=>(0,O.mR)(e.rewards))).length>0;return g.createElement(dr,{campaignId:n,activeOffer:t,tiers:l,isMonthly:r,payPerName:a,pledgeUrl:i,isExpandedByDefault:s,isFanPage:!0})};var vr=n(817147),yr=n(28919),xr=n(782217);var Er=n(964178),wr=n(367161);const Cr=g.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"-1 -2 56 53"},g.createElement("g",{id:"Hearts"},g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M52.5793 31.5068C52.0879 30.4248 51.1687 29.5888 50.036 29.1936C48.9032 28.7984 47.6559 28.8786 46.5846 29.4154L43.0765 31.1373L41.4588 27.6205C40.9674 26.5391 40.0486 25.7036 38.9164 25.3085C37.7842 24.9134 36.5375 24.9931 35.4664 25.5291C33.1974 26.6616 32.2315 29.3545 33.2733 31.6436L38.1264 42.1209C38.2759 42.4506 38.5557 42.7054 38.9007 42.8261C39.2456 42.9467 39.6256 42.9227 39.9521 42.7595L50.4 37.6235C52.6632 36.4844 53.6221 33.7929 52.5793 31.5068Z","data-fill":"1","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21.0822 30.5331L4.61175 18.904C1.66363 16.9137 0.337803 13.2843 1.3209 9.89543C2.05453 7.3673 3.97464 5.34117 6.48163 4.44976C8.98861 3.55836 11.7769 3.91031 13.9759 5.39571L16.6474 7.1997L18.4731 4.56327C19.9779 2.39201 22.4487 1.06709 25.1135 1.00248C27.7782 0.937861 30.312 2.14143 31.923 4.23714C34.0835 7.04735 34.1766 10.9074 32.1541 13.8159L21.0822 30.5331Z","data-fill":"1","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"})),g.createElement("g",{id:"Sparkles"},g.createElement("path",{d:"M50.3997 18.106C50.8783 18.106 51.2663 18.4889 51.2663 18.9612","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M49.5336 18.9612C49.5336 18.4889 49.9216 18.106 50.4003 18.106","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M50.4002 19.816C49.9216 19.816 49.5336 19.4331 49.5336 18.9607","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M51.2662 18.9607C51.2662 19.4331 50.8782 19.816 50.3996 19.816","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5.33521 36.9211C5.81383 36.9211 6.20182 37.3041 6.20182 37.7764","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M4.4682 37.7764C4.4682 37.3041 4.8562 36.9211 5.33482 36.9211","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M5.33485 38.6317C4.85621 38.6317 4.4682 38.2488 4.4682 37.7764","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M6.20182 37.7764C6.20182 38.2487 5.81383 38.6317 5.33521 38.6317","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M23.534 42.0525V48.8946","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M27.0006 45.4734H20.0677","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M44.3331 1.00098V7.84284","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M47.7997 4.42139H40.8667","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}))),kr=g.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 0 55 52"},g.createElement("path",{d:"M45.3272 25.6507C45.3272 37.7066 35.417 47.503 23.1636 47.503C10.9102 47.503 1 37.7066 1 25.6507C1 13.5947 10.9102 3.79834 23.1636 3.79834C35.417 3.79834 45.3272 13.5947 45.3272 25.6507Z","data-fill":"1","data-stroke":"1"}),g.createElement("path",{d:"M22.6906 17.7222L24.601 23.5228H30.7832L25.7817 27.1078L27.6921 32.9084L22.6906 29.3234L17.6891 32.9084L19.5995 27.1078L14.598 23.5228H20.7802L22.6906 17.7222Z","data-fill":"2"})),Tr=g.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 52 52"},g.createElement("path",{d:"M15.8889 27.4444L10.1111 33.2221V24.5555H7.2222C5.62671 24.5555 4.33331 23.2621 4.33331 21.6666V7.22214C4.33331 5.62665 5.62671 4.33325 7.2222 4.33325H27.4444C29.0399 4.33325 30.3333 5.62665 30.3333 7.22214V12.9999",className:"messageStroke",strokeLinecap:"round",strokeLinejoin:"round","data-stroke":"1"}),g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24.5555 38.9998C22.96 38.9998 21.6666 37.7064 21.6666 36.1109V21.6665C21.6666 20.071 22.96 18.7776 24.5555 18.7776H44.7777C46.3732 18.7776 47.6666 20.071 47.6666 21.6665V36.1109C47.6666 37.7064 46.3732 38.9998 44.7777 38.9998H41.8888V47.6665L33.2222 38.9998H24.5555Z",className:"messageFill messageStroke",strokeLinecap:"round",strokeLinejoin:"round","data-fill":"1","data-stroke":"1"})),Pr=g.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},g.createElement("path",{clipRule:"evenodd",d:"M2 3.371v5.72c0 .727.289 1.424.803 1.939L13.37 21.599a1.371 1.371 0 0 0 1.938 0l6.289-6.29a1.371 1.371 0 0 0 0-1.938L11.03 2.803A2.742 2.742 0 0 0 9.09 2H3.372C2.614 2 2 2.614 2 3.371zM8.17 6.8a1.371 1.371 0 1 1-2.742 0 1.371 1.371 0 0 1 2.742 0z","data-fill":"1",fillRule:"evenodd"}),g.createElement("path",{clipRule:"evenodd",d:"M2 9.09V3.372C2 2.614 2.614 2 3.371 2h5.72c.727 0 1.424.289 1.939.803L21.598 13.37a1.371 1.371 0 0 1 0 1.938L15.31 21.6a1.371 1.371 0 0 1-1.94 0L2.804 11.029A2.742 2.742 0 0 1 2 9.092zM8.17 6.8a1.371 1.371 0 1 1-2.742 0 1.371 1.371 0 0 1 2.742 0z","data-fill":"1",fillRule:"evenodd"}),g.createElement("path",{d:"M2 3.371v5.72c0 .727.289 1.424.803 1.939L13.37 21.599a1.371 1.371 0 0 0 1.938 0l6.289-6.29a1.371 1.371 0 0 0 0-1.938L11.03 2.803A2.742 2.742 0 0 0 9.09 2H3.372C2.614 2 2 2.614 2 3.371zm4.8 4.8a1.371 1.371 0 1 0 0-2.743 1.371 1.371 0 0 0 0 2.742z","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"})),Or=g.createElement("svg",{viewBox:"0 -1 42 42",fill:"none",xmlns:"http://www.w3.org/2000/svg"},g.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.6875 39.7136C11.2256 39.7136 14.0938 36.8454 14.0938 33.3074C14.0938 29.7693 11.2256 26.9011 7.6875 26.9011C4.14943 26.9011 1.28125 29.7693 1.28125 33.3074C1.28125 36.8454 4.14943 39.7136 7.6875 39.7136Z",strokeLinecap:"round",strokeLinejoin:"round","data-fill":"1","data-stroke":"1"}),g.createElement("path",{d:"M1.28125 15.1084C8.27762 12.6981 16.036 14.4886 21.2685 19.7212C26.501 24.9537 28.2915 32.712 25.8812 39.7084","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"}),g.createElement("path",{d:"M1.28125 1.90133C11.8196 -0.237269 22.7284 3.04672 30.3348 10.6476C37.9411 18.2484 41.233 29.1549 39.102 39.6948","data-stroke":"1",strokeLinecap:"round",strokeLinejoin:"round"})),_r=kn.i`
  @media (min-width: ${e=>e.theme.responsive.getBreakpoint("sm")}rem) {
    max-width: ${e=>e.theme.units.getValue(22)};
  }
`,Sr=kn.i`
  height: ${e=>e.theme.units.getValue(6)};
  width: ${e=>e.theme.units.getValue(6)};
`,Ir=kn.z.div.withConfig({componentId:"sc-17zjflm-0"})(["display:flex;justify-content:center;margin-top:",";margin-left:",";margin-right:",";"],B.T.global.space16,B.T.global.space24,B.T.global.space24);function Ar(e){var t,n,r;let{lockedPostAggregates:a,campaign:i,hasBorder:o,freeMembershipAvailable:l}=e;const s=(0,se.b)(),c=Boolean(null==i?void 0:i.currentUserPledge),d=null==a?void 0:a.total,u=null==i||null===(t=i.rewards)||void 0===t?void 0:t.some((e=>{var t;return null===(t=e.discordRoleIds)||void 0===t?void 0:t.length})),m=null==i||null===(n=i.rewardItems)||void 0===n?void 0:n.some(O.nl),p=null==i?void 0:i.hasRss,h=null==i?void 0:i.url,f=null==i||null===(r=i.rewards)||void 0===r?void 0:r.some((e=>{var t;return null==e||null===(t=e.items)||void 0===t?void 0:t.some((e=>{var t;return"promo_code"===(null===(t=e.template)||void 0===t?void 0:t.id)}))})),b=(e=>({posts:e=>({icon:g.createElement(pe.x,{align:pe.x.Align.Center,el:pe.x.Element.Div,weight:pe.x.Weight.Bold,font:pe.x.Font.Title,size:{xs:pe.x.Size.Xl,sm:pe.x.Size.Xxl},color:pe.x.Color.Brand},g.createElement(me.Decimal,{value:e})),description:g.createElement(g.Fragment,null,"Unlock ",g.createElement(me.Plural,{one:"# exclusive post",other:"# exclusive posts",value:e}))}),discord:{icon:g.createElement(wr.$,{width:{xs:4,sm:6},strokeWidth:{xs:"1px",sm:"2px"},fill:wr.$.Fill.BrandLight,stroke:wr.$.Stroke.Brand},Cr),description:(0,me.translate)(e,"Be part of the community")},merch:{icon:g.createElement(wr.$,{width:{xs:4,sm:5},strokeWidth:{xs:"1px",sm:"2px"},fill:[wr.$.Fill.BrandLight,wr.$.Fill.Brand],stroke:wr.$.Stroke.Brand},kr),description:(0,me.translate)(e,"Get exclusive merch")},rss:{icon:g.createElement(wr.$,{width:{xs:2.5,sm:4},strokeWidth:{xs:"1px",sm:"2px"},fill:wr.$.Fill.BrandLight,stroke:wr.$.Stroke.Brand},Or),description:(0,me.translate)(e,"Listen anywhere")},promoCode:{icon:g.createElement(wr.$,{width:{xs:3,sm:5},strokeWidth:{xs:"1px",sm:"2px"},fill:wr.$.Fill.BrandLight,stroke:wr.$.Stroke.Brand},Pr),description:(0,me.translate)(e,"Get discounts to an online store")},messages:{icon:g.createElement(wr.$,{width:{xs:3,sm:5},strokeWidth:{xs:"1px",sm:"2px"},fill:wr.$.Fill.BrandLight,stroke:wr.$.Stroke.Brand},Tr),description:(0,me.translate)(e,"Connect via private message")}}))(s),v=[d&&b.posts(d),u&&b.discord,m&&b.merch,p&&b.rss,f&&b.promoCode,b.messages].filter((e=>!!e)).slice(0,4);return v.length<2?null:d&&2===v.length?g.createElement(Er.Z,{lockedPostAggregates:a,currentUserIsPatron:c,hasBorder:o}):g.createElement(At.Z,{border:o?At.Z.Border.All:At.Z.Border.None,noPadding:!o},c?g.createElement(vr.X,{align:vr.X.Align.Center,el:vr.X.El.H3},"Raise your pledge to"):l?g.createElement(vr.X,{align:vr.X.Align.Center,el:vr.X.El.H3},g.createElement(xr.ME,null)):g.createElement(vr.X,{align:vr.X.Align.Center,el:vr.X.El.H3},"Become a patron to"),g.createElement(U.x,{display:{xs:U.x.Display.Block,sm:U.x.Display.Flex},justifyContent:U.x.JustifyContent.Center,pt:{xs:1,sm:3},"data-tag":"items-container"},v.map((e=>g.createElement(U.x,{display:U.x.Display.Flex,flexDirection:{xs:U.x.FlexDirection.Row,sm:U.x.FlexDirection.Column},textAlign:{xs:U.x.TextAlign.Left,sm:U.x.TextAlign.Center},ph:{xs:2,sm:1},alignItems:U.x.AlignItems.Center,css:_r,key:`${e.description}`},g.createElement(U.x,{pb:{xs:0,sm:1},mr:{xs:1.5,sm:0},css:Sr,display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center,alignItems:{xs:U.x.AlignItems.Center,sm:U.x.AlignItems.Stretch}},e.icon),g.createElement(pe.x,{size:pe.x.Size.Sm,color:pe.x.Color.Gray2},e.description))))),l&&h&&g.createElement(Ir,null,g.createElement(W.z,{loggerId:"pages-fan-page-ValueProp",variant:"primary",fluid:{xs:!0,sm:!1},href:`${h}#fan-page-landing`,onClick:()=>{(0,yr.I)({campaign_id:i.id})}},g.createElement(xr.hx,null))))}function jr(){const e=(0,C.dA)("lockedPostAggregates"),{offersFreeMembership:t}=(0,ot.E)(),[n]=(0,u.Z)("campaign");return g.createElement(U.x,null,g.createElement(Ar,{lockedPostAggregates:e,campaign:n,freeMembershipAvailable:t,hasBorder:!0}))}var Dr=n(550786),Rr=n(531463),Lr=n(571995),zr=n(320498),Ur=n(310345),Mr=n(475159);function Br(e){let{isAnnualCadence:t,setIsAnnualCadence:n,discountDecimal:r}=e;(0,se.b)();const a=r&&0!==r?g.createElement(Mn.A,{size:"lg",as:"span",muted:!t},"Pay annually (Save ",g.createElement(me.Percent,{value:r}),")"):g.createElement(Mn.A,{size:"lg",as:"span",muted:!t},"Pay annually");return g.createElement(Fr,null,g.createElement(Mr.ZD,{size:Mr.ZD.Size.Sm,isOn:t,id:"annual-cadence-toggle",onClick:()=>{n(!t)},shouldShowToggleLabel:!1}),a)}const Fr=kn.z.div.withConfig({componentId:"sc-dggkfc-0"})(["display:flex;flex-direction:row;align-items:center;gap:",";"],B.T.global.space12);var Zr=n(544621),Nr=n(776180),qr=n(353211);function Vr(e){let{currentDot:t,numDots:n,onInactiveDotClick:r}=e;const[a,i]=(0,g.useState)(t);if((0,g.useEffect)((()=>{i(t)}),[t]),n<2)return null;const o=[...Array(n).keys()].map(((e,t)=>a===t?g.createElement(Wr,{key:e},"â¢"):g.createElement($r,{key:e,onClick:()=>{r(t,"smooth")}},"â¢")));return g.createElement(g.Fragment,null,o)}const $r=kn.z.span.withConfig({componentId:"sc-1vxofyd-0"})(["color:",";cursor:pointer;font-size:",";opacity:",";user-select:none;"],B.T.global.primary.action.default,(e=>e.theme.text.getSize(5)),.33),Wr=kn.z.span.withConfig({componentId:"sc-1vxofyd-1"})(["color:",";cursor:auto;font-size:",";opacity:",";user-select:none;"],B.T.global.primary.action.default,(e=>e.theme.text.getSize(5)),1);function Jr(e){var t;let{children:n,showAllTiersByDefault:r}=e;const a=(0,g.useRef)(null),i=(0,g.useRef)([]),o=n.length+1-3,l=o>1,s=n.length>10,c=l&&!s,d=n.length>3,[u,m]=(0,g.useState)(0),[p,h]=(0,g.useState)(null!=r&&r);(0,g.useEffect)((()=>{const e=null==a?void 0:a.current;if(e){const t=()=>{m(null!=a&&a.current&&(null==a?void 0:a.current.scrollWidth)>0?Math.round(n.length*a.current.scrollLeft/a.current.scrollWidth):0)};return e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}}}),[a,n.length]);const f=(e,t)=>{var n;const r=null==a?void 0:a.current,o=(null==i||null===(n=i.current)||void 0===n?void 0:n.length)>0&&i.current[0];if(r&&o){const n=(o.clientWidth+16)*e;r.scroll({top:0,left:r.scrollLeft+n,behavior:t})}},b=!(null==a||!a.current)&&(null==a||null===(t=a.current)||void 0===t?void 0:t.scrollLeft)<=0,v=!(null==a||!a.current)&&a.current.scrollLeft>=a.current.scrollWidth-a.current.clientWidth,y=g.createElement(W.z,{loggerId:"carousel-left","data-tag":"carousel-left",icon:Zr.M,onClick:()=>{f(-1,"smooth")},variant:W.z.Variant.InsetBlack,iconOnly:!0,corners:"pill",size:"md",disabled:b,"aria-label":"scroll left"}),x=g.createElement(W.z,{loggerId:"carousel-right","data-tag":"carousel-right",icon:Nr.o,onClick:()=>{f(1,"smooth")},variant:W.z.Variant.InsetBlack,iconOnly:!0,corners:"pill",size:"md",disabled:v,"aria-label":"scroll right"});return g.createElement(Hr,null,g.createElement(Kr,null,c&&g.createElement(Xr,{sm:!0,md:!0,lg:!0,xl:!0},y),g.createElement(Yr,{ref:a,numItems:n.length,canShowAsCarousel:!s},g.Children.map(n,((e,t)=>g.createElement(ea,{id:e.props.id,key:e.props.id,ref:e=>{e&&(i.current[t]=e)},index:t,canShowAsCarousel:!s,isShowAllTiers:p},e)))),c&&g.createElement(Qr,{sm:!0,md:!0,lg:!0,xl:!0},x)),c&&g.createElement(ta,{"data-tag":"carousel-dots"},g.createElement(Vr,{numDots:o,currentDot:u,onInactiveDotClick:(e,t)=>((e,t)=>{f(e-u,t)})(e,t)})),!r&&d&&g.createElement(na,{canShowAsCarousel:!s,isShowAllTiers:p},g.createElement(W.z,{loggerId:"show-all-tiers","data-tag":"show-all-tiers",icon:qr.u,onClick:()=>h(!0),variant:W.z.Variant.Floating,corners:"pill",size:"lg","aria-label":"see all tiers"},"See all ",g.createElement(me.Decimal,{value:n.length})," tiers")))}const Hr=H.ZP.div.withConfig({componentId:"sc-1rofhii-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),Kr=H.ZP.div.withConfig({componentId:"sc-1rofhii-1"})(["display:flex;align-items:center;justify-content:center;overflow:visible;width:100%;max-width:100vw;@media ","{margin-left:",";margin-right:",";}"],(e=>e.theme.responsive.mediaForBreakpoint("sm")),B.T.global.space12,B.T.global.space12),Gr=(0,H.ZP)(Tn.o).withConfig({componentId:"sc-1rofhii-2"})(["flex:0 0 auto;"]),Xr=(0,H.ZP)(Gr).withConfig({componentId:"sc-1rofhii-3"})(["margin-left:",";margin-right:",";"],B.T.global.space12,B.T.global.space4),Qr=(0,H.ZP)(Gr).withConfig({componentId:"sc-1rofhii-4"})(["margin-left:",";margin-right:",";"],B.T.global.space4,B.T.global.space12),Yr=(0,H.ZP)(J.J7).withConfig({componentId:"sc-1rofhii-5"})(["display:flex;flex-direction:column;grid-gap:",";flex:1 1 auto;margin-left:0;margin-right:0;padding-top:",";padding-bottom:",";@media ","{flex-direction:row;flex-wrap:",";align-items:stretch;justify-content:",";overflow-x:hidden;scroll-behavior:auto;-ms-overflow-style:none;&::-webkit-scrollbar{display:none;}scrollbar-width:none;padding-left:",";padding-right:",";}"],"16px",B.T.global.space16,B.T.global.space24,(e=>e.theme.responsive.mediaForBreakpoint("sm")),(e=>e.canShowAsCarousel?"nowrap":"wrap"),(e=>e.numItems>3?"flex-start":"center"),B.T.global.space12,B.T.global.space12),ea=H.ZP.div.withConfig({componentId:"sc-1rofhii-6"})(["display:",";overflow:visible;@media ","{display:",";flex:1 0 auto;width:",";max-width:380px;}"],(e=>e.index<3||e.isShowAllTiers?"block":"none"),(e=>e.theme.responsive.mediaForBreakpoint("sm")),(e=>e.canShowAsCarousel||e.index<3||e.isShowAllTiers?"flex":"none"),"calc("+100/3+"% - "+32/3+"px)"),ta=H.ZP.div.withConfig({componentId:"sc-1rofhii-7"})(["display:none;@media ","{display:flex;flex-direction:row;justify-content:center;margin-top:calc("," * -1);}"],(e=>e.theme.responsive.mediaForBreakpoint("sm")),B.T.global.space12),na=H.ZP.div.withConfig({componentId:"sc-1rofhii-8"})(["margin-top:",";display:",";@media ","{display:",";}"],B.T.global.space8,(e=>e.isShowAllTiers?"none":"block"),(e=>e.theme.responsive.mediaForBreakpoint("sm")),(e=>e.canShowAsCarousel||e.isShowAllTiers?"none":"block"));var ra=n(572579);function aa(e){let{offer:t,isDialogOpen:n,openDialog:r,closeDialog:a}=e;const i=(0,se.b)(),o=(0,Dn.rz)(t.endsAt,i),l=(0,me.translate)(i,"Close",void 0,"Button text to close informational dialog"),s=g.createElement(oa,{variant:"secondary"},o);return g.createElement(g.Fragment,null,g.createElement(ia,null,g.createElement(F.L,{mb:"4px"},s),g.createElement(la,null,g.createElement(Mn.A,{size:"md"},g.createElement("strong",null,t.title)),g.createElement("div",null,g.createElement(Mn.A,{size:"md",as:"span",muted:!0},"Available on selected tiers."),"Â ",g.createElement(Lt.h,{loggerId:"pages-creator-public-page-TierDisplay-SpecialOfferSection-view-details",size:"md",onClick:r},"View details")))),g.createElement(ar.V,{id:"benefitDescriptionDetails",size:"sm",isOpen:n,showCloseButton:!1,primaryAction:{label:l,onClick:a}},g.createElement(Sn.Z,{title:t.title,subtitle:o,description:t.description,icon:g.createElement(He.F,null),borderColor:"yellow"})))}const ia=kn.z.div.withConfig({componentId:"sc-1n4l9lk-0"})(["display:flex;flex-direction:column;align-items:center;gap:",";"],B.T.global.space4),oa=(0,kn.z)(ra.A).withConfig({componentId:"sc-1n4l9lk-1"})(["font-weight:bold;text-transform:uppercase;"]),la=kn.z.div.withConfig({componentId:"sc-1n4l9lk-2"})(["display:flex;flex-direction:column;align-items:center;gap:",";@media ","{flex-direction:row;gap:",";}"],B.T.global.space4,(e=>e.theme.responsive.mediaForBreakpoint("sm")),B.T.global.space8);function sa(e){let{tier:t,isAnnualCadence:n,logTierSelected:r}=e;const a=(0,se.b)(),[i]=(0,u.Z)("campaign"),o=(0,C.dA)("showAcastButtonPostPledge");if(!i)return null;const l=null!==t.remaining&&t.remaining>=0,s=t.userLimit?g.createElement(Mn.A,{size:"md"},g.createElement("strong",null,"Limited")," (",t.remaining," of ",t.userLimit," remaining)"):g.createElement(Mn.A,{size:"md"},g.createElement("strong",null,"Limited")," (",t.remaining," remaining)"),c=l&&0===t.remaining,d=g.createElement(Mn.A,{size:"md"},g.createElement("strong",null,"Limited spaces â  SOLD OUT"));let m;if(c)m=(0,me.translate)(a,"Sold Out",void 0,"Label on button that indicates that this tier is sold out");else if((0,vn.r)(t)){const e=(0,vn.D)(t);m=(0,me.translate)(a,"Start {freeTrialDurationDays} day free trial",{freeTrialDurationDays:e},"Main call to action that for a user to start a free trial")}else m=(0,me.translate)(a,"Join",void 0,"Main call to action that asks a user to join their campaign");const p=g.createElement(W.z,{loggerId:"patron-checkout-continue-button",size:"md",disabled:c,variant:"primary",onClick:r,href:(0,T.uv)({tier:t,campaign:i,isAnnualCadence:n,showAcastButtonPostPledge:o}),"data-tag":"patron-checkout-continue-button","aria-label":`${t.title} ${m}`,fluid:!0},m);return g.createElement(ca,null,p,l&&g.createElement(da,null,c?d:s))}const ca=kn.z.div.withConfig({componentId:"sc-1md7yc-0"})(["display:flex;flex-direction:column;align-items:center;"]),da=kn.z.div.withConfig({componentId:"sc-1md7yc-1"})(["padding-top:",";"],B.T.global.space8);var ua=n(474259),ma=n(459854),pa=n(730795),ga=n(283714);function ha(e){var t;let{tier:n,hasDescription:r,openSpecialOfferDialog:a}=e;const i=(0,se.b)(),[o]=(0,u.Z)("campaign");if(!o)return null;const l=(0,O.mR)([n],O.nl),s=(0,Qn.wp)(l),c=[];if(o.activeOffer){const e={id:o.activeOffer.id,description:g.createElement(fa,{offer:o.activeOffer,openSpecialOfferDialog:a})};c.push(e)}if(l.length>0){const e=(0,me.translate)(i,"Exclusive merch",void 0,"Indicates that this reward tier offers merchandise as a benefit");if(s){var d;const t={id:l[0].id,description:g.createElement(ba,{description:g.createElement(Mn.A,{size:"md",as:"span"},g.createElement("strong",null,null!==(d=s.description)&&void 0!==d?d:e)),detail:g.createElement(On.Z,{description:s.description,items:(0,Qn.cw)(l),reward:n})})};c.push(t)}else{var m;const t={id:l[0].id,description:g.createElement(ba,{description:g.createElement(Mn.A,{size:"md",as:"span"},g.createElement("strong",null,null!==(m=l[0].title)&&void 0!==m?m:e)),detail:g.createElement(_n.Z,{items:l,reward:n})})};c.push(t)}}if((0,jn.y)(o)){const e=n.items.filter((e=>e.itemType!==ga.iB.MERCH&&e.ruleType!==ga.OK));if(e){const t=e.map((e=>({id:e.id,description:g.createElement(Mn.A,{size:"md",as:"span"},e.title)})));c.push(...t)}}return null!==(t=n.discordRoleIds)&&void 0!==t&&t.length&&c.push({id:n.discordRoleIds[0],description:g.createElement(g.Fragment,null,g.createElement(Mn.A,{size:"md",as:"span"},"Discord access"),"Â ",g.createElement(pa.p,{size:"sm",verticalAlign:"middle"}))}),c.length>0?g.createElement(g.Fragment,null,!r&&g.createElement(F.L,{mv:"8px"},g.createElement(Mn.A,{size:"md",as:"div"},g.createElement("strong",null,"Whatâs included"))),g.createElement(ya,null,c.map((e=>g.createElement("li",{key:e.id},e.description))))):null}function fa(e){let{offer:t,openSpecialOfferDialog:n}=e;(0,se.b)();const r=g.createElement(va,null,g.createElement(Mn.A,{size:"md",as:"span"},g.createElement("strong",null,"Special offer:"))),a=g.createElement(g.Fragment,null,r,g.createElement(Mn.A,{size:"md",as:"span"},g.createElement("strong",null,"Â ",t.title)));return g.createElement(g.Fragment,null,a,n&&g.createElement(g.Fragment,null,"Â ",g.createElement(Lt.h,{loggerId:"pages-creator-public-page-TierDisplay-TierBenefitsList-view-details",size:"md",onClick:n},"View details")))}function ba(e){let{description:t,detail:n}=e;const r=(0,se.b)(),[a,i]=(0,g.useState)(!1),o=(0,me.translate)(r,"Close",void 0,"Button text to close informational dialog");return g.createElement(g.Fragment,null,t,"Â ",g.createElement(Lt.h,{loggerId:"pages-creator-public-page-TierDisplay-TierBenefitsList-view-details",size:"md",onClick:()=>i(!0)},"View details"),g.createElement(ar.V,{id:"benefitDescriptionDetails",size:"sm",isOpen:a,showCloseButton:!1,primaryAction:{label:o,onClick:()=>i(!1)}},n))}const va=kn.z.span.withConfig({componentId:"sc-h14nzd-0"})(["text-transform:uppercase;"]),ya=kn.z.ul.withConfig({componentId:"sc-h14nzd-1"})(["padding-inline-start:calc("," + ",")};"],B.T.global.space16,B.T.global.space4);function xa(e){var t;let{tier:n,openSpecialOfferDialog:r,logTierCardBodyViewed:a}=e;const[i]=(0,u.Z)("campaign"),o=(0,ma.dD)({defaultValue:!1});if(!i)return null;const l=(null==n||null===(t=n.description)||void 0===t?void 0:t.length)>0,s=function(e){return(e.description?20*Math.ceil(e.description.length/30):20)+(e.items?e.items.reduce(((e,t)=>e+20*Math.ceil(t.title.length/27)),0):0)}(n),c=o?100:400;return g.createElement(ua.z,{minHeight:c,showMoreOnClick:a,estimatedHeightPx:s},l&&g.createElement(Ea,null,g.createElement(Mn.A,{size:"md",as:"div"},g.createElement(Zt.Z,{allowStyles:!0,allowIframe:!0,allowTarget:!0,dirtyHtml:n.description}))),g.createElement(ha,{tier:n,hasDescription:l,openSpecialOfferDialog:r}))}const Ea=kn.z.div.withConfig({componentId:"sc-trhei9-0"})(["img{max-width:100%;}a{color:",";}p:empty{overflow:auto;margin-bottom:1em !important;}ul,ol{margin-block-start:0;margin-block-end:0;padding-inline-start:calc("," + ",")};}overflow-wrap:break-word;word-wrap:break-word;word-break:break-word;"],(e=>e.theme.textButtons.getColor("primary",e.theme.colors)),B.T.global.space16,B.T.global.space4);function wa(e){let{tier:t,isAnnualCadence:n}=e;const r=(0,se.b)(),[a]=(0,u.Z)("campaign");if(!a)return null;const i=(0,T.qQ)(t,bn.ZP.ANNUAL),o=n&&i?i:function(e){return Math.max(null==e?void 0:e.patronAmountCents,In.Pd)}(t),l=g.createElement(Bn.O,{value:o,currency:t.patronCurrency}),s=n?(0,me.translate)(r,"year",void 0,"indicates that this price is yearly"):a.payPerName,c=g.createElement(Mn.A,{as:"span",muted:!0},"(plus ",t.salesTaxLabel,")");return g.createElement(Ca,null,g.createElement(Z.I,{as:"div",size:"lg"},t.title),g.createElement("div",null,g.createElement(Z.I,{as:"span",size:"xl"},l),g.createElement(Mn.A,{as:"span",size:"md"}," ","/ ",s),t.showPlusTaxLabel&&g.createElement(g.Fragment,null,"Â ",c)))}const Ca=kn.z.div.withConfig({componentId:"sc-1pljd3m-0"})(["display:flex;flex-direction:column;justify-content:space-between;align-items:start;"]);function ka(e){let{id:t,tier:n,annualToggleOn:r,index:a,openSpecialOfferDialog:i}=e;const o=(0,se.b)(),l=(0,L.Uy)("tier-"+n.id),s=(0,En.Zr)(n),c=(0,En.JN)(n,o),[d]=(0,u.Z)("campaign"),m=!(!r||!(0,T.Fu)(n)),p=(0,g.useCallback)((()=>{var e,t,r;const i=null===(e=n.items)||void 0===e?void 0:e.filter((e=>(0,O.nl)(e)));return{amount_cents:n.amountCents,campaign_id:null!==(t=null==d?void 0:d.id)&&void 0!==t?t:"",currency:n.currency,has_active_trial:(0,vn.r)(n),is_limited_reward:n.userLimit>0,is_recommended:(0,En.Zr)(n),merch_conversion_tier_has_merch:i.length>0,renewal_period:m?"annual":"monthly",reward_id:n.id,reward_index:a,reward_recommendation_id:null===(r=(0,En.Vs)(n))||void 0===r?void 0:r.id,trial_duration:(0,vn.D)(n)}}),[null==d?void 0:d.id,a,n,m]),h=(0,g.useCallback)((()=>{(0,hn.$)(p())}),[p]),f=(0,g.useCallback)((()=>{(0,gn.q)(p())}),[p]),b=(0,g.useCallback)((()=>{(0,pn.K)(p())}),[p]);return g.createElement(Wt.Z,{css:kn.i`
        width: 100%;
        overflow: visible;
        display: flex;
        flex-direction: column;
      `,log:h},g.createElement(g.Fragment,null,s&&g.createElement(Pa,null,g.createElement(Oa,{variant:"insetBlack"},c)),g.createElement(Ta,{id:t,"data-tag":"tier-card",isRecommended:s},n.imageUrl&&g.createElement(_a,null,g.createElement(Sa,{src:n.imageUrl})),g.createElement(Ia,null,g.createElement(Aa,null,g.createElement(wa,{tier:n,isAnnualCadence:m})),g.createElement(Da,null,g.createElement(sa,{tier:n,isAnnualCadence:m,logTierSelected:b}),g.createElement("div",{ref:l})),g.createElement(ja,null,g.createElement(xa,{tier:n,openSpecialOfferDialog:i,logTierCardBodyViewed:f}))))))}const Ta=kn.z.div.withConfig({componentId:"sc-1dms3c2-0"})(["display:flex;flex-direction:column;height:100%;padding:0;overflow:hidden;border-radius:",";background-color:",";box-shadow:",";border-color:",";border-width:",";border-style:",";"],B.T.global.radius.lg,B.T.global.bg.base.default,B.T.global.boxShadow.mid,B.T.global.constant.black.default,B.T.global.borderWidth.thick,(e=>e.isRecommended?"solid":"none")),Pa=kn.z.div.withConfig({componentId:"sc-1dms3c2-1"})(["position:relative;overflow:visible;width:0px;align-self:flex-end;left:-5%;z-index:",";"],(e=>e.theme.zIndex.Z_INDEX_2)),Oa=(0,kn.z)(ra.A).withConfig({componentId:"sc-1dms3c2-2"})(["background-color:",";position:absolute;transform:translate(-100%,-50%);"],B.T.global.constant.black.default),_a=kn.z.div.withConfig({componentId:"sc-1dms3c2-3"})(["position:relative;width:100%;padding-top:43%;"]),Sa=kn.z.img.withConfig({componentId:"sc-1dms3c2-4"})(["position:absolute;top:0;width:100%;height:100%;object-fit:cover;object-position:50% 25%;background-color:",";"],B.T.global.secondary.action.default),Ia=kn.z.div.withConfig({componentId:"sc-1dms3c2-5"})(["display:flex;flex-direction:column;flex:1 1 auto;overflow:hidden;gap:",";padding:",";@media ","{gap:",";padding-top:",";padding-bottom:",";}"],B.T.global.space12,B.T.global.space16,(e=>e.theme.responsive.mediaForBreakpoint("sm")),B.T.global.space16,B.T.global.space24,B.T.global.space24),Aa=kn.z.div.withConfig({componentId:"sc-1dms3c2-6"})(["flex:0 1 auto;"]),ja=kn.z.div.withConfig({componentId:"sc-1dms3c2-7"})(["flex:1 1 auto;"]),Da=kn.z.div.withConfig({componentId:"sc-1dms3c2-8"})(["flex:0 1 auto;"]);function Ra(e){var t;let{headingTextId:n,showAllTiersByDefault:r}=e;(0,se.b)();const[a,i]=(0,g.useState)(!1),[o]=(0,u.Z)("campaign"),[l,s]=(0,g.useState)(!1);if(!o)return null;const c=(e=>{var t;const n=null===(t=e.rewards)||void 0===t?void 0:t.filter(T.U$).filter(T.PN);return!(!n||null==n||!n.length)&&n})(o);if(!c)return null;const d=c.find((e=>!!(0,T.LK)(e))),m=d&&null!==(t=(0,T.LK)(d))&&void 0!==t?t:0,p=c.some((e=>(0,T.Fu)(e))),h=()=>s(!0);return g.createElement(La,null,g.createElement(za,null,g.createElement(N.R,{id:n,size:"md",align:N.R.Align.Center,el:"h2"},"Choose your membership"),o.activeOffer&&g.createElement(aa,{offer:o.activeOffer,isDialogOpen:l,openDialog:h,closeDialog:()=>s(!1)}),p&&g.createElement(Br,{isAnnualCadence:a,setIsAnnualCadence:i,discountDecimal:m})),g.createElement(Ua,null,g.createElement(Jr,{showAllTiersByDefault:r},null==c?void 0:c.map(((e,t)=>g.createElement(ka,{key:e.id,id:e.id,tier:e,annualToggleOn:a,index:t,openSpecialOfferDialog:h}))))))}const La=kn.z.div.withConfig({componentId:"sc-1e971b6-0"})(["display:flex;flex-direction:column;align-items:center;gap:",";width:100%;"],B.T.global.space16),za=kn.z.div.withConfig({componentId:"sc-1e971b6-1"})(["display:flex;flex-direction:column;align-items:center;gap:",";"],B.T.global.space12),Ua=kn.z.div.withConfig({componentId:"sc-1e971b6-2"})(["width:100%;"]);var Ma=n(808397),Ba=n(348192);const Fa=e=>{let{campaign:t,currentUser:n}=e;(0,se.b)();const r=(0,ce.U)((()=>t.creator.fullName)),a=(0,ce.U)((()=>t.creator.id))&&(0,ce.U)((()=>t.creator.id))===(0,ce.U)((()=>n.id)),i=(0,ce.U)((()=>t.publishedAt));return a&&!i?g.createElement(Ma.j,{placement:"global",variant:Ma.j.Variant.Info,action:{label:g.createElement(Lr.Xn,null),onClick:()=>{(0,Ba.l)()},href:"/edit/about"}},"Welcome, ",r,"! This is what your prospective patrons see before they purchase a membership."):null};Fa.propTypes={campaign:p().object.isRequired,currentUser:p().object.isRequired};const Za=Fa;var Na=n(390423);function qa(){const e=(0,C.dA)("baseUrl"),t=(0,K.TH)(),n=t.pathname,r=new URLSearchParams(t.search),a=`${e}?${r.toString()}`,i=`${e}/shop?${r.toString()}`,o=(0,se.b)(),l=[{shouldShow:!0,link:{label:(0,me.translate)(o,"Home",void 0,"Tab title for creator home view"),href:a,isActive:n===e||n===`${e}/home`}},{shouldShow:!0,link:{label:(0,me.translate)(o,"Shop",void 0,"Tab title to access creator storefront"),href:i,isActive:n===`${e}/shop`}}].filter((e=>e.shouldShow)).map((e=>e.link));return g.createElement(Na.d,{"aria-labelledby":"pageheader-title",links:l,onLinkClick:e=>{window.location.href=e.toString()}})}var Va=n(76230);const $a=kn.z.div.withConfig({componentId:"sc-bqzuh7-0"})(["display:block;margin-top:",";"],B.T.global.space32),Wa=e=>{(0,Tt.v)(Pt.o.BECOME_PATRON,{campaign_id:(0,ce.U)((()=>e.id)),context:"landing_page"}),(0,Dr.$)({campaign_id:(0,ce.U)((()=>e.id))})};function Ja(e){var t,n;let{id:r,campaign:a,currentUser:i,hasTiers:o,shouldBlurPageBackground:l,isMobileMenuVisible:s}=e;(0,se.b)();const c=(0,C.dA)("isPreview",!1),[d]=(0,u.Z)("currentUserPledgingAndFollowing"),{offersFreeMembership:m}=(0,ot.E)(),p=(0,I.a)(_.Lo),h=(0,L.Uy)("grid"),f=(0,ce.U)((()=>a.creator.id)),b=(0,ce.U)((()=>i.id)),v=(0,ce.U)((()=>a.name)),y=null==a?void 0:a.id,x=m&&!(null!=a&&a.offersPaidMembership),E=m&&(null==a?void 0:a.offersPaidMembership),w=b&&(null!==(t=null==d?void 0:d.follows)&&void 0!==t?t:[]).find((e=>{var t;return(null==e||null===(t=e.campaign)||void 0===t?void 0:t.id)===y})),k=b&&f&&b===f,T=(0,z.Z)(a,i),P=null!==(0,ce.U)((()=>a.publishedAt)),O=T&&(0,te.n)("public"),S=w||!m,A=m&&!(null!=a&&a.isFreeMembershipPaused)&&((null==a?void 0:a.currentUserCanBeFreeMember)||!b||(0,te.n)("public")),j=!b&&E,D=(0,zr.F)(a),R=(0,zr.u)(D),H=(0,C.dA)("baseUrl"),G="shop"===(0,K.TH)().pathname.replace(H,"").replace("/","")&&R,de=A?g.createElement(U.x,{display:"flex",alignItems:"center",flexDirection:"column"},g.createElement(M.e,{size:"sm",highlight:!0,color:B.T.global.primary.action.default,highlightColor:B.T.global.secondary.action.default,highlightSize:B.T.global.space40}),g.createElement(F.L,{mb:"8px"}),g.createElement(Z.I,{id:r,align:"center",as:"h2",size:"xl"},g.createElement(xr.ME,null)),E?g.createElement(U.x,{mh:1},g.createElement(Q.Z,{variant:"lite",campaign:a,currentUserIsOwner:k})):null):g.createElement(N.R,{id:r,align:N.R.Align.Center,size:N.R.Size.Md,el:N.R.El.H2},"Select a membership level");return g.createElement(ie.Z,null,g.createElement(U.x,{css:l?ae.w:null,id:"membership-page"},!c&&g.createElement(Za,{campaign:a,currentUser:i}),g.createElement(ne.Vp,{campaign:a,currentUser:i,currentUserCanMessageCreator:!1,currentUserIsOwner:k,currentUserIsPatron:!1,currentUserIsTeammate:T,showControls:!1,viewingAsPatron:!1,isMobileMenuVisible:s}),R&&g.createElement(qa,null),R&&G&&g.createElement($a,null,g.createElement(Va.v,{campaign:a,countPerPage:24})),O&&g.createElement(re.E,{campaign:a,viewingAs:"public"}),g.createElement(le.P,{campaign:a,onBePatronClick:()=>{Wa(a)},bottom:O?"4.5rem":"0",joinAnchorTarget:r,variant:j?"floating-card":void 0,logEventFunction:()=>{(0,yr.I)({campaign_id:String(a.id)})}}),!G&&g.createElement(q.r,{maxWidth:"lg",pv:6},o&&g.createElement(g.Fragment,null,g.createElement(U.x,{"data-tag":"select-membership"},(null==p||null===(n=p.exposureData)||void 0===n?void 0:n.variantName)===_.c7?g.createElement(Ha,null,g.createElement(Ra,{headingTextId:r}),g.createElement("div",{ref:h})):g.createElement(g.Fragment,null,g.createElement(U.x,{pb:1},de),g.createElement(Ye,null),g.createElement(br,null))),A&&g.createElement(U.x,{display:"flex",alignItems:"center",flexDirection:"column",mh:{xs:1,sm:0}},!x&&g.createElement(U.x,{fluidWidth:!0,maxWidth:{xs:"100%",sm:"300px"},textAlign:"center"},g.createElement(Rr.Z,null,g.createElement(Lr.$f,null))),g.createElement(F.L,{mt:"24px"}),g.createElement(U.x,{fluidWidth:!0,maxWidth:{xs:"100%",sm:"600px"}},g.createElement(Ur.g,{variant:"tall"})))),k&&!o&&!P&&g.createElement(V.X,null,g.createElement($.J,{xs:12,sm:10,md:8,lg:6,offset:{xs:0,sm:1,md:2,lg:3}},g.createElement("div",{"data-tag":"unlaunched-placeholder"},g.createElement(ee.r,{type:"add",href:"/edit/tiers",message:"Add Tiers"})))),g.createElement(V.X,null,g.createElement($.J,{xs:12},g.createElement(U.x,{mt:1,display:{xs:"block",sm:"flex"},justifyContent:U.x.JustifyContent.Center,"data-tag":"campaign-stats"},E?null:g.createElement(U.x,{mh:1},g.createElement(Q.Z,{campaign:a,currentUserIsOwner:k})),g.createElement(U.x,{mh:1,display:{xs:"flex",sm:"block"},justifyContent:U.x.JustifyContent.Center,"data-tag":"campaign-social-links"},g.createElement(Y.Z,{connectedSocials:(0,ce.U)((()=>a.connectedSocials)),campaignId:a.id}))))),g.createElement(V.X,null,g.createElement($.J,{xs:10,sm:6,md:4,offset:{xs:1,sm:3,md:4}},!o&&g.createElement(U.x,{mt:2,mh:.5,"data-tag":"creator-page-grid-cta"},g.createElement(oe.Z,{id:r,campaign:a,refKey:"bap",onBePatronClick:()=>{Wa(a)},size:W.z.Size.Sm})),g.createElement(U.x,{mt:2,display:U.x.Display.Flex,justifyContent:U.x.JustifyContent.Center},g.createElement(U.x,{mh:.5,flexBasis:"50%"},g.createElement(cn,null)),S&&g.createElement(U.x,{mh:.5,flexBasis:"50%"},g.createElement(st,null)),i&&g.createElement(U.x,{mh:.5,"data-tag":"creator-page-more-options"},g.createElement(It,null))))),g.createElement(V.X,null,g.createElement($.J,{xs:12},g.createElement(J.VR,null,(a.mainVideoEmbed||a.summary&&"<p></p>"!==X()(a.summary))&&g.createElement(U.x,{mt:6},g.createElement(U.x,{mb:3},g.createElement(N.R,{align:N.R.Align.Center,size:N.R.Size.Md,el:N.R.El.H2},"About ",v)),g.createElement(Gt,null)),!A&&g.createElement(U.x,{mt:3},g.createElement(jr,null)),g.createElement(U.x,{mt:6,mb:4,"data-tag":"creator-page-post-feed"},g.createElement(We,{campaign:a,currentUser:i}))))))))}Ja.propTypes={id:p().string,campaign:p().object.isRequired,currentUser:p().object,hasTiers:p().bool,isMobileMenuVisible:p().bool,shouldBlurPageBackground:p().bool.isRequired};const Ha=H.ZP.div.withConfig({componentId:"sc-1ep1j9b-0"})(["margin-left:-24px;margin-right:-24px;"]);var Ka=n(742365);function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xa(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){Qa(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qa(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ya=()=>{location.reload()},ei=()=>{},ti=e=>{var t;let{canSeeNsfw:n,canCampaignBeAgeGated:r}=e;const[a]=(0,u.Z)("campaign"),i=(0,lt.x)(),[,{post:o}]=(0,u.Z)((0,v.W)()),l=(0,C.dA)("isAnniversaryBilling"),s=(0,I.a)("enableGoogleOneTapV2"),c=null==i?void 0:i.id,d=!n&&r,m=(0,C.dA)("isTarget"),{title:p,description:h}=(0,k.Z)(a),E=(e=>{var t,n,r,a,i;let{campaign:o,canSeeNsfw:l,currentUserId:s,isPageGated:c,isTarget:d=!1,isAnniversaryBilling:u=!1}=e;const m=o.creator.id,p=null===(t=o.currentUserPledge)||void 0===t?void 0:t.amountCents,g=Boolean(o.primaryThemeColor),{contrast:h,hue:f,saturation:b}=(0,P.i_)(o.primaryThemeColor),v=(null!==(n=o.rewards)&&void 0!==n?n:[]).filter((e=>e.published)),y=v.some((e=>e.imageUrl)),x=v.length,E=v.length?Math.min(...v.map((e=>e.amountCents))):void 0,w=null===(r=o.rewards)||void 0===r?void 0:r.filter(T.U$),C=null==w?void 0:w.length,k=C&&C>0?null==w?void 0:w[0].patronCurrency:o.currency||"",_=null==w?void 0:w.filter((e=>(0,T.c0)(e))),S=_&&_.length>0,I=!!(C&&C>0)&&(null==w?void 0:w[0].showPlusTaxLabel),A=Boolean((0,O.tS)(v).length),j=Boolean(o&&o.mainVideoEmbed),D=m===s,R=null===(a=o.rewards)||void 0===a?void 0:a.some((e=>{var t;return"enabled"===(null===(t=e.freeTrialConfiguration)||void 0===t?void 0:t.status)}));return{anniversary_billing:u,any_reward_has_image:y,campaign_currency:o.currency,campaign_id:o.id,can_see_nsfw:!!l,creator_has_promo_code:!!S,creator_id:String(m),creator_tier_count:x,current_user_pledge_cents:null!=p?p:0,custom_color_contrast:h,custom_color_enabled:g,custom_color_hue:f,custom_color_saturation:b,has_active_trial:!!R,has_merch:A,has_promo_code:!!S,has_tiers_with_sales_tax:I,has_video:j,is_nsfw:!!o.isNsfw,is_owner:D,is_page_gated:c,is_target:d,lowest_tier_price_cents:E,patron_count:null!==(i=o.patronCount)&&void 0!==i?i:0,patron_currency:k,rewards_count:null!=C?C:0}})({campaign:a,canSeeNsfw:n,currentUserId:c,isPageGated:d,isTarget:m,isAnniversaryBilling:l});(0,f.e)((()=>{(0,Ka.w)(E),(0,b.P)(Xa(Xa({},E),{},{context:"landing_page"}))})),(0,g.useEffect)((()=>{var e;if(c>0||null==s||!s.exposureData)return;(0,R.J)(null==s?void 0:s.exposureData);const t=null==s||null===(e=s.exposureData)||void 0===e?void 0:e.variantName;"control"!==t&&("variant_auto_select"===t?(0,D.J)(o,Ya,ei,!0):(0,D.J)(o,Ya,ei,!1))}),[o,c,s]);const w=null==a||null===(t=a.rewards)||void 0===t?void 0:t.filter(T.U$),_=null==w?void 0:w.length;return g.createElement(y.T3,{value:a.currency},g.createElement(L.u8,null,g.createElement(x.s,{description:h,title:p}),g.createElement(j,{campaign:a}),g.createElement(Ja,{id:"fan-page-landing",campaign:a,currentUser:i,shouldBlurPageBackground:d,hasTiers:_>0})))};ti.propTypes={canCampaignBeAgeGated:p().bool,canSeeNsfw:p().bool};const ni=(0,h.qC)(E.Z,w.Z,(0,h.vl)((e=>{var t;return{isMobile:null===(t=e.responsive)||void 0===t?void 0:t.isMobile}})))(ti);function ri(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ai(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ri(Object(n),!0).forEach((function(t){ii(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ri(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ii(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const oi=()=>{var e,t,n,r,a,i,o,l,s,c,u;return(null===(e=(0,d.ZP)().patreon)||void 0===e||null===(t=e.bootstrap)||void 0===t||null===(n=t.currentUser)||void 0===n||null===(r=n.data)||void 0===r||null===(a=r.relationships)||void 0===a||null===(i=a.campaign)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.id)===(null===(l=(0,d.ZP)().patreon)||void 0===l||null===(s=l.bootstrap)||void 0===s||null===(c=s.campaign)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.id)};!function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{store:t}=(0,s.ZP)();(0,l.Z)(t,{pageSource:i.XK,selector:o.tD}),(0,c.Z)(ni,ai(ai({store:t},e),{},{navigation:{isCreatorNav:oi()},contentWidth:null,pageHeader:null,footer:{variant:a.W.FAN},mainColor:r.T.Brand}))}()},401463:(e,t,n)=>{n.d(t,{Zv:()=>a});var r=n(432645);const a=()=>({newPost:{endpoint:(0,r.R)("/posts",{fields:{post:["post_type","post_metadata"]}})}})},78584:(e,t,n)=>{n.d(t,{Z:()=>g});var r=n(768379),a=n(825149),i=n(937720),o=n(667294),l=n(692330);const s=r.z.div.withConfig({componentId:"sc-1art4zb-0"})(["display:flex;flex-direction:column;"]),c=r.z.div.withConfig({componentId:"sc-1art4zb-1"})(["margin-bottom:16px;"]),d=r.z.div.withConfig({componentId:"sc-1art4zb-2"})(["margin-bottom:8px;"]),u=r.z.div.withConfig({componentId:"sc-1art4zb-3"})(["display:inline-block;margin-right:8px;"]),m=r.z.div.withConfig({componentId:"sc-1art4zb-4"})(["display:inline-block;"]),p=e=>o.createElement(d,null,o.createElement(u,null,o.createElement(a.A,null,"â¢")),o.createElement(m,null,e.children)),g=e=>((0,l.b)(),o.createElement(s,null,o.createElement(c,null,o.createElement(i.I,{as:"div",size:"md"},'No creators found matching "',e.query,'"')),o.createElement(c,null,o.createElement(a.A,null,"Try searching for something else or:")),o.createElement(p,null,o.createElement(a.A,null,"Search for the creatorâs name or what they create.")),o.createElement(p,null,o.createElement(a.A,null,"Make sure everything is spelled correctly.")),o.createElement(p,null,o.createElement(a.A,null,"Try more general keywords."))))},586860:(e,t,n)=>{n.d(t,{Z:()=>R});var r,a,i,o,l,s=n(547718),c=n(999007),d=n(839301),u=n(227361),m=n.n(u),p=n(359704),g=n.n(p),h=n(45697),f=n.n(h),b=n(667294),v=n(418093),y=n(602542),x=n(119841),E=n(2139),w=n(808543),C=n(152144),k=n(78584),T=n(176203),P=n(755983),O=n(258774),_=n(104963),S=n(329217),I=n(755182);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){D(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let R=(r=(0,v.vl)((e=>{var t,n;return{searchText:(0,C.j9)(null==e||null===(t=e.location)||void 0===t||null===(n=t.query)||void 0===n?void 0:n.q),currentPage:1*m()(e,"location.query.p",1)}})),a=(0,s.ZP)((()=>({currentUser:{},search:{dataKey:"search"}}))),i=(0,x.sQ)("deviceId"),(0,E.l)(o=(0,w.d)(o=r(o=a(o=i((l=class extends b.Component{constructor(e){super(e),D(this,"executeSearch",(()=>{const{currentPage:e,searchText:t}=this.props,{search:n}=this.props.nion;(0,C.en)(t)&&n.actions.get({endpoint:(0,C.aH)(t,{page:e})})})),D(this,"renderEmptyResults",(()=>{const{searchText:e}=this.props;return e?b.createElement(k.Z,{query:e}):null})),D(this,"renderPagination",(e=>e.totalPages<=0?null:b.createElement(T.Z,{pageCount:e.totalPages,currentPage:e.pageNumber}))),D(this,"checkAndLogNewSearch",(e=>{const{currentPage:t,searchText:n}=this.props;1===t&&n!==this.lastLoggedSearchText&&((0,I.q)({search_query:n,search_results_count:null==e?void 0:e.searchResultsCount,search_results_count_nsfw:null==e?void 0:e.searchResultsCountNsfw,search_results_count_sfw:null==e?void 0:e.searchResultsCountSfw,search_results_page_campaigns:null==e?void 0:e.searchResultsPageCampaigns,search_results_page_number:t}),this.lastLoggedSearchText=n)})),D(this,"_renderSearchResult",((e,t)=>{const{currentPage:n,deviceId:r}=this.props,{search:{extra:{meta:a}}}=this.props.nion;return b.createElement("div",{"data-tag":"campaign-result"},b.createElement(O.Z,{key:e.id,onClick:()=>(0,C.Tt)(e,t,"search_page",this.props.searchText,n,a.query_id,r),result:j(j({},e),{},{isNsfw:Boolean(e.isNsfw)})}))})),this.lastLoggedSearchText=null}componentDidMount(){this.executeSearch()}componentDidUpdate(e){g()([e.searchText!==this.props.searchText,e.currentPage!==this.props.currentPage])&&(this.executeSearch(),window.scrollTo(0,0))}render(){const{currentPage:e,searchText:t}=this.props,{search:{data:n,extra:{meta:r},request:{isLoading:a}}}=this.props.nion;let i=null,o=!1,l={isLoading:!0,pageNumber:e,pageResultCount:0,totalPages:0};return(0,C.en)(t)?a||!n?i=b.createElement(S.u,null,b.createElement(d.T,null)):n&&n.length?(this.checkAndLogNewSearch({searchResultsCount:r.hits_total,searchResultsPageCampaigns:(0,C.Wh)(n)}),i=n.map(this._renderSearchResult),l=j(j({},l),{},{isLoading:!1,pageResultCount:n.length,totalPages:r.pages_total})):(this.checkAndLogNewSearch({searchResultsCount:0,searchResultsPageCampaigns:[]}),o=!0):(this.checkAndLogNewSearch({searchResultsCount:0,searchResultsCountSfw:0,searchResultsCountNsfw:0,searchResultsPageCampaigns:[]}),o=!0,l=j(j({},l),{},{isLoading:!1})),b.createElement(b.Fragment,null,b.createElement(y.s,{title:(0,c.translate)(this.context,"Search",void 0,"Title for search page")}),b.createElement(_.Z,{defaultValue:t}),o&&this.renderEmptyResults(),i&&b.createElement(S.O,null,i),this.renderPagination(l),!t&&b.createElement(P.Z,null))}},D(l,"contextType",c.LocaleContext),D(l,"propTypes",{currentPage:f().number,searchText:f().string,deviceId:f().string}),o=l))||o)||o)||o)||o)||o)},329217:(e,t,n)=>{n.d(t,{O:()=>o,u:()=>i});var r=n(623338),a=n(768379);const i=a.z.div.withConfig({componentId:"sc-rhddyo-0"})(["height:80vh;display:flex;flex-direction:column;align-items:center;justify-content:center;"]),o=a.z.div.withConfig({componentId:"sc-rhddyo-1"})(["background-color:",";border-radius:",";box-shadow:",";padding:"," 0;",""],r.T.global.bg.base.default,r.T.global.radius.md,r.T.global.boxShadow.low,r.T.global.space12,(e=>e.theme.responsive.cssPropsForBreakpointValues({xs:"none",sm:`${r.T.global.boxShadow.low}`},"box-shadow")))},842950:(e,t,n)=>{n.d(t,{Z:()=>b,a:()=>v});var r,a,i=n(825149),o=n(623338),l=n(227025),s=n.n(l),c=n(45697),d=n.n(c),u=n(667294),m=n(50533),p=n(633311),g=n(418093),h=n(768379);function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let b=(0,m.$j)(null,(e=>({updateSearchPath:t=>e((0,p.push)(t))})))(r=(0,g.vl)((e=>{const{searchText:t,searchType:n,pageNumber:r}=e,a=new(s())(window.location.href,!0);return t&&(a.query.q=t),n&&(a.query.t=n),r&&(a.query.p=r),{searchUrl:a.toString(),searchPath:`${a.path}?${a.query.toString()}`}}))((a=class extends u.Component{constructor(){super(...arguments),f(this,"onClick",(e=>{const{searchPath:t,updateSearchPath:n,onClick:r}=this.props;e.preventDefault(),r&&r(),n(t)}))}render(){const{children:e,searchUrl:t,isCurrent:n}=this.props;return n?u.createElement(E,null,u.createElement(i.A,null,e)):u.createElement(w,{href:t,onClick:this.onClick},u.createElement(i.A,null,e))}},f(a,"propTypes",{children:d().node,searchPath:d().string,searchUrl:d().string,updateSearchPath:d().func,onClick:d().func,isCurrent:d().boolean}),r=a))||r)||r;const v=()=>u.createElement(x,null,"â¦"),y=h.i`
  display: flex;
  box-sizing: border-box;
  flex-direction: row;
  justify-content: center;
  align-items: center;
  padding: 0px ${o.T.global.space8};
  width: 44px;
  height: 44px;
  border-radius: ${o.T.global.radius.md};
  flex: none;
  order: 1;
  flex-grow: 0;
`,x=h.z.div.withConfig({componentId:"sc-exfcb4-0"})(["",""],y),E=h.z.div.withConfig({componentId:"sc-exfcb4-1"})([""," background:",";"],y,o.T.global.secondary.muted.default),w=h.z.a.withConfig({componentId:"sc-exfcb4-2"})([""," cursor:pointer;&:hover{background:",";}&:active{background:",";}"],y,o.T.global.secondary.muted.hover,o.T.global.secondary.muted.active)},176203:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(396026),a=n.n(r),i=n(45697),o=n.n(i),l=n(667294),s=n(842950),c=n(689471),d=n(5665);function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m extends l.Component{constructor(){super(...arguments),u(this,"renderPaginationLink",(e=>{let{content:t,pageNumber:n,isCurrent:r,renderAnchor:a,actionType:i}=e;return l.createElement(s.Z,{key:n,pageNumber:n,renderAnchor:a,onClick:()=>{(0,d.o)({search_results_page_number:n,search_results_pagination_type:i})},isCurrent:r},t)}))}render(){const{currentPage:e,pageCount:t}=this.props,n=t;let r=!1,i=!1,o=1,d=n;if(t>7){r=e>=5,i=e<=t-5;const n=Math.floor(2.5);o=e-n,d=e+n,o<=n&&(r=!1,o=1,d=Math.min(t,o+5-1)),d>=t-n&&(i=!1,o=Math.max(1,t-4),d=t)}const u=a()(o,d+1);return l.createElement(c.l,null,l.createElement(c.b,null,r&&l.createElement(l.Fragment,null,this.renderPaginationLink({content:1,pageNumber:1,isCurrent:!1,actionType:"page_number"}),l.createElement(s.a,null)),u.map((t=>this.renderPaginationLink({content:t,pageNumber:t,isCurrent:t===e,actionType:"page_number"}))),i&&l.createElement(l.Fragment,null,l.createElement(s.a,null),this.renderPaginationLink({content:n,pageNumber:n,isCurrent:!1,actionType:"page_number"}))))}}u(m,"propTypes",{currentPage:o().number,pageCount:o().number})},689471:(e,t,n)=>{n.d(t,{b:()=>o,l:()=>i});var r=n(768379),a=n(623338);const i=r.z.div.withConfig({componentId:"sc-1y8hr57-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;",""],(e=>e.theme.responsive.cssPropsForBreakpointValues({xs:`${a.T.global.space40} 0`,sm:`${a.T.global.space56} 0`},"margin"))),o=r.z.div.withConfig({componentId:"sc-1y8hr57-1"})(["display:flex;flex-direction:row;align-items:center;justify-content:space-between;max-width:100%;gap:4px;> *{margin-right:",";}"],(e=>e.theme.units.getValue(1)))},755983:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(768379),a=n(623338),i=n(825149),o=n(667294),l=n(571995),s=n(79061);const c=r.z.div.withConfig({componentId:"sc-1n4hjs1-0"})(["align-items:center;display:flex;flex-direction:column;margin-top:",";"],a.T.global.space40),d=r.z.div.withConfig({componentId:"sc-1n4hjs1-1"})(["display:flex;flex-direction:row;flex-wrap:wrap;justify-content:center;padding-top:",";gap:8px;"],a.T.global.space16),u=r.z.a.withConfig({componentId:"sc-1n4hjs1-2"})(["background-color:",";border:1px solid ",";box-sizing:border-box;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:10px 16px;height:40px;border-radius:20px;&:hover{border:1px solid ",";}&:active{border:1px solid ",";}&:focus:not(:active){border:1px solid rgba(130,140,171,0.3);box-shadow:0px 0px 0px 3px rgba(62,159,248,0.4);}"],a.T.global.bg.base.default,a.T.global.border.action.default,a.T.global.border.action.hover,a.T.global.border.action.pressed),m=()=>((0,s.kK)(s.a4),o.createElement(c,{"data-tag":"popular-searches"},o.createElement(i.A,{size:"md",muted:!0},o.createElement(l.SQ,null)),o.createElement(d,{"data-tag":"popular-searches-topics"},s.a4.map((e=>o.createElement(u,{key:e.keyword,href:e.url,onClick:()=>(0,s.TO)(e)},o.createElement(i.A,{size:"md"},e.keyword," ")))))))},258774:(e,t,n)=>{n.d(t,{Z:()=>p});var r=n(999007),a=n(825149),i=n(937720),o=n(218659),l=n(45697),s=n.n(l),c=n(667294),d=n(152144),u=n(418702);function m(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends c.Component{render(){const{avatarPhotoUrl:e,avatarPhotoBlurredUrl:t,creationName:n,isNsfw:l,name:s,patronCount:m,postStatistics:p={},url:g}=this.props.result,{onClick:h}=this.props,f=l?t:e,b=(0,d.$h)(g),v=m?c.createElement(c.Fragment,null,c.createElement(a.A,{size:"sm",muted:!0},"Â·"),c.createElement(a.A,{"data-tag":"campaign-result-patron-count",size:"sm",muted:!0},c.createElement(r.Plural,{one:"# patron",other:"# patrons",value:m}))):null;return c.createElement(u.n3,{"data-tag":"campaign-result-container",key:g,href:b,onClick:h},c.createElement(u.qE,{size:"60px",src:f,"data-tag":"campaign-result-avatar"}),c.createElement(u.q8,null,c.createElement(i.I,{size:"md"},s),!!n&&c.createElement(o.x,{mt:.5},c.createElement(a.A,{size:"md",muted:!0},n)),c.createElement(u.Si,null,c.createElement(a.A,{size:"sm",muted:!0},c.createElement(r.Plural,{one:"# post",other:"# posts",value:p.total})),v)))}}m(p,"contextType",r.LocaleContext),m(p,"propTypes",{onClick:s().func,result:s().shape({avatarPhotoUrl:s().string,avatarPhotoBlurredUrl:s().string,creationName:s().string,isNsfw:s().bool,name:s().string,patronCount:s().number,postStatistics:s().shape({total:s().number,image:s().number,video:s().number,audio:s().number,livestream:s().number,update:s().number,link:s().number,poll:s().number}),summary:s().string,url:s().string})})},418702:(e,t,n)=>{n.d(t,{Si:()=>l,n3:()=>o,q8:()=>i,qE:()=>s});var r=n(623338),a=n(768379);const i=a.z.div.withConfig({componentId:"sc-6cl5tp-0"})(["margin-left:",";width:100%;display:flex;flex-direction:column;overflow:auto;"],r.T.global.space16),o=a.z.a.withConfig({componentId:"sc-6cl5tp-1"})(["display:flex;flex-direction:row;align-items:flex-start;justify-content:flex-start;padding:"," ",";&:hover{color:",";background-color:",";}&:active{color:",";background-color:",";}"," ",""],r.T.global.space16,r.T.global.space12,r.T.global.constant.black.hover,r.T.global.bg.base.hover,r.T.global.constant.black.pressed,r.T.global.bg.base.pressed,(e=>e.theme.responsive.cssPropsForBreakpointValues({xs:`0 calc(${r.T.global.space16}* -1)`,sm:`0 ${r.T.global.space12}`},"margin")),(e=>e.theme.responsive.cssPropsForBreakpointValues({xs:0,sm:r.T.global.radius.md},"border-radius"))),l=a.z.div.withConfig({componentId:"sc-6cl5tp-2"})(["display:flex;flex-direction:row;gap:6px;margin-top:",";"],r.T.global.space8),s=a.z.div.withConfig({componentId:"sc-6cl5tp-3"})(["border-radius:",";background-clip:padding-box;background-image:",";overflow:hidden;background-repeat:no-repeat;background-position:center;background-size:cover;height:",";width:",";min-width:",";box-shadow:inset 0 0 0 "," ",";"],r.T.global.radius.circle,(e=>`url(${e.src})`),(e=>e.size),(e=>e.size),(e=>e.size),r.T.global.borderWidth.thin,r.T.global.border.action.default)},350506:(e,t,n)=>{n.d(t,{M:()=>m});var r=n(819586),a=n(959468),i=n(398032),o=n(73266),l=n(867729),s=n(768379),c=n(667294),d=n(400860);const u=e=>{let{value:t,label:n,placeholder:l,onClearValue:s,onBlur:d,onChange:u,onFocus:m,inputRef:p}=e;const f=t&&t.length>0;return c.createElement(g,null,c.createElement(r.o,{size:"sm",hideLabel:!0,label:n,"aria-label":n,autoComplete:"off",value:t,variant:"solid",name:"q",onBlur:d,onChange:u,onFocus:m,placeholder:l,ref:p,type:"search",prefix:a.N}),f&&c.createElement(h,null,c.createElement(i.z,{loggerId:"pages-search-SearchBar-SearchInput-clear-value",size:"xs",icon:o.h,unfilled:!0,onClick:s})))},m=e=>{let{value:t,emptyState:n,formUrl:r,items:a=[],itemRenderer:i,label:o,onClearValue:s,onBlur:m,onChange:g,onClose:h,onFocus:f,onSelectItem:b,placeholder:v,resultsAreOpen:y}=e;const x=(0,c.useRef)(null),[E,w]=(0,c.useState)("0"),C=(0,c.useCallback)((()=>{x.current&&w(`${x.current.offsetWidth}px`)}),[x]);return(0,d.L)((()=>{if("function"!=typeof ResizeObserver)return;if(null===x.current)return;const e=x.current,t=new ResizeObserver((()=>{C()}));return t.observe(e),()=>{t.observe(e)}}),[C,x]),c.createElement(p,{action:r,method:"GET",role:"search"},c.createElement(l.L,{ariaLabel:o,dropdownHandle:{component:u,props:{value:t,inputRef:x,onClearValue:s,onBlur:m,onChange:g,onFocus:f,label:o,placeholder:v}},hideCaret:!0,isDivDropdown:!0,isOpen:y,onClose:e=>{h&&h(e)},rightAlign:!0,width:E},c.createElement(l.L.List,{emptyState:n,itemRenderer:i,items:a,onSelectItem:b})))},p=s.z.form.withConfig({componentId:"sc-16tr0o9-0"})(["position:relative;"]),g=s.z.div.withConfig({componentId:"sc-16tr0o9-1"})(["position:relative;width:100%;"]),h=s.z.div.withConfig({componentId:"sc-16tr0o9-2"})(["position:absolute;"," ",""],(e=>e.theme.responsive.cssPropsForBreakpointValues({xs:"2px",sm:"4px"},"right")),(e=>e.theme.responsive.cssPropsForBreakpointValues({xs:"2px",sm:"4px"},"top")))},104963:(e,t,n)=>{n.d(t,{Z:()=>q});var r=n(547718),a=n(999007),i=n(623338),o=n(298178),l=n(173743),s=n(825149),c=n(218659),d=n(398032),u=n(23279),m=n.n(u),p=n(45697),g=n.n(p),h=n(667294),f=n(418093),b=n(768379),v=n(278960),y=n(367026),x=n(702303),E=n(571995),w=n(119841),C=n(808543),k=n(135190),T=n(921968),P=n(152144),O=n(79061),_=(n(81267),n(350506)),S=n(280337);function I(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?I(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t);if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const D=b.z.div.withConfig({componentId:"sc-1gujuj-0"})(["width:40px;"]),R=b.z.div.withConfig({componentId:"sc-1gujuj-1"})(["display:flex;"]),L=b.z.div.withConfig({componentId:"sc-1gujuj-2"})(["padding:"," 0;"],i.T.global.space24),z=e=>{const t=e.isNsfw?e.avatarPhotoBlurredUrl:e.thumb;return e.name?h.createElement(R,null,h.createElement(o.q,{size:"smxs",src:t}),h.createElement(l.L,{ml:"12px"},h.createElement(s.A,{size:"md"},e.name),!!e.creationName&&h.createElement(s.A,{size:"sm",muted:!0},e.creationName))):h.createElement(R,null,h.createElement(D,null),h.createElement(l.L,{ml:"12px"},h.createElement(s.A,{size:"md"},e.label)))};z.propTypes={avatarPhotoBlurredUrl:g().string.isRequired,creationName:g().string.isRequired,isNsfw:g().number.isRequired,name:g().string.isRequired,label:g().string.isRequired,thumb:g().string.isRequired};const U=e=>(0,a.translate)(e,"See all results",void 0,"item in search result autocomplete menu that takes user to a full search results page"),M=(0,r.ZP)(A({currentUser:{}},S.Z)),B=(0,f.xJ)("resultsSearchText","setResultsSearchText",(e=>(null==e?void 0:e.defaultValue)||"")),F=(0,f.xJ)("resultsAreOpen","setResultsAreOpen",!1),Z=(0,f.xJ)("error","setError",null);class N extends h.Component{constructor(){super(...arguments),j(this,"clearSearch",(()=>{this.props.setResultsSearchText(""),this.closeDropdown(),this.props.router.push("/search")})),j(this,"openDropdown",(()=>{(0,P.en)(this.props.resultsSearchText)&&this.props.setResultsAreOpen(!0)})),j(this,"closeDropdown",(()=>{this.props.setResultsAreOpen(!1)})),j(this,"handleBlur",(e=>{(0,v.l_)(v.K1.BLUR)})),j(this,"handleSelectItem",((e,t,n)=>{const{navigationSearch:r}=this.props.nion,{deviceId:a}=this.props;var i,o,l;e.label===U(this.context)?(0,v.l_)(v.K1.VIEW_ALL,{search_algolia_variant_id:null==r||null===(i=r.data)||void 0===i?void 0:i.abTestVariantID}):(0,P.yb)(e,t,this.props.resultsSearchText,null==r||null===(o=r.extra)||void 0===o?void 0:o.meta.queryId,a,null==r||null===(l=r.data)||void 0===l?void 0:l.abTestVariantID),n.preventDefault(),((e,t,n)=>{const r=(0,T.ZP)();t?r.open(e):r.location.href=e})(e.url,n.metaKey||n.shiftKey)})),j(this,"handleFocus",(()=>{(0,x.H)(),setTimeout(this.openDropdown,200)})),j(this,"createSearchQuery",(()=>{var e;return(null!==(e=this.props.createSearchQuery)&&void 0!==e?e:O.kq)(this.props.resultsSearchText)})),j(this,"debouncedHandleSearchChange",m()((e=>{const{setError:t}=this.props,{navigationSearch:n}=this.props.nion;if(!(0,P.en)(e))return this.closeDropdown(),n.actions.updateRef({});const r=(0,P.aH)(e,{hitsPerPage:P.WY,src:P.Pf.NAVBAR});n.actions.get({endpoint:r}).then((t=>{this.openDropdown(),(0,y.C)({search_query:e,search_results_count:t.meta.hitsTotal,search_results_page_campaigns:(0,P.Wh)(t.data),search_algolia_variant_id:t.abTestVariantID})})).catch((e=>{t(e)}))}),200)),j(this,"handleChange",(e=>{const{resultsSearchText:t,setResultsSearchText:n}=this.props;t!==e.target.value&&(n(e.target.value),this.debouncedHandleSearchChange(e.target.value))}))}get searchResults(){var e;const{resultsSearchText:t,nion:{navigationSearch:n}}=this.props,r={label:U(this.context),url:this.createSearchQuery(t)},a=null==n||null===(e=n.data)||void 0===e?void 0:e.data.map((e=>{let{attributes:t,id:n}=e;return A(A({},t),{},{url:(0,P.$h)(t.url),objectID:n,label:t.name})}));return a&&a.length?[...a,r]:[]}render(){var e;const{buttonText:t,nion:{navigationSearch:{request:{isLoading:n}}},resultsAreOpen:r,resultsSearchText:i,error:o,searchPlaceholder:l,disableLoading:u}=this.props,m=t||h.createElement(E.wh,null),p=(0,P.en)(i)&&o&&h.createElement(s.A,null,"Error in searching for â",i,"â. Please try again later."),g=(null===(e=this.searchResults)||void 0===e?void 0:e.length)>0&&r,f=l||(0,a.translate)(this.context,"Find a creator",void 0,"header search bar searchPlaceholder");return h.createElement(L,{"data-tag":"search-bar"},h.createElement(c.x,{display:{xs:c.x.Display.Block,sm:c.x.Display.Flex}},h.createElement(c.x,{flexGrow:2},h.createElement(_.M,{value:i,onClearValue:this.clearSearch,emptyState:p,formUrl:this.createSearchQuery(),isLoading:!u&&n,itemRenderer:z,items:this.searchResults,label:h.createElement(E.wh,null),onBlur:this.handleBlur,onChange:this.handleChange,onClose:this.closeDropdown,onFocus:this.handleFocus,onSelectItem:this.handleSelectItem,placeholder:f,resultsAreOpen:g})),h.createElement(k.o,{sm:!0,md:!0,lg:!0,xl:!0},h.createElement(c.x,{pt:{xs:1,sm:0},pl:{sm:1},display:"flex",alignItems:"center"},h.createElement(d.z,{loggerId:"pages-search-SearchBar",size:"md",variant:"primary",fluid:{xs:!0,sm:!1},href:this.createSearchQuery(this.props.resultsSearchText)},m)))))}}j(N,"contextType",a.LocaleContext),j(N,"propTypes",{buttonText:g().string,searchPlaceholder:g().string,disableLoading:g().bool,createSearchQuery:g().func,resultsSearchText:g().string,setResultsSearchText:g().func.isRequired,error:g().object,setError:g().func.isRequired,resultsAreOpen:g().bool.isRequired,setResultsAreOpen:g().func.isRequired,nion:g().shape({navigationSearch:g().shape({data:g().shape({hits:g().array})}).isRequired}).isRequired,deviceId:g().string,router:g().object});const q=(0,f.qC)(M,F,B,Z,C.d,(0,w.sQ)("deviceId"))(N)},280337:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(152144);const a={navigationSearch:{endpoint:r.vc.endpoint,headers:{"X-Algolia-API-Key":r.vc.apiKey,"X-Algolia-Application-Id":r.vc.appId},apiType:"api"}}}}]);
//# sourceMappingURL=fanPage.d17f5adc.0645c0e43f737657d0a4.js.map