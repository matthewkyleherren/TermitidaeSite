/*! For license information please see 1813.00e42aac0226cfd23155.js.LICENSE.txt */
(self.webpackChunkpatreon_react_features=self.webpackChunkpatreon_react_features||[]).push([[1813],{467178:e=>{var t=function(e){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),document.body.appendChild(this.canvas),this.width=this.canvas.width=e.width,this.height=this.canvas.height=e.height,this.context.drawImage(e,0,0,this.width,this.height)};t.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},t.prototype.update=function(e){this.context.putImageData(e,0,0)},t.prototype.getPixelCount=function(){return this.width*this.height},t.prototype.getImageData=function(){return this.context.getImageData(0,0,this.width,this.height)},t.prototype.removeCanvas=function(){this.canvas.parentNode.removeChild(this.canvas)};var r=function(){};if(r.prototype.getColor=function(e,t){return this.getPalette(e,5,t)[0]},r.prototype.getPalette=function(e,r,n){(void 0===r||r<2||r>256)&&(r=10),(void 0===n||n<1)&&(n=10);for(var a,o,s,l,u=new t(e),c=u.getImageData().data,d=u.getPixelCount(),h=[],f=0;f<d;f+=n)o=c[0+(a=4*f)],s=c[a+1],l=c[a+2],c[a+3]>=125&&(o>250&&s>250&&l>250||h.push([o,s,l]));var p=i.quantize(h,r),m=p?p.palette():null;return u.removeCanvas(),m},r.prototype.getColorFromUrl=function(e,t,r){sourceImage=document.createElement("img");var n=this;sourceImage.addEventListener("load",(function(){var i=n.getPalette(sourceImage,5,r)[0];t(i,e)})),sourceImage.src=e},r.prototype.getImageData=function(e,t){xhr=new XMLHttpRequest,xhr.open("GET",e,!0),xhr.responseType="arraybuffer",xhr.onload=function(e){if(200==this.status){uInt8Array=new Uint8Array(this.response),r=uInt8Array.length,binaryString=new Array(r);for(var r=0;r<uInt8Array.length;r++)binaryString[r]=String.fromCharCode(uInt8Array[r]);data=binaryString.join(""),base64=window.btoa(data),t("data:image/png;base64,"+base64)}},xhr.send()},r.prototype.getColorAsync=function(e,t,r){var n=this;this.getImageData(e,(function(e){sourceImage=document.createElement("img"),sourceImage.addEventListener("load",(function(){var e=n.getPalette(sourceImage,5,r)[0];t(e,this)})),sourceImage.src=e}))},!n)var n={map:function(e,t){var r={};return t?e.map((function(e,n){return r.index=n,t.call(r,e)})):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var r={};return e.reduce(t?function(e,n,i){return r.index=i,e+t.call(r,n)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?n.map(e,t):e)}};var i=function(){function e(e,t,r){return(e<<10)+(t<<5)+r}function t(e){var t=[],r=!1;function n(){t.sort(e),r=!0}return{push:function(e){t.push(e),r=!1},peek:function(e){return r||n(),void 0===e&&(e=t.length-1),t[e]},pop:function(){return r||n(),t.pop()},size:function(){return t.length},map:function(e){return t.map(e)},debug:function(){return r||n(),t}}}function r(e,t,r,n,i,a,o){var s=this;s.r1=e,s.r2=t,s.g1=r,s.g2=n,s.b1=i,s.b2=a,s.histo=o}function i(){this.vboxes=new t((function(e,t){return n.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())}))}function a(t,r){if(r.count()){var i=r.r2-r.r1+1,a=r.g2-r.g1+1,o=r.b2-r.b1+1,s=n.max([i,a,o]);if(1==r.count())return[r.copy()];var l,u,c,d,h=0,f=[],p=[];if(s==i)for(l=r.r1;l<=r.r2;l++){for(d=0,u=r.g1;u<=r.g2;u++)for(c=r.b1;c<=r.b2;c++)d+=t[e(l,u,c)]||0;h+=d,f[l]=h}else if(s==a)for(l=r.g1;l<=r.g2;l++){for(d=0,u=r.r1;u<=r.r2;u++)for(c=r.b1;c<=r.b2;c++)d+=t[e(u,l,c)]||0;h+=d,f[l]=h}else for(l=r.b1;l<=r.b2;l++){for(d=0,u=r.r1;u<=r.r2;u++)for(c=r.g1;c<=r.g2;c++)d+=t[e(u,c,l)]||0;h+=d,f[l]=h}return f.forEach((function(e,t){p[t]=h-e})),function(e){var t,n,i,a,o,s=e+"1",u=e+"2",c=0;for(l=r[s];l<=r[u];l++)if(f[l]>h/2){for(i=r.copy(),a=r.copy(),o=(t=l-r[s])<=(n=r[u]-l)?Math.min(r[u]-1,~~(l+n/2)):Math.max(r[s],~~(l-1-t/2));!f[o];)o++;for(c=p[o];!c&&f[o-1];)c=p[--o];return i[u]=o,a[s]=i[u]+1,[i,a]}}(s==i?"r":s==a?"g":"b")}}return r.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var r=this,n=r.histo;if(!r._count_set||t){var i,a,o,s=0;for(i=r.r1;i<=r.r2;i++)for(a=r.g1;a<=r.g2;a++)for(o=r.b1;o<=r.b2;o++)s+=n[e(i,a,o)]||0;r._count=s,r._count_set=!0}return r._count},copy:function(){var e=this;return new r(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var r=this,n=r.histo;if(!r._avg||t){var i,a,o,s,l=0,u=0,c=0,d=0;for(a=r.r1;a<=r.r2;a++)for(o=r.g1;o<=r.g2;o++)for(s=r.b1;s<=r.b2;s++)l+=i=n[e(a,o,s)]||0,u+=i*(a+.5)*8,c+=i*(o+.5)*8,d+=i*(s+.5)*8;r._avg=l?[~~(u/l),~~(c/l),~~(d/l)]:[~~(8*(r.r1+r.r2+1)/2),~~(8*(r.g1+r.g2+1)/2),~~(8*(r.b1+r.b2+1)/2)]}return r._avg},contains:function(e){var t=this,r=e[0]>>3;return gval=e[1]>>3,bval=e[2]>>3,r>=t.r1&&r<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map((function(e){return e.color}))},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,r=0;r<t.size();r++)if(t.peek(r).vbox.contains(e))return t.peek(r).color;return this.nearest(e)},nearest:function(e){for(var t,r,n,i=this.vboxes,a=0;a<i.size();a++)((r=Math.sqrt(Math.pow(e[0]-i.peek(a).color[0],2)+Math.pow(e[1]-i.peek(a).color[1],2)+Math.pow(e[2]-i.peek(a).color[2],2)))<t||void 0===t)&&(t=r,n=i.peek(a).color);return n},forcebw:function(){var e=this.vboxes;e.sort((function(e,t){return n.naturalOrder(n.sum(e.color),n.sum(t.color))}));var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var r=e.length-1,i=e[r].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[r].color=[255,255,255])}},{quantize:function(o,s){if(!o.length||s<2||s>256)return!1;var l=function(t){var r,n,i,a,o=new Array(32768);return t.forEach((function(t){n=t[0]>>3,i=t[1]>>3,a=t[2]>>3,r=e(n,i,a),o[r]=(o[r]||0)+1})),o}(o);l.forEach((function(){}));var u=function(e,t){var n,i,a,o=1e6,s=0,l=1e6,u=0,c=1e6,d=0;return e.forEach((function(e){n=e[0]>>3,i=e[1]>>3,a=e[2]>>3,n<o?o=n:n>s&&(s=n),i<l?l=i:i>u&&(u=i),a<c?c=a:a>d&&(d=a)})),new r(o,s,l,u,c,d,t)}(o,l),c=new t((function(e,t){return n.naturalOrder(e.count(),t.count())}));function d(e,t){for(var r,n=1,i=0;i<1e3;)if((r=e.pop()).count()){var o=a(l,r),s=o[0],u=o[1];if(!s)return;if(e.push(s),u&&(e.push(u),n++),n>=t)return;if(i++>1e3)return}else e.push(r),i++}c.push(u),d(c,.75*s);for(var h=new t((function(e,t){return n.naturalOrder(e.count()*e.volume(),t.count()*t.volume())}));c.size();)h.push(c.pop());d(h,s-h.size());for(var f=new i;h.size();)f.push(h.pop());return f}}}();e.exports=r},274294:(e,t,r)=>{"use strict";r.d(t,{V:()=>d});var n=r(768379),i=r(905227),a=r(623338),o=r(667294),s=r(388193),l=r(125852);const u=n.z.div.withConfig({componentId:"sc-12biaxt-0"})(["display:flex;",";",";background-size:cover;background-position:center;",";",";border-radius:",";position:relative;box-shadow:",";overflow:hidden;"],(e=>{let{previewUrl:t}=e;return t&&`background: url(${t})`}),(e=>{let{backgroundColor:t}=e;return t&&`background: ${t}`}),(e=>{let{height:t}=e;return t&&("string"==typeof t?`height: ${t}`:(0,i.jo)("height",t))}),(e=>{let{width:t}=e;return t&&("string"==typeof t?`width: ${t}`:(0,i.jo)("width",t))}),(e=>{let{borderRadius:t}=e;return t}),a.T.global.boxShadow.high),c=n.z.div.withConfig({componentId:"sc-12biaxt-1"})([""," "," background:linear-gradient(0deg,rgba(0,0,0,0.15) -20.5%,rgba(0,0,0,0) 119%);position:absolute;top:0;left:0;"],(e=>{let{width:t}=e;return`width: ${t};`}),(e=>{let{height:t}=e;return`height: ${t};`}));function d(e){let{previewUrl:t,children:r,height:n,width:i,borderRadius:a,alpha:d=1,renderImage:h=!1}=e;return o.createElement(s.Z,{imgUrls:[t]},(e=>{const s=e.colors[0];if(!s)return null;const f=((e,t)=>{const r=(0,l.oo)(e),n=(0,l.lC)(r);n[2]=35;const i=(0,l.hP)(n[0],n[1],n[2]);return i.push(t),`rgba(${i.join(",")})`})(s,d);return e.isLoading?null:o.createElement(u,{previewUrl:h?t:void 0,backgroundColor:h?void 0:f,height:n,width:i,borderRadius:a},o.createElement(c,{rgbaString:f,width:"100%",height:"100%"}),r)}))}},125852:(e,t,r)=>{"use strict";function n(e){let t=0,r=0,n=0;return 4===e.length?(t=parseInt(e[1]+e[1],16),r=parseInt(e[2]+e[2],16),n=parseInt(e[3]+e[3],16)):7===e.length&&(t=parseInt(e[1]+e[2],16),r=parseInt(e[3]+e[4],16),n=parseInt(e[5]+e[6],16)),[t,r,n]}function i(e){let t=e[0],r=e[1],n=e[2];t/=255,r/=255,n/=255;const i=Math.max(t,r,n),a=Math.min(t,r,n);let o=0,s=0;const l=(i+a)/2;if(i===a)o=s=0;else{const e=i-a;switch(s=l>.5?e/(2-i-a):e/(i+a),i){case t:o=(r-n)/e+(r<n?6:0);break;case r:o=(n-t)/e+2;break;case n:o=(t-r)/e+4}o/=6}return[Math.round(360*o),Math.round(100*s),Math.round(100*l)]}function a(e,t,r){t/=100,r/=100;const n=(1-Math.abs(2*r-1))*t,i=n*(1-Math.abs(e/60%2-1)),a=r-n/2;let o=0,s=0,l=0;return 0<=e&&e<60?(o=n,s=i,l=0):60<=e&&e<120?(o=i,s=n,l=0):120<=e&&e<180?(o=0,s=n,l=i):180<=e&&e<240?(o=0,s=i,l=n):240<=e&&e<300?(o=i,s=0,l=n):300<=e&&e<360&&(o=n,s=0,l=i),o=Math.round(255*(o+a)),s=Math.round(255*(s+a)),l=Math.round(255*(l+a)),[o,s,l]}r.d(t,{hP:()=>a,lC:()=>i,oo:()=>n})},388193:(e,t,r)=>{"use strict";r.d(t,{Z:()=>E});var n,i,a=r(467178),o=r.n(a),s=r(842348),l=r.n(s),u=r(944908),c=r.n(u),d=r(45697),h=r.n(d),f=r(667294),p=r(418093),m=r(710184),v=r(736343),g=r(599757);function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){b(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function b(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const w=e=>{const t={};return e.imgUrls.map((e=>t[e]=void 0)),t},x=[[85,89,98],[227,33,68],[20,133,101],[224,90,0],[92,74,206]];let E=(0,p.xJ)("fetchedColors","setFetchedColors",w)(n=(0,p.x3)(((e,t)=>e.imgUrls.find(((e,r)=>e!==t.imgUrls[r]))),(e=>{e.setFetchedColors(w(e))}))((i=class extends f.PureComponent{constructor(){super(...arguments),b(this,"state",{colorThief:new(o())}),b(this,"fetchColorsFromImageUrls",(()=>{const e=this.props.imgUrls.filter((e=>!!e));if(0===e.length||(0,m.yG)()||(0,m.Y8)())this.updateFetchedColors("patreon.com",x);else{const t=[2,3];e.map(((e,r)=>this.fetchColorPaletteFromImageUrl(e,t[r])))}})),b(this,"fetchColorPaletteFromImageUrl",((e,t)=>{const r=document.createElement("img");r.addEventListener("load",(()=>{this.updateFetchedColors(e,(0,g.U)((()=>this.state.colorThief.getPalette(r,t)))),r.removeEventListener("load",(()=>{}))})),r.crossOrigin="Anonymous",r.src=e})),b(this,"updateFetchedColors",((e,t)=>{const{fetchedColors:r,setFetchedColors:n,accessibleColorsOnly:i}=this.props;let a=t.map(v.ZT);i&&(a=a.map(v.Jd)),n(y(y({},r),{},{[e]:a}))}))}componentDidMount(){this.fetchColorsFromImageUrls()}componentDidUpdate(e){e.imgUrls!==this.props.imgUrls&&this.fetchColorsFromImageUrls()}get hasFetchedColors(){return Object.values(this.props.fetchedColors).filter((e=>!!e)).length>0}render(){const{children:e,fetchedColors:t,uniqueColorsOnly:r}=this.props,n=c()(l()(Object.values(t))).filter((e=>!!e));return e({colors:r?(0,v.qy)(n):n,isLoading:!this.hasFetchedColors})}},b(i,"propTypes",{accessibleColorsOnly:h().bool,children:h().func.isRequired,imgUrls:h().arrayOf(h().string).isRequired,uniqueColorsOnly:h().bool,fetchedColors:h().object,setFetchedColors:h().func}),n=i))||n)||n},42756:(e,t,r)=>{"use strict";r.d(t,{Z:()=>u});var n=r(667294),i=r(116066);function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const l=[i.Z.ENTER,i.Z.UP,i.Z.DOWN];function u(e){let{isActive:t=!1,items:r=[],onClick:a=(()=>null),renderItems:s}=e;const[u,c]=(0,n.useState)(-1),d=(0,n.useCallback)((e=>{if(!t||!l.includes(e.keyCode))return;let n;const o=r.length;switch(e.preventDefault(),e.keyCode){case i.Z.ENTER:{const e=r[u];e&&a(e,u);break}case i.Z.UP:n=u-1,n<0&&(n=o-1),c(n);break;case i.Z.DOWN:n=u+1,n>o-1&&(n=0),c(n)}}),[u,t,r,a]);return(0,n.useEffect)((()=>(document.addEventListener("keydown",d),()=>document.removeEventListener("keydown",d))),[d]),s(r.map(((e,t)=>t!==u?e:o(o({},e),{},{isHighlighted:!0}))))}},357635:(e,t,r)=>{"use strict";r.d(t,{N:()=>p});var n=r(218659),i=r(121804),a=r.n(i),o=r(667294),s=r(458416),l=r(42756),u=r(740452);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function d(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f(e){let{items:t=[],onClick:r=(()=>null),isPrivateCampaign:n,selectedIndex:i,component:l,hideLines:c,props:h,itemProps:f}=e;return o.createElement(s.QI,{reset:!0},t.map(((e,t)=>{const s=e.isHighlighted,p=e.altHighlight,m=e.isSelected||t===i,v=a()(e.dataTag||e.label||"");return o.createElement(u.H,{"data-tag":`list-item-${v}`,key:e.id||e.key||t,onClick:e.disabled?void 0:()=>r(e,t),$hideLines:c,isHighlighted:s,$altHighlight:p,isSelected:m,disabled:e.disabled},o.createElement(l,d(d(d(d({},h),f),e),{},{isSelected:m,isPrivateCampaign:n})))})))}function p(e,t){function r(r){let{items:n=[],onClick:i=(()=>null),keyboardNav:a=!1,hideLines:s,selectedIndex:u,isPrivateCampaign:c,itemProps:d}=r;return a?o.createElement(l.Z,{items:n,onClick:i,isActive:a,renderItems:r=>o.createElement(f,{isPrivateCampaign:c,selectedIndex:u,onClick:i,component:e,hideLines:s,props:t,itemProps:d,items:r})}):o.createElement(f,{items:n,onClick:i,hideLines:s,isPrivateCampaign:c,component:e,props:t,itemProps:d})}return r.defaultProps={items:[],onClick:()=>null,keyboardNav:!1,selectedIndex:void 0,isPrivateCampaign:void 0,itemProps:void 0},r}p((e=>o.createElement(n.x,{p:2},e.content)))},740452:(e,t,r)=>{"use strict";r.d(t,{H:()=>a});var n=r(768379);const i=n.i`
  transition: ${e=>e.theme.transitions.default};
  padding: ${e=>e.theme.units.getValue(1)};
  user-select: none;
  ${e=>!e.disabled&&n.i`
    &:hover {
      cursor: pointer;
      background-color: ${e=>e.theme.colors.gray5};
    }
  `}
  ${e=>e.isHighlighted&&n.i`
    background-color: ${e=>e.$altHighlight?e.theme.colors.highlight:e.theme.colors.gray5};
  `}

    ${e=>!e.$hideLines&&n.i`
      &:not(:last-child) {
        border-bottom: ${e=>e.theme.strokeWidths.default} solid ${e.theme.colors.gray5};
      }
    `}
`,a=n.z.li.withConfig({componentId:"sc-1mai3hq-0"})(["",";"],i)},776744:(e,t,r)=>{"use strict";r.d(t,{PZ:()=>c,Q1:()=>l,aW:()=>u});var n=r(768379),i=r(398032),a=r(140085),o=r(623338);const s=(0,n.z)(i.z).attrs({iconProps:{size:a.J.Size.Xs},size:i.z.Size.Sm,variant:"insetBlack"}).withConfig({componentId:"sc-prc4ut-0"})(["box-shadow:",";z-index:",";"],o.T.global.boxShadow.mid,(e=>e.theme.zIndex.Z_INDEX_12)),l=(0,n.z)(s).withConfig({componentId:"sc-prc4ut-1"})(["position:fixed;left:1rem;top:50%;transform:translateY(-50%);"]),u=(0,n.z)(s).withConfig({componentId:"sc-prc4ut-2"})(["position:fixed;right:1rem;top:50%;transform:translateY(-50%);"]),c=(0,n.z)(s).withConfig({componentId:"sc-prc4ut-3"})(["position:fixed;right:1rem;top:1rem;"])},879372:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(557769),i=r(286332),a=r(73266),o=r(839301),s=r(218659),l=r(179302),u=r(45697),c=r.n(u),d=r(667294),h=r(962937),f=r(768379),p=r(442271),m=r(903870),v=r(776744);const g=e=>{let{originalImageSrc:t,imageCaption:r,imageAlt:u,imagePosition:c,onNextImage:f,onPrevImage:g,onClose:b,isOpen:w,isPublicContent:x=!1}=e;const[E,O]=(0,d.useState)(!0),T=(0,d.useCallback)((()=>{g&&(O(!0),g())}),[O,g]),k=(0,d.useCallback)((()=>{f&&(O(!0),f())}),[O,f]),P=(0,d.useCallback)((()=>{O(!1)}),[O]);(0,h.y)("left",T),(0,h.y)("right",k);const S=d.createElement(d.Fragment,null,g?d.createElement(v.Q1,{icon:n.I,key:"previous image",onClick:T,"data-tag":"previousImage"}):null,f?d.createElement(v.aW,{icon:i.D,key:"next image",onClick:k,"data-tag":"nextImage"}):null,d.createElement(v.PZ,{icon:a.h,key:"close","data-tag":"close",onClick:b}));return d.createElement(m.Z,{isOpen:w,onClose:b,buttons:S},d.createElement(y,{isLoading:E,hasCaption:!!r,hasPosition:!!c},d.createElement(p.Z,{position:"center",doubleTapBehavior:"zoom",minScale:"auto",maxScale:1},d.createElement("img",{alt:u,"data-pin-nopin":!x||void 0,src:t,onLoad:P,onError:P}))),E?d.createElement(_,null,d.createElement(o.T,{color:o.T.Color.Light})):d.createElement(s.x,{mh:1},d.createElement(s.x,{mt:1,display:s.x.Display.Flex,justifyContent:s.x.JustifyContent.Center,alignItems:s.x.AlignItems.Center},c?d.createElement(l.x,{el:"p",color:l.x.Color.Light,align:l.x.Align.Center,weight:l.x.Weight.Bold},c):null),r?d.createElement(s.x,{mt:1},d.createElement(l.x,{el:"p",color:l.x.Color.Light,align:l.x.Align.Center},r)):null))};g.propTypes={originalImageSrc:c().string,imageCaption:c().string,imageAlt:c().string,imagePosition:c().string,onNextImage:c().func,onPrevImage:c().func,onClose:c().func.isRequired,isOpen:c().bool.isRequired,isPublicContent:c().bool};const _=f.z.div.withConfig({componentId:"sc-1z0k0vk-0"})(["display:flex;justify-content:center;align-items:center;position:absolute;top:50%;left:50%;transform:translateX(-50%) translateY(-50%);min-width:4rem;min-height:4rem;"]),y=f.z.div.withConfig({componentId:"sc-1z0k0vk-1"})([""," max-width:100%;img{",";}"],(e=>{let{hasCaption:t,hasPosition:r}=e;return t&&r?"height: calc(100% - 100px);":r||t?"height: calc(100% - 55px);":"height: 100%;"}),(e=>e.isLoading?"display: none":"display: block")),b=g},903870:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(45697),i=r.n(n),a=r(667294),o=r(38409),s=r(962937),l=r(768379),u=r(623338),c=r(626915),d=r(430595);const h=e=>{let{isOpen:t,onClose:r,children:n,buttons:i}=e;return(e=>{(0,a.useEffect)((()=>(e?(0,d.d)():(0,d.p)(),()=>(0,d.p)())),[e])})(t),(0,s.y)("esc",r),a.createElement(c.Z,{isOpen:t},a.createElement(o.ZP,{disabled:!t},a.createElement(f,null),a.createElement(p,{"data-target":"lightbox-content",onClick:e=>{"IMG"!==e.target.tagName&&r()}},n),i))},f=l.z.div.withConfig({componentId:"sc-gvok8b-0"})(["position:fixed;top:0;left:0;right:0;bottom:0;z-index:",";background:",";cursor:pointer;pointer-events:auto;height:100%;width:100%;"],(e=>e.theme.zIndex.Z_INDEX_12),u.T.component.dialog.bg),p=l.z.div.withConfig({componentId:"sc-gvok8b-1"})(["position:fixed;top:0;left:50%;transform:translateX(-50%);height:100%;width:100%;z-index:",";cursor:pointer;pointer-events:auto;"],(e=>e.theme.zIndex.Z_INDEX_12));h.propTypes={isOpen:i().bool,onClose:i().func,children:i().node,buttons:i().node};const m=h},131955:(e,t,r)=>{"use strict";r.d(t,{x:()=>n});const n=r(671893).ZP.span.withConfig({componentId:"sc-wwjwob-0"})(["display:-webkit-box;-webkit-line-clamp:",";-webkit-box-orient:vertical;word-break:break-word;overflow:hidden;text-overflow:ellipsis;"],(e=>`${e.numLines?e.numLines:"2"}`))},458416:(e,t,r)=>{"use strict";r.d(t,{GS:()=>s,QI:()=>o});var n=r(768379),i=r(762512);const a=(0,n.i)(["",";margin-top:",";margin-bottom:",";text-align:",";"],(e=>e.reset?"list-style: none;\n        margin: 0;\n        padding: 0;":""),(e=>i.rS.units.getValue(void 0!==e.mt?e.mt:2)),(e=>i.rS.units.getValue(void 0!==e.mb?e.mb:2)),(e=>e.align||"inherit")),o=n.z.ul.withConfig({componentId:"sc-821km3-0"})(["",";"],a),s=n.z.ol.withConfig({componentId:"sc-821km3-1"})(["",";"],a)},775439:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(45697),i=r.n(n),a=r(667294);const o=e=>{let{children:t,width:r,height:n,href:i,onClick:o}=e;const s=a.cloneElement(t,{onClick:e=>{"function"==typeof o&&o(e),"function"==typeof t.props.onClick&&t.props.onClick(e),(e=>{let{width:t,height:r,href:n}=e;const i=(window.screen.width-t)/2,a=(window.screen.height-r)/2,o=window.open(n,"shareWindow",`height=${r},width=${t},left=${i},top=${a}`);o&&o.focus&&o.focus()})({width:r,height:n,href:i})}});return s};o.propTypes={children:i().element,width:i().number,height:i().number,href:i().string,onClick:i().func};const s=o},759493:(e,t,r)=>{"use strict";r.d(t,{Z:()=>m});var n=r(92077),i=r.n(n),a=r(45697),o=r.n(a),s=r(667294),l=r(671893),u=r(623338),c=r(768379);function d(e){let{backgroundColor:t="gray5",color:r="secondary",percentage:n=0,showPercentage:a=!1,percentageLabel:o="",showLabelAfter:u=!1,width:c,size:d="lg",noRadius:m=!1}=e;const v=i()(n).format("0%"),g=s.createElement(l.Sf,null,(e=>s.createElement(p,{color:t||"gray5",size:d,noRadius:m},s.createElement(p,{color:r,formattedPercentage:v,isForeground:!0,size:d,noRadius:m}))));if(!a)return g;const _=s.createElement(f,{size:d},s.createElement("span",null,o),s.createElement("span",null,v));return s.createElement(h,{width:c},!u&&_,g,u&&_)}const h=c.z.div.withConfig({componentId:"sc-10vgt6f-0"})(["",""],(e=>e.width&&`width: ${e.width}px`)),f=c.z.div.withConfig({componentId:"sc-10vgt6f-1"})(["font-size:",";margin-bottom:8px;display:flex;justify-content:center;align-items:center;padding-top:16px;"],(e=>e.theme.text.getSize(0))),p=c.z.div.withConfig({componentId:"sc-10vgt6f-2"})(["",";height:",";background-color:",";border-radius:",";width:",";"],(e=>e.isForeground?`transition: ${e.theme.transitions.default}`:""),(e=>(e=>{const{size:t}=e;return"sm"===t?"4px":"8px"})(e)),(e=>(e=>{const{color:t,theme:r}=e;switch(t){case"primary":case"secondary":return u.T.global.primary.action.default;default:return r.colors[t]}})(e)),(e=>e.noRadius?"":u.T.global.radius.sm),(e=>e.formattedPercentage||"100%"));d.propTypes={backgroundColor:o().oneOf(["dark","gray1","gray2","gray3","gray4","gray5","light"]),color:o().oneOf(["primary","secondary","success"]),percentage:o().number,showPercentage:o().bool,percentageLabel:o().oneOfType([o().string,o().node]),showLabelAfter:o().bool,width:o().number,size:o().oneOf(["sm","lg"]),noRadius:o().bool};const m=d},895494:(e,t,r)=>{"use strict";r.d(t,{Z:()=>x});var n=r(356961),i=r(825149),a=r(572060),o=r(218659),s=r(378813),l=r(435161),u=r.n(l),c=r(667294),d=r(692330),h=r(703875),f=r(140085),p=r(179302),m=r(45697),v=r.n(m);const g=r(768379).z.a.withConfig({componentId:"sc-16pwooc-0"})(["text-decoration:none;display:block;box-sizing:border-box;"]),_=e=>{var t;let{btn:r,onShareClick:n}=e;const i=(0,h.Ps)();return c.createElement(g,{href:null!==(t=r.href)&&void 0!==t?t:"#",key:r.key,socialNetworkName:r.key,title:r.hrefTitle,onClick:e=>((e,t)=>{if(e.preventDefault(),n&&n(t.key),t.onClick)t.onClick(),t.onClickMessage&&i.success(t.onClickMessage,{key:t.key});else{const e=t.windowConfig,r=(window.screen.width-e.width)/2,n=(window.screen.height-e.height)/2,i=window.open(t.href,"shareWindow",`height=${e.height},width=${e.width},left=${r},top=${n}`);i&&i.focus&&i.focus()}})(e,r),"data-tag":"share-button"},c.createElement(p.x,{color:r.color,size:p.x.Size.Sm,weight:p.x.Weight.Medium},(e=>{const t={color:e.color,size:f.J.Size.Sm,verticalAlign:f.J.VerticalAlign.Bottom};return c.createElement(e.icon,t)})(r),c.createElement(o.x,{ml:1,display:o.x.Display.InlineBlock},r.actionLabel)))};_.propTypes={btn:v().shape({actionLabel:v().string,href:v().string,key:v().string,hrefTitle:v().string,onClick:v().func,label:v().string,color:v().string,icon:v().object,windowConfig:v().shape({width:v().number,height:v().number})}),onShareClick:v().func};const y=_;function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function w(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const x=e=>{let{card:t,children:r,popover:l,onShareClick:h,buttons:f,isPopoverOpen:p,onOuterAction:m,isPost:v}=e;(0,d.b)();const g=u()(f,(e=>c.createElement(y,{onShareClick:h,btn:e,key:e.key}))),_=c.createElement(n.Kq,null,v&&c.createElement(i.A,{"data-tag":"popover-header",muted:!0,size:"md"},"SHARE POST"),g);return t?c.createElement(a.Z,null,_):l?c.createElement(o.x,{fluidWidth:!0},c.createElement(s.J,{hideArrow:!0,renderMode:"portal",isOpen:p,preferredPlacement:s.J.Placement.Bottom,onCloseRequest:m,content:_},(e=>{let{ref:t,ariaProps:n}=e;return c.cloneElement(r,function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){w(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({ref:t},n))}))):_}},392741:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(768379),i=r(667294),a=r(671893);const o=["duration","delay","children"];function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s.apply(this,arguments)}function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const d=(0,a.F4)(["from{opacity:0;}to{opacity:1;}"]),h=n.z.div.withConfig({componentId:"sc-6ig7yf-0"})(["@media (prefers-reduced-motion:no-preference){animation-name:",";animation-fill-mode:backwards;}"],d),f=e=>{let{duration:t=300,delay:r=0,children:n}=e,a=function(e,t){if(null==e)return{};var r,n,i=function(e,t){if(null==e)return{};var r,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||(i[r]=e[r]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(i[r]=e[r])}return i}(e,o);return i.createElement(h,s({},a,{style:u(u({},a.style||{}),{},{animationDuration:t+"ms",animationDelay:r+"ms"})}),n)}},560987:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var n=r(667294);const i=["fullscreenchange","webkitfullscreenchange","mozfullscreenchange"],a=(e,t)=>{(0,n.useEffect)((()=>{if(!e)return;const r=()=>{t(null!==document.fullscreenElement)};return i.forEach((t=>e.addEventListener(t,r))),()=>i.forEach((t=>e.removeEventListener(t,r)))}),[t,e])}},759556:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});var n=r(154125),i=r.n(n),a=r(667294),o=r(710184);const s=e=>{let{debug:t,experimentName:r,playerName:n,playerVersion:s,playerInitTime:l,videoId:u,videoCampaign:c,videoStreamType:d,videoTitle:h,hlsVersion:f,campaignId:p,postId:m,isOnPlatform:v,isPreview:g}=e;const[_,y]=(0,a.useState)(void 0);return(0,a.useEffect)((()=>{_&&i().monitor(_,{debug:t,data:{env_key:(0,o.yv)()?"johjeanlv1k6mvj73mqjntbhj":"0l1ig6i3tb6f42h4rfoev66ca",experiment_name:r||"",player_name:n,player_version:s,player_init_time:l,video_stream_type:d,video_id:u||"",duration:_.duration||0,video_campaign:c||"",video_title:h||"",hls_version:f||"0",custom_1:p||"",custom_3:m||"",custom_4:v||!1,custom_5:g||!1}})}),[_]),[y]}},468484:(e,t,r)=>{"use strict";r.d(t,{Z:()=>h});var n,i,a=r(547718),o=r(328215),s=r(45697),l=r.n(s),u=r(667294),c=r(599757);function d(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const h=(0,a.ZP)("campaign","creator","post")((i=class extends u.Component{constructor(){super(...arguments),d(this,"convertToHex",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||"string"!=typeof e)return t;const r=e.match(/#?([0-9a-fA-F]{3}){1,2}/);return null!==r&&r[0]===e?"#"===e.charAt(0)?e:`#${e}`:t})),d(this,"replacePrimaryColor",(()=>this.convertToHex(this.primaryColor)))}get primaryColor(){const{color:e}=this.props,{creator:t,campaign:r,post:n}=this.props.nion,i=(0,c.U)((()=>t.data.primaryThemeColor),(0,c.U)((()=>n.data.campaign.primaryThemeColor),(0,c.U)((()=>r.data.primaryThemeColor),null)));return e||i}render(){const{children:e}=this.props;return u.createElement(o.L,{replacePrimaryColor:this.primaryColor?this.replacePrimaryColor:void 0},e)}},d(i,"propTypes",{children:l().node,color:l().string,nion:l().object}),n=i))||n},724518:(e,t,r)=>{"use strict";r.d(t,{G:()=>a});var n=r(667294),i=r(692330);function a(e){let{mediaFormat:t}=e;return(0,i.b)(),"audio"===t?n.createElement(n.Fragment,null,"Audio"):"file"===t?n.createElement(n.Fragment,null,"File"):"image"===t?n.createElement(n.Fragment,null,"Image"):"video"===t?n.createElement(n.Fragment,null,"Video"):null}},151147:(e,t,r)=>{"use strict";r.d(t,{p:()=>T});var n=r(103881),i=r(768379),a=r(905227),o=r(762512),s=r(623338),l=r(298178),u=r(825149),c=r(937720),d=r(398032),h=r(667294),f=r(274294),p=r(313483),m=r(131955),v=r(724518),g=r(351124),_=r(192161);const y=i.z.a.withConfig({componentId:"sc-g82aj2-0"})(["display:flex;",";",";",";",";flex:1;z-index:",";"],(0,a.jo)("flex-direction",{xs:"column",md:"row"}),(0,a.jo)("justify-content",{xs:"flex-start",md:"center"}),(0,a.jo)("align-items",{xs:"center",md:"flex-start"}),(0,a.jo)("height",{xs:"310px",md:"176px"}),o.KC.zIndex.Z_INDEX_1),b=i.z.div.withConfig({componentId:"sc-g82aj2-1"})(["",";background-size:cover;background-position:center;",";",";border-radius:",";z-index:",";box-shadow:",";flex-shrink:0;overflow:hidden;",";",";",";"],(e=>{let{previewUrl:t}=e;return t&&`background: url(${t})`}),(e=>{let{height:t}=e;return t&&("string"==typeof t?t:(0,a.jo)("height",t))}),(e=>{let{width:t}=e;return t&&("string"==typeof t?t:(0,a.jo)("width",t))}),s.T.global.radius.lg,o.KC.zIndex.Z_INDEX_1,s.T.global.boxShadow.mid,(0,a.jo)("margin",{xs:"0px",md:s.T.global.space24}),(0,a.jo)("margin-top",{xs:s.T.global.space32,md:s.T.global.space24}),(0,a.jo)("margin-bottom",{xs:s.T.global.space24,md:s.T.global.space24})),w=i.z.div.withConfig({componentId:"sc-g82aj2-2"})(["display:flex;flex-direction:column;justify-content:center;",";",";",";",";",";",";gap:8px;z-index:",";flex-shrink:1;"],(0,a.jo)("align-items",{xs:"center",md:"flex-start"}),(0,a.jo)("margin-top",{xs:"0px",md:s.T.global.space24}),(0,a.jo)("margin-bottom",{xs:s.T.global.space32,md:"0px"}),(0,a.jo)("margin-left",{xs:s.T.global.space24,md:"0px"}),(0,a.jo)("margin-right",{xs:s.T.global.space24,md:"0px"}),(0,a.jo)("height",{xs:"102px",md:"128px"}),o.KC.zIndex.Z_INDEX_1),x=i.z.div.withConfig({componentId:"sc-g82aj2-3"})(["display:flex;align-items:center;gap:8px;"]),E=i.z.div.withConfig({componentId:"sc-g82aj2-4"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-end;height:176px;padding-right:",";flex-grow:1;",";"],s.T.global.space24,(0,a.jo)("display",{xs:"none",md:"flex"})),O=(0,i.z)(m.x).withConfig({componentId:"sc-g82aj2-5"})(["",""],(0,a.jo)("-webkit-line-clamp",{xs:"1",md:"2"}));function T(e){var t,r,i,a,o;let{productVariantId:m}=e;const[T]=(0,n.Z)((0,_.t3)({productId:m}));return T?h.createElement(f.V,{previewUrl:(0,g.pC)(T,0),height:{xs:"310px",md:"176px"},borderRadius:s.T.global.radius.lg},h.createElement(y,{href:T.url},h.createElement(b,{previewUrl:(0,g.pC)(T,0),width:{xs:"144px",md:"128px"},height:{xs:"144px",md:"128px"}}),h.createElement(w,null,h.createElement(x,null,h.createElement(l.q,{src:null!==(t=null===(r=T.campaign)||void 0===r?void 0:r.avatarPhotoUrl)&&void 0!==t?t:"",size:l.q.Size["20px"]}),h.createElement(u.A,{size:"sm",variant:"light"},null!==(i=null===(a=T.campaign)||void 0===a?void 0:a.vanity)&&void 0!==i?i:null===(o=T.campaign)||void 0===o?void 0:o.name)),h.createElement(O,null,h.createElement(c.I,{size:"xl",as:"p",variant:"light"},T.name)),h.createElement(u.A,{size:"sm",variant:"light",muted:!0},h.createElement(v.G,{mediaFormat:T.contentMedia[0].mediaType})," ·"," ",h.createElement(p.x,{value:T.priceCents}))),h.createElement(E,null,h.createElement(d.z,{loggerId:"product-variant-embed-view",variant:"insetWhite"},"View")))):null}},111065:(e,t,r)=>{"use strict";let n,i,a,o,s;r.d(t,{DK:()=>o,ef:()=>s,t$:()=>a}),function(e){e.OPT_IN="opt_in",e.ENFORCED="enforced"}(n||(n={})),function(e){e.ENROLL_OPT_IN="enroll_opt_in",e.ENROLL_ENFORCED="enroll_enforced",e.RE_ENROLL_OPT_IN="re_enroll_opt_in",e.RE_ENROLL_ENFORCED="re_enroll_enforced",e.SCHEDULE_NUKE="schedule_nuke",e.CLEAR_IDV="clear_idv"}(i||(i={})),function(e){e.Open="open",e.Success="success",e.Fail="fail",e.Exprie="expire",e.Submitted="submitted"}(a||(a={})),function(e){e.Pending="pending",e.Verified="verified",e.UnderAge="under_age",e.Unverified="unverified",e.Invalid="invalid"}(o||(o={})),function(e){e.NotVerifyingIdentity="not_verifying_identity",e.UserPromptedOptIn="user_prompted_opt_in",e.UserPromptedForced="user_prompted_forced",e.Instructions="instructions",e.AgreeToTermsAndConditions="agree_to_terms_and_conditions",e.DocumentUpload="document_upload",e.WaitingForDocumentUploadResults="waiting_for_document_upload_results",e.UploadedDocumentInReview="uploaded_document_in_review",e.UserIsUnderage="user_is_underage",e.DocumentFailedToVerify="document_failed_to_verify",e.DocumentFailedToVerifyWithRetryOption="document_failed_to_verify_with_retry_option",e.DocumentVerificationSuccess="success_result",e.DocumentVerificationSuccessAfterSuspension="success_after_suspension",e.GenericError="generic_error"}(s||(s={}))},348840:(e,t,r)=>{"use strict";r.d(t,{Z:()=>l});var n=r(45697),i=r.n(n),a=r(667294);const o=r(768379).z.div.withConfig({componentId:"sc-wpnd7e-0"})(["position:absolute;margin-top:40px;margin-left:5px;background-color:rgba(0,0,0,0);z-index:1000;color:white;"]),s=e=>{let{top:t,left:r,scale:n,overflow:i}=e;const s=[i.top>0?"top":"",i.right>0?"right":"",i.bottom>0?"bottom":"",i.left>0?"left":""].filter((e=>e.length)).join(", ")||"none";return a.createElement(o,null,a.createElement("div",null,`top: ${t}`),a.createElement("div",null,`left: ${r}`),a.createElement("div",null,`scale: ${n}`),a.createElement("div",null,`overflow: ${s}`))};s.propTypes={top:i().string,left:i().string,scale:i().string,overflow:i().object};const l=s},775782:(e,t,r)=>{"use strict";r.d(t,{Ds:()=>d,Fu:()=>E,HP:()=>v,VA:()=>m,Xt:()=>s,bF:()=>f,by:()=>p,eb:()=>l,el:()=>i,jH:()=>a,k$:()=>c,kC:()=>_,pc:()=>u,t_:()=>h,tk:()=>o});var n=r(442279);const i=(e,t,r)=>Math.abs(t-e)<r?t:e,a=(e,t,r)=>Math.min(t,Math.max(e,r)),o=e=>-1*e,s=(e,t)=>{let{clientX:r,clientY:n}=e;const i=t.getBoundingClientRect();return{x:r-i.left,y:n-i.top}},l=e=>{let[t,r]=e;return{x:(t.clientX+r.clientX)/2,y:(t.clientY+r.clientY)/2}},u=e=>{let[t,r]=e;return Math.sqrt(Math.pow(t.clientY-r.clientY,2)+Math.pow(t.clientX-r.clientX,2))};function c(e,t){"function"==typeof e?e(t):e&&(e.current=t)}const d=(e,t)=>e===t===void 0||void 0!==e&&void 0!==t&&e.width===t.width&&e.height===t.height,h=e=>{if(void 0!==e)return{width:e.offsetWidth||e.width,height:e.offsetHeight||e.height}},f=e=>({width:e.parentNode.offsetWidth,height:e.parentNode.offsetHeight}),p=(e,t)=>e===t===void 0||void 0!==e&&void 0!==t&&g(e.top,5)===g(t.top,5)&&g(e.left,5)===g(t.left,5)&&g(e.scale,5)===g(t.scale,5),m=(e,t)=>{const{width:r,height:n}=t||{};return r>0&&n>0?Math.min(e.width/r,e.height/n,1):1},v=(0,n.P1)((e=>e.containerDimensions),(e=>e.imageDimensions),((e,t)=>t.minScale),((e,t,r)=>"auto"===String(r).toLowerCase()?m(e,t):r||1));function g(e,t){if(t&&null!=e){let r=(String(e)+"e").split("e"),n=Math.round(r[0]+"e"+(+r[1]+t));return r=(String(n)+"e").split("e"),+(r[0]+"e"+(+r[1]-t))}return Math.round(e)}const _=e=>!1!==e.cancelable&&(e.preventDefault(),!0);function y(e,t,r,n){const i=o(e);return i>0?i:0}function b(e,t,r,n){const i=o(e);return i>0?i:0}function w(e,t,r,n){const i=Math.max(0,t*r.width-n.width);return i>0?i-o(e):0}function x(e,t,r,n){const i=Math.max(0,t*r.height-n.height);return i>0?i-o(e):0}const E=(e,t,r,n,i)=>({top:b(e),right:w(t,r,n,i),bottom:x(e,r,n,i),left:y(t)})},232815:(e,t,r)=>{"use strict";r.d(t,{Z:()=>c});var n=r(45697),i=r.n(n),a=r(667294),o=r(768379),s=r(692330);const l=o.z.div.withConfig({componentId:"sc-1jlhmi3-0"})(["position:absolute;z-index:1000;"]),u=e=>{let{scale:t,minScale:r,maxScale:n,onZoomInClick:i,onZoomOutClick:o}=e;const u=(0,s.b)();return a.createElement(l,null,a.createElement("button",{style:{margin:"10px"},onClick:o,disabled:t<=r,"intl-locale":u},"Zoom out"),a.createElement("button",{style:{margin:"10px",marginLeft:"0px"},onClick:i,disabled:t>=n,"intl-locale":u},"Zoom in"))};u.propTypes={scale:i().number.isRequired,minScale:i().number.isRequired,maxScale:i().number.isRequired,onZoomInClick:i().func.isRequired,onZoomOutClick:i().func.isRequired};const c=u},442271:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var n=r(45697),i=r.n(n),a=r(667294),o=r(442279),s=r(542473),l=r.n(s),u=r(348840),c=r(775782),d=r(232815);function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},h.apply(this,arguments)}function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){m(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const v=(e,t,r)=>void 0!==r&&void 0!==t&&void 0!==e,g=(0,o.P1)((e=>e.top),(e=>e.left),(e=>e.scale),((e,t,r)=>{const n={cursor:"zoom-in"};return v(e,t,r)?p(p({},n),{},{transform:`translate3d(${t}px, ${e}px, 0) scale(${r})`,transformOrigin:"0 0"}):n})),_=(0,o.P1)((e=>e.top),(e=>e.left),(e=>e.scale),(e=>e.imageDimensions),(e=>e.containerDimensions),((e,t,r,n,i)=>v(e,t,r)?(0,c.Fu)(e,t,r,n,i):"")),y=(0,o.P1)(_,(e=>[e.left||e.right?e.left?e.right?"":"pan-right":"pan-left":"pan-x",e.top||e.bottom?e.top?e.bottom?"":"pan-down":"pan-up":"pan-y"].join(" ").trim()));class b extends a.Component{constructor(){super(...arguments),m(this,"state",{}),m(this,"lastPointerUpTimeStamp",void 0),m(this,"lastPanPointerPosition",void 0),m(this,"lastPinchLength",void 0),m(this,"animation",void 0),m(this,"imageRef",void 0),m(this,"isImageLoaded",void 0),m(this,"originalOverscrollBehaviorY",void 0),m(this,"handleTouchStart",(e=>{if(!this.isDimensionsInitialized)return;this.cancelAnimation();const t=e.touches;2===t.length?(this.lastPinchLength=(0,c.pc)(t),this.lastPanPointerPosition=null):1===t.length&&(this.lastPinchLength=null,this.pointerDown(t[0]),(0,c.kC)(e))})),m(this,"handleTouchMove",(e=>{const t=e.touches;if(2===t.length)this.pinchChange(t),(0,c.kC)(e);else if(1===t.length){const r=this.pan(t[0]);if(!this.controlOverscrollViaCss){const t=_(this.state),n=r.left&&t.left>0||r.right&&t.right>0,i=r.up&&t.top>0||r.down&&t.bottom>0;if(!n&&!i)return;const a=r.left||r.right,o=r.up||r.down;if(o>2*a&&!i)return;if(a>2*o&&!n)return;(0,c.kC)(e)}}})),m(this,"handleTouchEnd",(e=>{if(this.isDimensionsInitialized){if(this.cancelAnimation(),0===e.touches.length&&1===e.changedTouches.length){if(this.lastPointerUpTimeStamp&&this.lastPointerUpTimeStamp+250>e.timeStamp){const t=(0,c.Xt)(e.changedTouches[0],this.imageRef.parentNode);this.doubleClick(t)}this.lastPointerUpTimeStamp=e.timeStamp,(0,c.kC)(e)}this.maybeAdjustCurrentTransform(.1)}})),m(this,"handleMouseDown",(e=>{this.isDimensionsInitialized&&(this.cancelAnimation(),this.pointerDown(e))})),m(this,"handleMouseMove",(e=>{if(this.isDimensionsInitialized)return e.buttons?void this.pan(e):null})),m(this,"handleMouseDoubleClick",(e=>{if(!this.isDimensionsInitialized)return;this.cancelAnimation();let t=(0,c.Xt)(e,this.imageRef.parentNode);this.doubleClick(t)})),m(this,"handleMouseWheel",(e=>{if(!this.isDimensionsInitialized)return;this.cancelAnimation();const t=(0,c.Xt)(e,this.imageRef.parentNode);e.deltaY>0?this.state.scale>(0,c.HP)(this.state,this.props)&&(this.zoomOut(t),(0,c.kC)(e)):e.deltaY<0&&this.state.scale<this.props.maxScale&&(this.zoomIn(t),(0,c.kC)(e))})),m(this,"handleImageLoad",(e=>{this.debug("handleImageLoad"),this.isImageLoaded=!0,this.maybeHandleDimensionsChanged();const{props:{onLoad:t}}=a.Children.only(this.props.children);"function"==typeof t&&t(e)})),m(this,"handleZoomInClick",(()=>{this.cancelAnimation(),this.zoomIn()})),m(this,"handleZoomOutClick",(()=>{this.cancelAnimation(),this.zoomOut()})),m(this,"handleWindowResize",(()=>this.maybeHandleDimensionsChanged())),m(this,"handleRefImage",(e=>{this.imageRef&&(this.cancelAnimation(),this.imageRef.removeEventListener("touchmove",this.handleTouchMove)),this.imageRef=e,e&&this.imageRef.addEventListener("touchmove",this.handleTouchMove,{passive:!1});const{ref:t}=a.Children.only(this.props.children);(0,c.k$)(t,e)}))}pointerDown(e){this.lastPanPointerPosition=(0,c.Xt)(e,this.imageRef.parentNode)}pan(e){if(!this.isTransformInitialized)return;if(!this.lastPanPointerPosition)return this.pointerDown(e),0;const t=(0,c.Xt)(e,this.imageRef.parentNode),r=t.x-this.lastPanPointerPosition.x,n=t.y-this.lastPanPointerPosition.y;this.lastPanPointerPosition=t;const i=this.state.top+n,a=this.state.left+r;return this.constrainAndApplyTransform(i,a,this.state.scale,0,0),{up:n>0?n:0,down:n<0?(0,c.tk)(n):0,right:r<0?(0,c.tk)(r):0,left:r>0?r:0}}doubleClick(e){"zoom"===String(this.props.doubleTapBehavior).toLowerCase()&&1.05*this.state.scale<this.props.maxScale?this.zoomIn(e,.1,.3):this.applyInitialTransform(.1)}pinchChange(e){const t=(0,c.pc)(e),r=(0,c.eb)(e),n=this.lastPinchLength?this.state.scale*t/this.lastPinchLength:this.state.scale;this.zoom(n,r,.05),this.lastPinchLength=t}zoomIn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.1;e=e||{x:this.state.containerDimensions.width/2,y:this.state.containerDimensions.height/2},this.zoom(this.state.scale*(1+r),e,0,t)}zoomOut(e){e=e||{x:this.state.containerDimensions.width/2,y:this.state.containerDimensions.height/2},this.zoom(.9*this.state.scale,e,0)}zoom(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!this.isTransformInitialized)return;const{scale:i,top:a,left:o}=this.state,s=t.y-a,l=t.x-o,u=this.getConstrainedScale(e,r),c=(u-i)/i,d=a-s*c,h=o-l*c;this.constrainAndApplyTransform(d,h,u,r,n)}maybeHandleDimensionsChanged(){if(this.isImageReady){const e=(0,c.bF)(this.imageRef),t=(0,c.t_)(this.imageRef);(0,c.Ds)(e,(0,c.t_)(this.state.containerDimensions))&&(0,c.Ds)(t,(0,c.t_)(this.state.imageDimensions))||(this.cancelAnimation(),this.setState({containerDimensions:e,imageDimensions:t},(()=>{this.applyInitialTransform()})),this.debug(`Dimensions changed: Container: ${e.width}, ${e.height}, Image: ${t.width}, ${t.height}`))}else this.debug("Image not loaded")}constrainAndApplyTransform(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;const a={top:e,left:t,scale:r};this.debug(`Requesting transform: left ${t}, top ${e}, scale ${r}`);const o=this.getCorrectedTransform(a,n)||a;return this.debug(`Applying transform: left ${o.left}, top ${o.top}, scale ${o.scale}`),!(0,c.by)(o,this.state)&&(this.applyTransform(o,i),!0)}applyTransform(e,t){let{top:r,left:n,scale:i}=e;if(t>0){const e=()=>{const a=r-this.state.top,o=n-this.state.left,s=i-this.state.scale,l={top:(0,c.el)(this.state.top+t*a,r,1),left:(0,c.el)(this.state.left+t*o,n,1),scale:(0,c.el)(this.state.scale+t*s,i,.001)};(0,c.by)(l,this.state)||this.setState(l,(()=>this.animation=requestAnimationFrame(e)))};this.animation=requestAnimationFrame(e)}else this.setState({top:r,left:n,scale:i})}getConstrainedScale(e,t){const r=1-t,n=1+t;return(0,c.jH)((0,c.HP)(this.state,this.props)*r,this.props.maxScale*n,e)}getCorrectedTransform(e,t){const r=this.getConstrainedScale(e.scale,t),n=this.calculateNegativeSpace(r),i={width:Math.max(0,(0,c.tk)(n.width)),height:Math.max(0,(0,c.tk)(n.height))},{position:a,initialTop:o,initialLeft:s}=this.props,{imageDimensions:l,containerDimensions:u}=this.state,d=1+t,h={top:i.height?(0,c.jH)((0,c.tk)(i.height)*d,i.height*d-i.height,e.top):"center"===a?(u.height-l.height*r)/2:o||0,left:i.width?(0,c.jH)((0,c.tk)(i.width)*d,i.width*d-i.width,e.left):"center"===a?(u.width-l.width*r)/2:s||0,scale:r};return(0,c.by)(h,e)?null:h}maybeAdjustCurrentTransform(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;(e=this.getCorrectedTransform(this.state,0))&&this.applyTransform(e,t)}applyInitialTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const{imageDimensions:t,containerDimensions:r}=this.state,{position:n,initialScale:i,maxScale:a,initialTop:o,initialLeft:s}=this.props,u="auto"===String(i).toLowerCase()?(0,c.VA)(r,t):i,d=(0,c.HP)(this.state,this.props);if(d>a)return void l()(!1,"minScale cannot exceed maxScale.");if(u<d||u>a)return void l()(!1,"initialScale must be between minScale and maxScale.");let h;"center"===n?(l()(void 0===o,"initialTop prop should not be supplied with position=center. It was ignored."),l()(void 0===s,"initialLeft prop should not be supplied with position=center. It was ignored."),h={top:(r.width-t.width*u)/2,left:(r.height-t.height*u)/2}):h={top:o||0,left:s||0},this.constrainAndApplyTransform(h.top,h.left,u,0,e)}render(){const e=a.Children.only(this.props.children),{zoomButtons:t,maxScale:r,debug:n}=this.props,{scale:i}=this.state,o={width:"100%",height:"100%",overflow:"hidden",touchAction:this.controlOverscrollViaCss?y(this.state)||"none":void 0};return a.createElement("div",{style:o},t&&this.isImageReady&&this.isTransformInitialized&&a.createElement(d.Z,{scale:i,minScale:(0,c.HP)(this.state,this.props),maxScale:r,onZoomOutClick:this.handleZoomOutClick,onZoomInClick:this.handleZoomInClick}),n&&a.createElement(u.Z,h({},this.state,{overflow:_(this.state)})),a.cloneElement(e,{onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onMouseDown:this.handleMouseDown,onMouseMove:this.handleMouseMove,onDoubleClick:this.handleMouseDoubleClick,onWheel:this.handleMouseWheel,onDragStart:c.kC,onLoad:this.handleImageLoad,ref:this.handleRefImage,style:g(this.state)}))}static getDerivedStateFromProps(e,t){return e.initialTop!==t.initialTop||e.initialLeft!==t.initialLeft||e.initialScale!==t.initialScale||e.position!==t.position?{position:e.position,initialScale:e.initialScale,initialTop:e.initialTop,initialLeft:e.initialLeft}:null}componentDidMount(){window.addEventListener("resize",this.handleWindowResize),this.maybeHandleDimensionsChanged()}componentDidUpdate(e,t){this.maybeHandleDimensionsChanged()}componentWillUnmount(){this.cancelAnimation(),this.imageRef.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("resize",this.handleWindowResize)}get isImageReady(){return this.isImageLoaded||this.imageRef&&"IMG"!==this.imageRef.tagName}get isTransformInitialized(){return v(this.state.top,this.state.left,this.state.scale)}get isDimensionsInitialized(){return void 0!==this.state.imageDimensions&&void 0!==this.state.containerDimensions}get controlOverscrollViaCss(){return CSS&&CSS.supports("touch-action","pan-up")}calculateNegativeSpace(e){const{containerDimensions:t,imageDimensions:r}=this.state;return{width:t.width-e*r.width,height:t.height-e*r.height}}cancelAnimation(){this.animation&&cancelAnimationFrame(this.animation)}debug(e){this.props.debug&&console.log(e)}}b.defaultProps={initialScale:"auto",minScale:"auto",maxScale:1,position:"topLeft",zoomButtons:!1,doubleTapBehavior:"reset"},b.propTypes={children:i().element.isRequired,initialScale:i().oneOfType([i().number,i().string]),minScale:i().oneOfType([i().number,i().string]),maxScale:i().number,position:i().oneOf(["topLeft","center"]),zoomButtons:i().bool,doubleTapBehavior:i().oneOf(["reset","zoom"]),initialTop:i().number,initialLeft:i().number,debug:i().bool}},886720:(e,t,r)=>{"use strict";r.d(t,{Z:()=>p});var n=r(972555),i=r.n(n),a=r(478718),o=r.n(a),s=r(823493),l=r.n(s),u=r(667294),c=r(596774),d=r.n(c),h=r(921968);function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},f.apply(this,arguments)}function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{matchMediaFn:r=(0,h.ZP)().matchMedia}=t,n={},a=[];let s={};function c(e){return a.push(e),function(){const t=a.indexOf(e);a.splice(t,1)}}function p(){const e={};for(const t in n){if(!n.hasOwnProperty(t))continue;const r=n[t],{matches:i}=r;e[t]=i}return e}const m=l()((()=>{const e=p();d()(s,e)||(s=e,a.forEach((t=>t(e))))}));if(r)for(const t in e){if(!e.hasOwnProperty(t))continue;const i=r(e[t]);i.addListener(m),n[t]=i}function v(){a.length=0;for(const e in n)n.hasOwnProperty(e)&&(n[e].removeListener(m),n[e]=void 0)}function g(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];function t(t){return e.length?o()(t,...e):t}return function(e){return i()({displayName:"ConnectMatchMedia",getInitialState:()=>t(s),componentDidMount(){this.unsubscribe=c(this.handleChange)},componentWillUnmount(){this.unsubscribe()},handleChange(e){const r=t(e);d()(this.state,r)||this.setState(r)},render(){return u.createElement(e,f({},this.props,this.state))}})}}return s=p(),g.destroy=v,g.listeners=a,g}},471960:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>l});var n=r(762512),i=r(548403),a=r.n(i),o=r(886720);function s(e){const t={isLandscape:"(orientation: landscape)",isPortrait:"(orientation: portrait)"},r=function(e){const t=[];for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r];t.push({key:r,value:n})}return t.sort(((e,t)=>{let{value:r}=e,{value:n}=t;return r-n})),t}(e);return r.forEach(((e,n)=>{const{key:i}=e,o=a()(i);if(n>0){const{value:r}=e;t[`isMin${o}`]=`(min-width: ${r}px)`}const s=r[n+1];if(s){const{value:e}=s;t[`isMax${o}`]=`(max-width: ${e-1}px)`}})),t}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.rS.responsive.getBreakpointsInPixels();const t=s(e);return(0,o.Z)(t)}},566316:(e,t,r)=>{"use strict";r.d(t,{Z:()=>g});var n=r(762512),i=r(227361),a=r.n(i),o=r(957557),s=r.n(o),l=r(45697),u=r.n(l),c=r(667294),d=r(471960),h=r(710184),f=r(796433),p=r(921968);const m=["isMaxLg","isMaxMd","isMaxSm","isMaxXs","isMinXl","isMinLg","isMinMd","isMinSm"],v=(0,d.ZP)(n.rS.responsive.getBreakpointsInPixels(),{matchMediaFn:a()((0,p.ZP)(),"matchMedia",null)})(),g=e=>{(0,h.yG)()&&!(0,h.C5)()&&console.warn(`Component ${(0,f.Z)(e)} is using the @responsive decorator in a server-side environment`);const t=t=>{const{isMaxLg:r,isMaxMd:i,isMaxSm:a,isMaxXs:o,isMinXl:l,isMinLg:u}=t,d=s()(t,m);let h;r&&i&&a&&o?h="xs":r&&i&&a?h="sm":r&&i?h="md":u&&r?h="lg":l&&u&&(h="xl");const f=[...n.rS.responsive.BREAKPOINT_NAMES],p=f.indexOf(h),v=e=>{if(void 0===h)return!1;const t=f.indexOf(e);return p<t},g=e=>{if(void 0===h)return!1;const t=f.indexOf(e);return p>=t};return d.responsive={size:h,lt:v,lte:e=>{if(void 0===h)return!1;const t=f.indexOf(e);return p<=t},gt:e=>{if(void 0===h)return!1;const t=f.indexOf(e);return p>t},gte:g,isMobile:v("sm"),isTablet:v("md")&&g("sm"),isDesktop:g("md")},c.createElement(e,d)};return t.propTypes={isMaxLg:u().bool,isMaxMd:u().bool,isMaxSm:u().bool,isMaxXs:u().bool,isMinXl:u().bool,isMinLg:u().bool},v(t)}},393795:(e,t,r)=>{"use strict";r.d(t,{_U:()=>b,bG:()=>k,lq:()=>w,mr:()=>x,vu:()=>T,vx:()=>C,xg:()=>S});var n=r(131107),i=r.n(n),a=r(874243),o=r(339799),s=r(829461),l=r(623736),u=r(710184),c=r(24357),d=r(768990),h=r(921968),f=r(885921),p=r(739746),m=r(760178);const v=new(i())({appId:(0,l.U2)()?"E58A50A5-8E87-43F6-A28A-62CFF5C8CBCC":(0,u.yv)()&&!(0,l.wD)()?"BEAA7A4B-1278-4D71-98FA-A76A9882791E":"F92B2F81-ADFD-4FCF-9457-A10DBD729B4A"}),g=(e,t)=>new Promise(((r,n)=>{t?v.connect(e,t,((e,t)=>{t?n(t):r(e)})):v.connect(e,((e,t)=>{t?n(t):r(e)}))})),_=new Error("Can't write to sendbird when impersonating"),y=()=>{try{var e,t,r,n,i,a;const o=null===(e=(0,h.ZP)().patreon)||void 0===e||null===(t=e.presets)||void 0===t||null===(r=t.navigation)||void 0===r?void 0:r.is_impersonating,s=null===(n=(0,h.ZP)().patreon)||void 0===n||null===(i=n.presets)||void 0===i||null===(a=i.navigation)||void 0===a?void 0:a.impersonation_write_access;return!o||s}catch(e){console.error(e)}},b=e=>new Promise(((t,r)=>{e.load(((e,n)=>{n?r(n):t(e)}))})),w=e=>new Promise(((t,r)=>{e.acceptInvitation(((e,n)=>{n?r(n):t(e)}))})),x=(e,t)=>new Promise(((r,n)=>{const i=(0,l.wD)()?"sendbird_group_channel_999-555":e;v.GroupChannel.getChannel(i,((e,i)=>{i?((0,c.t)("patreon.messaging.sendbird.sdk.error",{code:i.code,call:"getChannel",action:t}),n(i)):((0,c.t)("patreon.messaging.sendbird.sdk.success",{call:"getChannel",action:t}),r(e))}))})),E=e=>new Promise(((t,r)=>{e?v.getTotalUnreadMessageCount(e,((e,n)=>{n?r(n):t(e)})):v.getTotalUnreadMessageCount(((e,n)=>{n?r(n):t(e)}))}));let O=null;const T=async e=>(O||(O=(0,l.wD)()?await g("999"):((e,t)=>{let r=0;const n=async(i,o)=>{let s;try{s=await(()=>{const e=(0,f.ZP)("/sendbird_session_token");return(0,u.Y8)()&&!(0,l.wD)()?null:(0,a.he)(e,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"},credentials:"include"}).then((e=>204===e.status?null:e?e.json():null))})()}catch(e){d.ZP.logWarning(e)}return r++,s&&s.session_token?i(s):e&&r===e?o(new Error("Exceeded max attempts")):void setTimeout(n,t,i,o)};return new Promise(n)})(5,1e3).then((t=>g(e,t.session_token).catch((t=>{d.ZP.logWarning("Sendbird connection error",{userId:e,sendbirdErrorCode:t.code,sendbirdErrorMesssage:t.message})})))).catch((e=>{console.error("Get sendbird user error",e)}))),O),k=(e,t,r,n)=>{if(!y())throw _;const i=new v.UserMessageParams;i.message=t,i.customType=r,null!=e&&e.lastMessage||((e,t)=>{if(!y())throw _;new Promise(((r,n)=>{e.updateChannel(e.name,e.coverUrl,t,((e,t)=>{t?n(t):r(e)}))}))})(e,`{"inviter_id": ${n}}`);const a=(0,p.Cm)(e.url);return n!==a&&(i.mentionType="users",i.mentionedUserIds=[a]),n===a&&(i.pushNotificationDeliveryOption="suppress"),new Promise(((t,r)=>{e.sendUserMessage(i,((e,n)=>{n?r(n):t(e)}))}))},P=async e=>{try{return{response:await e()}}catch(e){return{error:e}}},S=async e=>{if((0,u.Y8)())return{unreadCountCampaignInbox:2,unreadCountPatronInbox:1,unreadCount:3};const t=await E(null);if(!e)return{unreadCountCampaignInbox:0,unreadCountPatronInbox:t,unreadCount:t};const r=await E((0,p.d1)(s.ZB.CAMPAIGN,null,e));return{unreadCountCampaignInbox:r,unreadCountPatronInbox:t-r,unreadCount:t}},C={CONVERSATIONS_LIST:async(e,t)=>{let{currentFilter:r,currentInbox:n,nion:i}=e;return(async e=>{var t,r,n,i;let{currentFilter:a,currentInbox:o,members:u,currentUser:c}=e;if(null!=u&&null!==(t=u.request)&&void 0!==t&&t.isLoading)return null;let d=v.GroupChannel.createMyGroupChannelListQuery();d.includeEmpty=o===s.ZB.USER,d.order="latest_last_message",d.limit=100,d.unreadChannelFilter=a===s.zI.UNREAD?"unread_message":"all",d.customTypesFilter=(0,l.wD)()?["999"]:(0,p.d1)(o,u,null==c||null===(r=c.data)||void 0===r||null===(n=r.campaign)||void 0===n?void 0:n.id),d.memberStateFilter=m.p5;const h=await(f=d,new Promise(((e,t)=>{f.next(((r,n)=>{n?t(n):e(r)}))})));var f;return(0,p.JR)((0,p.Up)(h,u,o,null==c||null===(i=c.data)||void 0===i?void 0:i.campaign),d)})({currentFilter:r,currentInbox:n,members:i.members,currentUser:i.currentUser})},UNREAD_COUNTS:async(e,t)=>{let{campaignId:r}=e;return(0,p.JR)(await S(r))},SINGLE_CONVERSATION:async(e,t)=>{var r;let{conversationId:n,newConversation:i,router:a,nion:o}=e;if(n||!i||(null===(r=i.participantIds)||void 0===r?void 0:r.length)<2){var l,u,c,h,f;let e,r;if(n)e=(0,p.Mk)(n,!0);else{const r=i.participantIds,n=null==i?void 0:i.campaignId,a=0===(null==r?void 0:r.length)?null==t?void 0:t.userId:null==r?void 0:r[0];e=(0,p.Mk)(`${n}-${a}`)}try{r=await x(e,"single_conversation")}catch(t){var m,v;400201===(null==t||null===(m=t.response)||void 0===m||null===(v=m.data)||void 0===v?void 0:v.code)&&d.ZP.logWarning(Error("Sendbird channel not found"),{channel:e})}const g=null==a||null===(l=a.location)||void 0===l||null===(u=l.query)||void 0===u?void 0:u.messageId;let _,w;g?_=await((e,t)=>new Promise(((r,n)=>{t.getPreviousAndNextMessagesByID(parseInt(e,10),15,15,!1,"MESG","",[],!1,!1,((e,t)=>{t?n(t):r(e)}))})))(g,r):(w=r.createPreviousMessageListQuery(),w.limit=15,w.reverse=!1,_=await b(w));const E=null==o||null===(c=o.currentUser)||void 0===c||null===(h=c.data)||void 0===h?void 0:h.campaign,O=r.customType===(null==E?void 0:E.id)?s.ZB.CAMPAIGN:s.ZB.USER,T=null==o?void 0:o.members;if(null!=T&&null!==(f=T.request)&&void 0!==f&&f.isLoading)return null;const k=(0,p.gp)(O===s.ZB.CAMPAIGN,E,r.customType,T),P=(0,p.Qb)(_,k),S=(0,p.nn)(r,k);return y()&&r.markAsRead(),{messages:(0,p.JR)(P,w),conversation:(0,p.JR)(S,r)}}return{messages:(0,p.JR)([],{}),conversation:(0,p.JR)(null,{})}},GET_NEW_CONVERSATION:async e=>{let{currentUserId:t,recipientId:r,channelCampaignId:n,currentInbox:i}=e;const a=i===s.ZB.CAMPAIGN?r:t,o=(0,p.xp)(n,a);try{const e=await x(o,"get_new_conversation");return[e,!(null==e||!e.lastMessage)]}catch(e){}},BLOCK_USER:e=>{let{groupChannel:t,userId:r,campaignId:n,campaignIsBlocker:i}=e;return((e,t,r,n)=>{if(!y())throw _;const i={data:{type:"messaging-campaigns-block",attributes:{campaign_id:parseInt(r),user_id:parseInt(t),campaign_is_blocker:n,channel_data:e}}};return(0,o.Z)(m.UR,(0,f.ZP)("/messaging-campaigns-blocks"),{body:i})})(t,r,n,i)},UNBLOCK_USER:e=>{let{groupChannel:t,userId:r,campaignId:n,campaignIsBlocker:i}=e;return((e,t,r,n)=>{if(!y())throw _;const i={data:{type:"messaging-campaigns-block",attributes:{campaign_id:parseInt(r),user_id:parseInt(t),campaign_is_blocker:n,channel_data:e}}};return(0,o.Z)(m.Sb,(0,f.ZP)("/messaging-campaigns-blocks/delete"),{body:i})})(t,r,n,i)},SEARCH_CONVERSATIONS:async e=>{let{initialQuery:t,inboxCustomType:r,channelUrl:n}=e;const i=v.createMessageSearchQuery(t,{channelCustomType:r,reverse:!1,messageTimestampTo:null,messageTimestampFrom:null,channelUrl:n,order:"score",limit:20,exactMatch:!1}),a=await(o=i,new Promise(((e,t)=>{o.next(((r,n)=>{n?t(n):e(r)}))})));var o;return(0,p.JR)(a,i)},DELETE_MESSAGE:async(e,t)=>{const r=null==t?void 0:t.messageId,n=(0,p.Cm)(e.url),i=O.userId,a=(0,p.Np)(e.url);let o=new v.UserMessageParams;return o.data=i===n?JSON.stringify({d_f_u:[i]}):JSON.stringify({d_f_c:[a]}),P((async()=>await((e,t,r)=>{if(!y())throw _;return new Promise(((n,i)=>{r.updateUserMessage(e,t,((e,t)=>{t?i(t):n(e)}))}))})(r,o,e)))},DELETE_CONVERSATION:async e=>P((async()=>await(e=>{if(!y())throw _;return new Promise(((t,r)=>{e.hide(!0,!0,((e,n)=>{n?r(n):t(e)}))}))})(e))),MUTE_CONVERSATION:async(e,t)=>P((async()=>await(e=>{if(!y())throw _;return new Promise(((t,r)=>{e.setMyPushTriggerOption("off",(function(e,n){n?r(n):t(e)}))}))})(e))),UNMUTE_CONVERSATION:async(e,t)=>P((async()=>await(e=>{if(!y())throw _;return new Promise(((t,r)=>{e.setMyPushTriggerOption("mention_only",(function(e,n){n?r(n):t(e)}))}))})(e)))}},739746:(e,t,r)=>{"use strict";r.d(t,{Cm:()=>u,JR:()=>f,Mk:()=>a,Np:()=>s,Ny:()=>d,Qb:()=>g,Up:()=>b,b4:()=>c,d1:()=>h,gp:()=>y,nn:()=>_,xp:()=>l});var n=r(485089),i=r(829461);const a=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t){const t=e.match(/[a-zA-Z0-9]*[\-\_][a-zA-Z0-9]*/g);return`sendbird_group_channel_${t?t[0]:""}`}return`sendbird_group_channel_${e}`},o=e=>e.substr("sendbird_group_channel_".length),s=e=>(e=>{const t=e.indexOf("-");return e.substring(0,t)})(o(e)),l=(e,t)=>`sendbird_group_channel_${e}-${t}`,u=e=>{const t=e.indexOf("-")+1;return e.substr(t)},c=(e,t,r)=>{try{var n;const i=JSON.parse(null==e||null===(n=e.original)||void 0===n?void 0:n.data),a=u(r)===t;return i.d_f_u&&a||i.d_f_c&&!a}catch(e){return!1}},d=e=>{try{const t=JSON.parse(null==e?void 0:e.data),r=null==t?void 0:t.block_data;return e.myRole!==n.Nv?r.patron_is_blocker:r.campaign_is_blocker}catch(e){return!1}},h=(e,t,r)=>{var n;let a;var o;return a=(null==t||null===(n=t.data)||void 0===n?void 0:n.length)>0?null==t||null===(o=t.data)||void 0===o?void 0:o.map((e=>{var t;return null===(t=e.campaign)||void 0===t?void 0:t.id})):[-1],r&&(a=a.filter((e=>e!==r))),e===i.ZB.CAMPAIGN?[r]:a},f=(e,t,r)=>({data:e,request:{isLoading:!1,isLoaded:!0,isError:!!r},query:t}),p=(e,t)=>({type:"user",id:null==e?void 0:e.userId,fullName:null==e?void 0:e.nickname,imageUrl:null==e?void 0:e.profileUrl,campaign:t,url:`/user?u=${null==e?void 0:e.userId}`}),m=(e,t)=>(null==t?void 0:t.userId)===u(e),v=(e,t)=>{const r=!m(e.channelUrl,e.sender);if(" "===e.message)return;let n={type:"message_v2",id:e.messageId,content:e.message,sentAt:e.createdAt,sender:p(e.sender,r&&t),original:e};return r&&(n.onBehalfOfCampaign=t),n},g=(e,t)=>e.map((e=>v(e,t))),_=(e,t)=>{var r,i;const a=null==e||null===(r=e.members)||void 0===r?void 0:r.map((r=>p(r,!m(e.url,r)&&t)));let s=[];return null!==(i=e.lastMessage)&&void 0!==i&&i.sender&&s.push(v(e.lastMessage,t)),{type:"conversation",id:o(e.url),createdAt:e.createdAt,participantCount:2,read:0===e.unreadMessageCount,campaign:t,messages:s,children:[],recentParticipants:a,participants:a,isReplied:!1,isMuted:e.myPushTriggerOption===n.PX,isBlocked:d(e),isOperator:e.myRole===n.Nv}},y=(e,t,r,n)=>e?t:((e,t)=>{var r,n,i;return null==t||null===(r=t.data)||void 0===r||null===(n=r.filter((t=>{var r;return(null==t||null===(r=t.campaign)||void 0===r?void 0:r.id)===e})))||void 0===n||null===(i=n[0])||void 0===i?void 0:i.campaign})(r,n),b=(e,t,r,n)=>e.map((e=>{const a=y(r===i.ZB.CAMPAIGN,n,e.customType,t);return _(e,a)}))},739351:(e,t,r)=>{"use strict";r.d(t,{Tl:()=>g,Ws:()=>_,km:()=>v,qv:()=>m});var n=r(999007),i=r(179913),a=r(140085),o=r(424400),s=r(513952),l=r(348504),u=r(710184),c=r(602720),d=r(608575);function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){p(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function p(e,t,r){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}const m=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=d.format({host:"facebook.com",pathname:"/sharer.php",query:f({u:e},r)}),s=(0,n.translate)(n.DEFAULT_LOCALE,"Facebook",void 0,"Social media platform, proper noun.");return{actionLabel:(0,n.translate)(n.DEFAULT_LOCALE,"Share",void 0,"Share a Patreon post on Facebook."),href:o,hrefTitle:t,icon:i.M,key:c.y.Facebook,platform:s,label:s,color:a.J.Color.FacebookBlue,windowConfig:{width:600,height:380},params:{canonicalUrl:e,title:t}}},v=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=d.format({host:"twitter.com",pathname:"/share",query:f({url:e},r)}),s=(0,n.translate)(n.DEFAULT_LOCALE,"Twitter",void 0,"Social media platform, proper noun.");return{actionLabel:(0,n.translate)(n.DEFAULT_LOCALE,"Tweet",void 0,"Tweet about a Patreon post on Twitter."),href:i,hrefTitle:t,icon:o.O,key:c.y.Twitter,platform:s,label:s,color:a.J.Color.TwitterBlue,windowConfig:{width:800,height:600},params:{canonicalUrl:e,title:t,query:r}}},g=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.yG)()&&(r.source||console.warn("Tumblr share is missing media `source` query param. =>",r));const i=d.format({host:"tumblr.com",pathname:"/share/photo",query:f({clickthru:e},r)}),o=(0,n.translate)(n.DEFAULT_LOCALE,"Tumblr",void 0,"Social media platform, proper noun.");return{actionLabel:(0,n.translate)(n.DEFAULT_LOCALE,"Post",void 0,"Post about a Patreon post on Tumblr."),href:i,hrefTitle:t,icon:s.b,key:c.y.Tumblr,platform:o,label:o,color:a.J.Color.TumblrBlue,windowConfig:{width:450,height:435},params:{canonicalUrl:e,title:t,query:r}}},_=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.yG)()&&(r.media||console.warn("Pinterest share is missing `media` query param. =>",r));const i=d.format({host:"pinterest.com",pathname:"/pin/create/button",query:f({url:e},r)}),o=(0,n.translate)(n.DEFAULT_LOCALE,"Pinterest",void 0,"Social media platform, proper noun.");return{actionLabel:(0,n.translate)(n.DEFAULT_LOCALE,"Pin",void 0,"Pin a Patreon post on Pinterest."),href:i,hrefTitle:t,icon:l.Z,key:c.y.Pinterest,platform:o,label:o,color:a.J.Color.PinterestRed,windowConfig:{width:600,height:300},params:{canonicalUrl:e,title:t,query:r}}}},622805:(e,t,r)=>{"use strict";r.d(t,{g:()=>s,v:()=>o});var n=r(666485),i=r.n(n),a=r(874243);const o=e=>{i()(e)},s=async e=>{const t=await(0,a.he)(e);return await t.blob()}},348168:(e,t,r)=>{var n=r(708874),i={};for(var a in n)n.hasOwnProperty(a)&&(i[n[a]]=a);var o=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var s in o)if(o.hasOwnProperty(s)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);var l=o[s].channels,u=o[s].labels;delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:l}),Object.defineProperty(o[s],"labels",{value:u})}o.rgb.hsl=function(e){var t,r,n=e[0]/255,i=e[1]/255,a=e[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),l=s-o;return s===o?t=0:n===s?t=(i-a)/l:i===s?t=2+(a-n)/l:a===s&&(t=4+(n-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),r=(o+s)/2,[t,100*(s===o?0:r<=.5?l/(s+o):l/(2-s-o)),100*r]},o.rgb.hsv=function(e){var t,r,n=e[0],i=e[1],a=e[2],o=Math.min(n,i,a),s=Math.max(n,i,a),l=s-o;return r=0===s?0:l/s*1e3/10,s===o?t=0:n===s?t=(i-a)/l:i===s?t=2+(a-n)/l:a===s&&(t=4+(n-i)/l),(t=Math.min(60*t,360))<0&&(t+=360),[t,r,s/255*1e3/10]},o.rgb.hwb=function(e){var t=e[0],r=e[1],n=e[2];return[o.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(r,n))*100,100*(n=1-1/255*Math.max(t,Math.max(r,n)))]},o.rgb.cmyk=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*((1-r-(t=Math.min(1-r,1-n,1-i)))/(1-t)||0),100*((1-n-t)/(1-t)||0),100*((1-i-t)/(1-t)||0),100*t]},o.rgb.keyword=function(e){var t=i[e];if(t)return t;var r,a,o,s=1/0;for(var l in n)if(n.hasOwnProperty(l)){var u=(a=e,o=n[l],Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)+Math.pow(a[2]-o[2],2));u<s&&(s=u,r=l)}return r},o.keyword.rgb=function(e){return n[e]},o.rgb.xyz=function(e){var t=e[0]/255,r=e[1]/255,n=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92)+.1805*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)),100*(.2126*t+.7152*r+.0722*n),100*(.0193*t+.1192*r+.9505*n)]},o.rgb.lab=function(e){var t=o.rgb.xyz(e),r=t[0],n=t[1],i=t[2];return n/=100,i/=108.883,r=(r/=95.047)>.008856?Math.pow(r,1/3):7.787*r+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(r-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},o.hsl.rgb=function(e){var t,r,n,i,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[a=255*l,a,a];t=2*l-(r=l<.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var u=0;u<3;u++)(n=o+1/3*-(u-1))<0&&n++,n>1&&n--,a=6*n<1?t+6*(r-t)*n:2*n<1?r:3*n<2?t+(r-t)*(2/3-n)*6:t,i[u]=255*a;return i},o.hsl.hsv=function(e){var t=e[0],r=e[1]/100,n=e[2]/100,i=r,a=Math.max(n,.01);return r*=(n*=2)<=1?n:2-n,i*=a<=1?a:2-a,[t,100*(0===n?2*i/(a+i):2*r/(n+r)),(n+r)/2*100]},o.hsv.rgb=function(e){var t=e[0]/60,r=e[1]/100,n=e[2]/100,i=Math.floor(t)%6,a=t-Math.floor(t),o=255*n*(1-r),s=255*n*(1-r*a),l=255*n*(1-r*(1-a));switch(n*=255,i){case 0:return[n,l,o];case 1:return[s,n,o];case 2:return[o,n,l];case 3:return[o,s,n];case 4:return[l,o,n];case 5:return[n,o,s]}},o.hsv.hsl=function(e){var t,r,n,i=e[0],a=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return n=(2-a)*o,r=a*s,[i,100*(r=(r/=(t=(2-a)*s)<=1?t:2-t)||0),100*(n/=2)]},o.hwb.rgb=function(e){var t,r,n,i,a,o,s,l=e[0]/360,u=e[1]/100,c=e[2]/100,d=u+c;switch(d>1&&(u/=d,c/=d),n=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(n=1-n),i=u+n*((r=1-c)-u),t){default:case 6:case 0:a=r,o=i,s=u;break;case 1:a=i,o=r,s=u;break;case 2:a=u,o=r,s=i;break;case 3:a=u,o=i,s=r;break;case 4:a=i,o=u,s=r;break;case 5:a=r,o=u,s=i}return[255*a,255*o,255*s]},o.cmyk.rgb=function(e){var t=e[0]/100,r=e[1]/100,n=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i))]},o.xyz.rgb=function(e){var t,r,n,i=e[0]/100,a=e[1]/100,o=e[2]/100;return r=-.9689*i+1.8758*a+.0415*o,n=.0557*i+-.204*a+1.057*o,t=(t=3.2406*i+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:12.92*r,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,[255*(t=Math.min(Math.max(0,t),1)),255*(r=Math.min(Math.max(0,r),1)),255*(n=Math.min(Math.max(0,n),1))]},o.xyz.lab=function(e){var t=e[0],r=e[1],n=e[2];return r/=100,n/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(r=r>.008856?Math.pow(r,1/3):7.787*r+16/116)-16,500*(t-r),200*(r-(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116))]},o.lab.xyz=function(e){var t,r,n,i=e[0];t=e[1]/500+(r=(i+16)/116),n=r-e[2]/200;var a=Math.pow(r,3),o=Math.pow(t,3),s=Math.pow(n,3);return r=a>.008856?a:(r-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,n=s>.008856?s:(n-16/116)/7.787,[t*=95.047,r*=100,n*=108.883]},o.lab.lch=function(e){var t,r=e[0],n=e[1],i=e[2];return(t=360*Math.atan2(i,n)/2/Math.PI)<0&&(t+=360),[r,Math.sqrt(n*n+i*i),t]},o.lch.lab=function(e){var t,r=e[0],n=e[1];return t=e[2]/360*2*Math.PI,[r,n*Math.cos(t),n*Math.sin(t)]},o.rgb.ansi16=function(e){var t=e[0],r=e[1],n=e[2],i=1 in arguments?arguments[1]:o.rgb.hsv(e)[2];if(0===(i=Math.round(i/50)))return 30;var a=30+(Math.round(n/255)<<2|Math.round(r/255)<<1|Math.round(t/255));return 2===i&&(a+=60),a},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){var t=e[0],r=e[1],n=e[2];return t===r&&r===n?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},o.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var r=.5*(1+~~(e>50));return[(1&t)*r*255,(t>>1&1)*r*255,(t>>2&1)*r*255]},o.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var r;return e-=16,[Math.floor(e/36)/5*255,Math.floor((r=e%36)/6)/5*255,r%6/5*255]},o.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var r=t[0];3===t[0].length&&(r=r.split("").map((function(e){return e+e})).join(""));var n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},o.rgb.hcg=function(e){var t,r=e[0]/255,n=e[1]/255,i=e[2]/255,a=Math.max(Math.max(r,n),i),o=Math.min(Math.min(r,n),i),s=a-o;return t=s<=0?0:a===r?(n-i)/s%6:a===n?2+(i-r)/s:4+(r-n)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?o/(1-s):0)]},o.hsl.hcg=function(e){var t,r=e[1]/100,n=e[2]/100,i=0;return(t=n<.5?2*r*n:2*r*(1-n))<1&&(i=(n-.5*t)/(1-t)),[e[0],100*t,100*i]},o.hsv.hcg=function(e){var t=e[1]/100,r=e[2]/100,n=t*r,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.hcg.rgb=function(e){var t=e[0]/360,r=e[1]/100,n=e[2]/100;if(0===r)return[255*n,255*n,255*n];var i,a=[0,0,0],o=t%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:a[0]=1,a[1]=s,a[2]=0;break;case 1:a[0]=l,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=s;break;case 3:a[0]=0,a[1]=l,a[2]=1;break;case 4:a[0]=s,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=l}return i=(1-r)*n,[255*(r*a[0]+i),255*(r*a[1]+i),255*(r*a[2]+i)]},o.hcg.hsv=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t),n=0;return r>0&&(n=t/r),[e[0],100*n,100*r]},o.hcg.hsl=function(e){var t=e[1]/100,r=e[2]/100*(1-t)+.5*t,n=0;return r>0&&r<.5?n=t/(2*r):r>=.5&&r<1&&(n=t/(2*(1-r))),[e[0],100*n,100*r]},o.hcg.hwb=function(e){var t=e[1]/100,r=t+e[2]/100*(1-t);return[e[0],100*(r-t),100*(1-r)]},o.hwb.hcg=function(e){var t=e[1]/100,r=1-e[2]/100,n=r-t,i=0;return n<1&&(i=(r-n)/(1-n)),[e[0],100*n,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=o.gray.hsv=function(e){return[0,0,e[0]]},o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},112085:(e,t,r)=>{var n=r(348168),i=r(804111),a={};Object.keys(n).forEach((function(e){a[e]={},Object.defineProperty(a[e],"channels",{value:n[e].channels}),Object.defineProperty(a[e],"labels",{value:n[e].labels});var t=i(e);Object.keys(t).forEach((function(r){var n=t[r];a[e][r]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var r=e(t);if("object"==typeof r)for(var n=r.length,i=0;i<n;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(n),a[e][r].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(n)}))})),e.exports=a},804111:(e,t,r)=>{var n=r(348168),i=Object.keys(n);function a(e){var t=function(){for(var e={},t=i.length,r=0;r<t;r++)e[i[r]]={distance:-1,parent:null};return e}(),r=[e];for(t[e].distance=0;r.length;)for(var a=r.pop(),o=Object.keys(n[a]),s=o.length,l=0;l<s;l++){var u=o[l],c=t[u];-1===c.distance&&(c.distance=t[a].distance+1,c.parent=a,r.unshift(u))}return t}function o(e,t){return function(r){return t(e(r))}}function s(e,t){for(var r=[t[e].parent,e],i=n[t[e].parent][e],a=t[e].parent;t[a].parent;)r.unshift(t[a].parent),i=o(n[t[a].parent][a],i),a=t[a].parent;return i.conversion=r,i}e.exports=function(e){for(var t=a(e),r={},n=Object.keys(t),i=n.length,o=0;o<i;o++){var l=n[o];null!==t[l].parent&&(r[l]=s(l,t))}return r}},6767:(e,t,r)=>{"use strict";var n=r(919818),i=r(112085),a=[].slice,o=["keyword","gray","hex"],s={};Object.keys(i).forEach((function(e){s[a.call(i[e].labels).sort().join("")]=e}));var l={};function u(e,t){if(!(this instanceof u))return new u(e,t);if(t&&t in o&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);var r,c;if(e)if(e instanceof u)this.model=e.model,this.color=e.color.slice(),this.valpha=e.valpha;else if("string"==typeof e){var d=n.get(e);if(null===d)throw new Error("Unable to parse color from string: "+e);this.model=d.model,c=i[this.model].channels,this.color=d.value.slice(0,c),this.valpha="number"==typeof d.value[c]?d.value[c]:1}else if(e.length){this.model=t||"rgb",c=i[this.model].channels;var h=a.call(e,0,c);this.color=f(h,c),this.valpha="number"==typeof e[c]?e[c]:1}else if("number"==typeof e)e&=16777215,this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;var p=Object.keys(e);"alpha"in e&&(p.splice(p.indexOf("alpha"),1),this.valpha="number"==typeof e.alpha?e.alpha:0);var m=p.sort().join("");if(!(m in s))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=s[m];var v=i[this.model].labels,g=[];for(r=0;r<v.length;r++)g.push(e[v[r]]);this.color=f(g)}else this.model="rgb",this.color=[0,0,0],this.valpha=1;if(l[this.model])for(c=i[this.model].channels,r=0;r<c;r++){var _=l[this.model][r];_&&(this.color[r]=_(this.color[r]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}function c(e,t,r){return(e=Array.isArray(e)?e:[e]).forEach((function(e){(l[e]||(l[e]=[]))[t]=r})),e=e[0],function(n){var i;return arguments.length?(r&&(n=r(n)),(i=this[e]()).color[t]=n,i):(i=this[e]().color[t],r&&(i=r(i)),i)}}function d(e){return function(t){return Math.max(0,Math.min(e,t))}}function h(e){return Array.isArray(e)?e:[e]}function f(e,t){for(var r=0;r<t;r++)"number"!=typeof e[r]&&(e[r]=0);return e}u.prototype={toString:function(){return this.string()},toJSON:function(){return this[this.model]()},string:function(e){var t=this.model in n.to?this:this.rgb(),r=1===(t=t.round("number"==typeof e?e:1)).valpha?t.color:t.color.concat(this.valpha);return n.to[t.model](r)},percentString:function(e){var t=this.rgb().round("number"==typeof e?e:1),r=1===t.valpha?t.color:t.color.concat(this.valpha);return n.to.rgb.percent(r)},array:function(){return 1===this.valpha?this.color.slice():this.color.concat(this.valpha)},object:function(){for(var e={},t=i[this.model].channels,r=i[this.model].labels,n=0;n<t;n++)e[r[n]]=this.color[n];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray:function(){var e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject:function(){var e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round:function(e){return e=Math.max(e||0,0),new u(this.color.map(function(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}(e)).concat(this.valpha),this.model)},alpha:function(e){return arguments.length?new u(this.color.concat(Math.max(0,Math.min(1,e))),this.model):this.valpha},red:c("rgb",0,d(255)),green:c("rgb",1,d(255)),blue:c("rgb",2,d(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,(function(e){return(e%360+360)%360})),saturationl:c("hsl",1,d(100)),lightness:c("hsl",2,d(100)),saturationv:c("hsv",1,d(100)),value:c("hsv",2,d(100)),chroma:c("hcg",1,d(100)),gray:c("hcg",2,d(100)),white:c("hwb",1,d(100)),wblack:c("hwb",2,d(100)),cyan:c("cmyk",0,d(100)),magenta:c("cmyk",1,d(100)),yellow:c("cmyk",2,d(100)),black:c("cmyk",3,d(100)),x:c("xyz",0,d(100)),y:c("xyz",1,d(100)),z:c("xyz",2,d(100)),l:c("lab",0,d(100)),a:c("lab",1),b:c("lab",2),keyword:function(e){return arguments.length?new u(e):i[this.model].keyword(this.color)},hex:function(e){return arguments.length?new u(e):n.to.hex(this.rgb().round().color)},rgbNumber:function(){var e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity:function(){for(var e=this.rgb().color,t=[],r=0;r<e.length;r++){var n=e[r]/255;t[r]=n<=.03928?n/12.92:Math.pow((n+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),r=e.luminosity();return t>r?(t+.05)/(r+.05):(r+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.rgb().color;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=this.rgb(),t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten:function(e){var t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken:function(e){var t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate:function(e){var t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate:function(e){var t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten:function(e){var t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken:function(e){var t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale:function(){var e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return u.rgb(t,t,t)},fade:function(e){return this.alpha(this.valpha-this.valpha*e)},opaquer:function(e){return this.alpha(this.valpha+this.valpha*e)},rotate:function(e){var t=this.hsl(),r=t.color[0];return r=(r=(r+e)%360)<0?360+r:r,t.color[0]=r,t},mix:function(e,t){var r=this.rgb(),n=e.rgb(),i=void 0===t?.5:t,a=2*i-1,o=r.alpha()-n.alpha(),s=((a*o==-1?a:(a+o)/(1+a*o))+1)/2,l=1-s;return u.rgb(s*r.red()+l*n.red(),s*r.green()+l*n.green(),s*r.blue()+l*n.blue(),r.alpha()*i+n.alpha()*(1-i))}},Object.keys(i).forEach((function(e){if(-1===o.indexOf(e)){var t=i[e].channels;u.prototype[e]=function(){if(this.model===e)return new u(this);if(arguments.length)return new u(arguments,e);var r="number"==typeof arguments[t]?t:this.valpha;return new u(h(i[this.model][e].raw(this.color)).concat(r),e)},u[e]=function(r){return"number"==typeof r&&(r=f(a.call(arguments),t)),new u(r,e)}}})),e.exports=u},972555:(e,t,r)=>{"use strict";var n=r(667294),i=r(36511);if(void 0===n)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var a=(new n.Component).updater;e.exports=i(n.Component,n.isValidElement,a)},154125:e=>{e.exports=function(e){function t(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=15)}([function(e,t,r){(function(t){var r;r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},e.exports=r}).call(t,r(17))},function(e,t){function r(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function n(e,t){var r=E(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&l(e)}(e)&&g.call(e,"callee")&&(!y.call(e,"callee")||_.call(e)==h)}(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!g.call(e,o)||i&&("length"==o||a(o,n))||r.push(o);return r}function i(e,t,r){var n=e[t];g.call(e,t)&&s(n,r)&&(void 0!==r||t in e)||(e[t]=r)}function a(e,t){return!!(t=null==t?d:t)&&("number"==typeof e||m.test(e))&&e>-1&&e%1==0&&e<t}function o(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||v)}function s(e,t){return e===t||e!=e&&t!=t}function l(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=d}(e.length)&&!function(e){var t=u(e)?_.call(e):"";return t==f||t==p}(e)}function u(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function c(e){return l(e)?n(e):function(e){if(!o(e))return b(e);var t=[];for(var r in Object(e))g.call(e,r)&&"constructor"!=r&&t.push(r);return t}(e)}var d=9007199254740991,h="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",m=/^(?:0|[1-9]\d*)$/,v=Object.prototype,g=v.hasOwnProperty,_=v.toString,y=v.propertyIsEnumerable,b=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),w=Math.max,x=!y.call({valueOf:1},"valueOf"),E=Array.isArray,O=function(e){return function(e,t){return t=w(void 0===t?e.length-1:t,0),function(){for(var n=arguments,i=-1,a=w(n.length-t,0),o=Array(a);++i<a;)o[i]=n[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=n[i];return s[t]=o,r(e,this,s)}}((function(t,r){var n=-1,i=r.length,o=i>1?r[i-1]:void 0,c=i>2?r[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,c&&function(e,t,r){if(!u(r))return!1;var n=typeof t;return!!("number"==n?l(r)&&a(t,r.length):"string"==n&&t in r)&&s(r[t],e)}(r[0],r[1],c)&&(o=i<3?void 0:o,i=1),t=Object(t);++n<i;){var d=r[n];d&&e(t,d)}return t}))}((function(e,t){if(x||o(t)||l(t))!function(e,t,r,n){r||(r={});for(var a=-1,o=t.length;++a<o;){var s=t[a],l=n?n(r[s],e[s],s,r,e):void 0;i(r,s,void 0===l?e[s]:l)}}(t,c(t),e);else for(var r in t)g.call(t,r)&&i(e,r,t[r])}));e.exports=O},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i={now:function(){var e=n.default.performance,t=e&&e.timing;return t&&"number"==typeof t.navigationStart&&"function"==typeof e.now?t.navigationStart+e.now():Date.now()}};t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){r=void 0===r?1:r,e[t]=e[t]||0,e[t]+=r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(18)),i=n.default.methodFactory;n.default.methodFactory=function(e,t,r){var n=i(e,t,r);return function(){for(var e=["[mux]"],t=0;t<arguments.length;t++)e.push(arguments[t]);n.apply(void 0,e)}},n.default.setLevel(n.default.getLevel()),t.default=n.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){if("string"!=typeof e||""===e)return["localhost"];var t=(e.match(/^(([^:\/?#]+):)?(\/\/([^\/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/)||[])[4],r=void 0;return t&&(r=(t.match(/[^\.]+\.[^\.]+$/)||[])[0]),[t,r]};t.extractHostnameAndDomain=n,t.extractHostname=function(e){return n(e)[0]},t.extractDomain=function(e){return n(e)[1]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.generateUUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},t.generateShortID=function(){return("000000"+(Math.random()*Math.pow(36,6)<<0).toString(36)).slice(-6)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return(e=e||"").trim().split(/[\r\n]+/).forEach((function(e){if(e){var r=e.split(": "),i=r.shift();i&&n.indexOf(i.toLowerCase())>=0&&(t[i]=r.join(": "))}})),t};var n=["x-cdn","content-type"]},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findMediaElement=t.getMuxPlayerId=void 0;var n=r(6),i=function(e){return e&&void 0!==e.nodeName?(e.muxId||(e.muxId=e.id||(0,n.generateShortID)()),e.muxId):e};t.getMuxPlayerId=i,t.findMediaElement=function(e){var t=void 0;return e&&void 0!==e.nodeName?e=i(t=e):t=document.querySelector(e),[t,e,t&&t.nodeName?t.nodeName.toLowerCase():""]}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"1"===(n.default.doNotTrack||n.default.navigator&&(n.default.navigator.doNotTrack||n.default.navigator.msDoNotTrack))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i={exists:function(){var e=n.default.performance;return void 0!==(e&&e.timing)},domContentLoadedEventEnd:function(){var e=n.default.performance,t=e&&e.timing;return t&&t.domContentLoadedEventEnd},navigationStart:function(){var e=n.default.performance,t=e&&e.timing;return t&&t.navigationStart}};t.default=i},function(e,t,r){"use strict";var n=r(37),i=r(38),a=r(13);e.exports={formats:a,parse:i,stringify:n}},function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}();t.arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r},t.merge=function(e,r,i){if(!r)return e;if("object"!=typeof r){if(Array.isArray(e))e.push(r);else{if("object"!=typeof e)return[e,r];(i.plainObjects||i.allowPrototypes||!n.call(Object.prototype,r))&&(e[r]=!0)}return e}if("object"!=typeof e)return[e].concat(r);var a=e;return Array.isArray(e)&&!Array.isArray(r)&&(a=t.arrayToObject(e,i)),Array.isArray(e)&&Array.isArray(r)?(r.forEach((function(r,a){n.call(e,a)?e[a]&&"object"==typeof e[a]?e[a]=t.merge(e[a],r,i):e.push(r):e[a]=r})),e):Object.keys(r).reduce((function(e,a){var o=r[a];return n.call(e,a)?e[a]=t.merge(e[a],o,i):e[a]=o,e}),a)},t.assign=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var a=t.charCodeAt(n);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?r+=t.charAt(n):a<128?r+=i[a]:a<2048?r+=i[192|a>>6]+i[128|63&a]:a<55296||a>=57344?r+=i[224|a>>12]+i[128|a>>6&63]+i[128|63&a]:(n+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(n)),r+=i[240|a>>18]+i[128|a>>12&63]+i[128|a>>6&63]+i[128|63&a])}return r},t.compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],o=Object.keys(a),s=0;s<o.length;++s){var l=o[s],u=a[l];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(t.push({obj:a,prop:l}),r.push(u))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],i=0;i<t.length;++i)void 0!==t[i]&&n.push(t[i]);r.obj[r.prop]=n}}return t}(t)},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,r){"use strict";var n=String.prototype.replace,i=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,i,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function i(e){var t={};for(var r in e)e.hasOwnProperty(r)&&(t[e[r]]=r);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={},r={};return Object.keys(e).forEach((function(n){var i=!1;if(e.hasOwnProperty(n)&&void 0!==e[n]){var o=n.split("_"),u=o[0],c=s[u];c||(a.default.info("Data key word `"+o[0]+"` not expected in "+n),c=u+"_"),o.splice(1).forEach((function(e){"url"===e&&(i=!0),l[e]?c+=l[e]:Number(e)&&Math.floor(Number(e))===Number(e)?c+=e:(a.default.info("Data key word `"+e+"` not expected in "+n),c+="_"+e+"_")})),i?r[c]=e[n]:t[c]=e[n]}})),(0,o.default)(t,r)};var a=n(r(4)),o=n(r(1)),s=i({a:"env",b:"beacon",c:"custom",d:"ad",e:"event",f:"experiment",m:"mux",n:"response",p:"player",q:"request",r:"retry",s:"session",t:"timestamp",u:"viewer",v:"video",w:"page",x:"view",y:"sub"}),l=i({ad:"ad",ag:"aggregate",ap:"api",al:"application",ar:"architecture",as:"asset",au:"autoplay",av:"average",bi:"bitrate",br:"break",bw:"browser",by:"bytes",ca:"cached",cb:"cancel",cd:"code",cg:"category",ch:"changed",cn:"config",co:"count",ce:"counter",cp:"complete",cr:"creative",ct:"content",cu:"current",cx:"connection",dg:"downscaling",dm:"domain",dn:"cdn",do:"downscale",du:"duration",dv:"device",ec:"encoding",en:"end",eg:"engine",em:"embed",er:"error",es:"errorcode",et:"errortext",ee:"event",ev:"events",ex:"expires",fi:"first",fm:"family",ft:"format",fq:"frequency",fr:"frame",fs:"fullscreen",hb:"holdback",he:"headers",ho:"host",hn:"hostname",ht:"height",id:"id",ii:"init",in:"instance",ip:"ip",is:"is",ke:"key",la:"language",lb:"labeled",le:"level",li:"live",ld:"loaded",lo:"load",ls:"lists",lt:"latency",ma:"max",md:"media",me:"message",mf:"manifest",mi:"mime",ml:"midroll",mm:"min",mn:"manufacturer",mo:"model",mx:"mux",ne:"newest",nm:"name",no:"number",on:"on",os:"os",pa:"paused",pb:"playback",pd:"producer",pe:"percentage",pf:"played",pg:"program",ph:"playhead",pi:"plugin",pl:"preroll",pn:"playing",po:"poster",pr:"preload",ps:"position",pt:"part",py:"property",ra:"rate",rd:"requested",re:"rebuffer",rf:"rendition",rm:"remote",ro:"ratio",rp:"response",rq:"request",rs:"requests",sa:"sample",se:"session",sk:"seek",sm:"stream",so:"source",sq:"sequence",sr:"series",st:"start",su:"startup",sv:"server",sw:"software",ta:"tag",tc:"tech",te:"text",tg:"target",th:"throughput",ti:"time",tl:"total",to:"to",tt:"title",ty:"type",ug:"upscaling",up:"upscale",ur:"url",us:"user",va:"variant",vd:"viewed",vi:"video",ve:"version",vw:"view",vr:"viewer",wd:"width",wa:"watch",wt:"waiting"})},function(e,t,r){"use strict";e.exports=r(16).default},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(r(0)),o=r(8),s=n(r(4)),l=n(r(9)),u=n(r(2)),c=n(r(19)),d=n(r(45)),h=n(r(46)),f=n(r(51)),p={},m=function e(t){var r=arguments;"string"==typeof t?e.hasOwnProperty(t)?a.default.setTimeout((function(){r=Array.prototype.splice.call(r,1),e[t].apply(null,r)}),0):s.default.warn("`"+t+"` is an unknown task"):"function"==typeof t?a.default.setTimeout((function(){t(e)}),0):s.default.warn("`"+t+"` is invalid.")};m.loaded=u.default.now(),m.NAME="mux-embed",m.VERSION="4.4.4",m.API_VERSION="2.1",m.PLAYER_TRACKED=!1,m.monitor=function(e,t){return(0,d.default)(m,e,t)},m.destroyMonitor=function(e){var t=(0,o.findMediaElement)(e),r=i(t,1)[0];r&&r.mux&&"function"==typeof r.mux.destroy?r.mux.destroy():s.default.error("A video element monitor for `"+e+"` has not been initialized via `mux.monitor`.")},m.addHLSJS=function(e,t){var r=(0,o.getMuxPlayerId)(e);p[r]?p[r].addHLSJS(t):s.default.error("A monitor for `"+r+"` has not been initialized.")},m.addDashJS=function(e,t){var r=(0,o.getMuxPlayerId)(e);p[r]?p[r].addDashJS(t):s.default.error("A monitor for `"+r+"` has not been initialized.")},m.removeHLSJS=function(e){var t=(0,o.getMuxPlayerId)(e);p[t]?p[t].removeHLSJS():s.default.error("A monitor for `"+t+"` has not been initialized.")},m.removeDashJS=function(e){var t=(0,o.getMuxPlayerId)(e);p[t]?p[t].removeDashJS():s.default.error("A monitor for `"+t+"` has not been initialized.")},m.init=function(e,t){(0,l.default)()&&t&&t.respectDoNotTrack&&s.default.info("The browser's Do Not Track flag is enabled - Mux beaconing is disabled.");var r=(0,o.getMuxPlayerId)(e);p[r]=new c.default(m,r,t)},m.emit=function(e,t,r){var n=(0,o.getMuxPlayerId)(e);p[n]?(p[n].emit(t,r),"destroy"===t&&delete p[n]):s.default.error("A monitor for `"+n+"` has not been initialized.")},void 0!==a.default&&"function"==typeof a.default.addEventListener&&a.default.addEventListener("pagehide",(function(e){e.persisted||(m.WINDOW_UNLOADING=!0)}),!1),m.checkDoNotTrack=l.default,m.log=s.default,m.utils=h.default,m.events=f.default,t.default=m},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n,i;!function(a,o){"use strict";void 0!==(i="function"==typeof(n=function(){function e(e,t){var r=e[t];if("function"==typeof r.bind)return r.bind(e);try{return Function.prototype.bind.call(r,e)}catch(t){return function(){return Function.prototype.apply.apply(r,[e,arguments])}}}function t(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function r(r){return"debug"===r&&(r="log"),typeof console!==l&&("trace"===r&&u?t:void 0!==console[r]?e(console,r):void 0!==console.log?e(console,"log"):s)}function n(e,t){for(var r=0;r<c.length;r++){var n=c[r];this[n]=r<e?s:this.methodFactory(n,e,t)}this.log=this.debug}function i(e,t,r){return function(){typeof console!==l&&(n.call(this,t,r),this[e].apply(this,arguments))}}function a(e,t,n){return r(e)||i.apply(this,arguments)}function o(e,t,r){function i(e){var t=(c[e]||"silent").toUpperCase();if(typeof window!==l&&d){try{return void(window.localStorage[d]=t)}catch(e){}try{window.document.cookie=encodeURIComponent(d)+"="+t+";"}catch(e){}}}function o(){var e;if(typeof window!==l&&d){try{e=window.localStorage[d]}catch(e){}if(typeof e===l)try{var t=window.document.cookie,r=t.indexOf(encodeURIComponent(d)+"=");-1!==r&&(e=/^([^;]+)/.exec(t.slice(r))[1])}catch(e){}return void 0===u.levels[e]&&(e=void 0),e}}var s,u=this,d="loglevel";"string"==typeof e?d+=":"+e:"symbol"==typeof e&&(d=void 0),u.name=e,u.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},u.methodFactory=r||a,u.getLevel=function(){return s},u.setLevel=function(t,r){if("string"==typeof t&&void 0!==u.levels[t.toUpperCase()]&&(t=u.levels[t.toUpperCase()]),!("number"==typeof t&&t>=0&&t<=u.levels.SILENT))throw"log.setLevel() called with invalid level: "+t;if(s=t,!1!==r&&i(t),n.call(u,t,e),typeof console===l&&t<u.levels.SILENT)return"No console available for logging"},u.setDefaultLevel=function(e){o()||u.setLevel(e,!1)},u.enableAll=function(e){u.setLevel(u.levels.TRACE,e)},u.disableAll=function(e){u.setLevel(u.levels.SILENT,e)};var h=o();null==h&&(h=null==t?"WARN":t),u.setLevel(h,!1)}var s=function(){},l="undefined",u=typeof window!==l&&typeof window.navigator!==l&&/Trident\/|MSIE /.test(window.navigator.userAgent),c=["trace","debug","info","warn","error"],d=new o,h={};d.getLogger=function(e){if("symbol"!=typeof e&&"string"!=typeof e||""===e)throw new TypeError("You must supply a name when creating a logger.");var t=h[e];return t||(t=h[e]=new o(e,d.getLevel(),d.methodFactory)),t};var f=typeof window!==l?window.log:void 0;return d.noConflict=function(){return typeof window!==l&&window.log===d&&(window.log=f),d},d.getLoggers=function(){return h},d.default=d,d})?n.call(t,r,t,e):n)&&(e.exports=i)}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(r(4)),o=n(r(1)),s=r(6),l=r(5),u=n(r(0)),c=n(r(10)),d=n(r(3)),h=r(20),f=r(21),p=n(r(22)),m=n(r(23)),v=n(r(24)),g=n(r(25)),_=n(r(26)),y=n(r(27)),b=n(r(28)),w=n(r(29)),x=n(r(30)),E=n(r(31)),O=n(r(32)),T=n(r(33)),k=n(r(34)),P=n(r(35)),S=n(r(44)),C=["viewstart","ended","loadstart","pause","play","playing","ratechange","waiting","adplay","adpause","adended","aderror","adplaying","adrequest","adresponse","adbreakstart","adbreakend","adfirstquartile","admidpoint","adthirdquartile","rebufferstart","rebufferend","seeked","error","hb","requestcompleted","requestfailed","requestcanceled","renditionchange"],D=function(e,t,r){var n=this;this.DOM_CONTENT_LOADED_EVENT_END=c.default.domContentLoadedEventEnd(),this.NAVIGATION_START=c.default.navigationStart();this.mux=e,this.id=t,(r=(0,o.default)({debug:!1,minimumRebufferDuration:250,sustainedRebufferThreshold:1e3,playbackHeartbeatTime:25,beaconDomain:"litix.io",sampleRate:1,disableCookies:!1,respectDoNotTrack:!1,disableRebufferTracking:!1,errorTranslator:function(e){return e}},r)).data=r.data||{},r.data.property_key&&(r.data.env_key=r.data.property_key,delete r.data.property_key),a.default.setLevel(r.debug?"debug":"warn"),this.getPlayheadTime=r.getPlayheadTime,this.getStateData=r.getStateData||function(){},this.getAdData=r.getAdData||function(){},this.minimumRebufferDuration=r.minimumRebufferDuration,this.sustainedRebufferThreshold=r.sustainedRebufferThreshold,this.playbackHeartbeatTime=r.playbackHeartbeatTime,this.disableRebufferTracking=r.disableRebufferTracking,this.disableRebufferTracking&&this.mux.log.warn("Disabling rebuffer tracking. This should only be used in specific circumstances as a last resort when your player is known to unreliably track rebuffering."),this.errorTranslator=r.errorTranslator,this.playbackEventDispatcher=new P.default(e,r.data.env_key,r),this.data={player_instance_id:(0,s.generateUUID)(),mux_sample_rate:r.sampleRate,beacon_domain:r.beaconDomain},this.data.view_sequence_number=1,this.data.player_sequence_number=1,this.oldEmit=this.emit,this.emit=function(e,t){t=(0,o.default)({viewer_time:this.mux.utils.now()},t),this.oldEmit(e,t)};var i=function(){void 0===this.data.view_start&&(this.data.view_start=this.mux.utils.now(),this.emit("viewstart"))}.bind(this);this.on("viewinit",(function(e,t){this._resetVideoData(),this._resetViewData(),this._resetErrorData(),this._updateStateData(),(0,o.default)(this.data,t),this._initializeViewData(),this.one("play",i),this.one("adbreakstart",i)}));var l=function(e){this.emit("viewend"),this.send("viewend"),this.emit("viewinit",e)}.bind(this);this.on("videochange",(function(e,t){l(t)})),this.on("programchange",(function(e,t){this.data.player_is_paused&&this.mux.log.warn("The `programchange` event is intended to be used when the content changes mid playback without the video source changing, however the video is not currently playing. If the video source is changing please use the videochange event otherwise you will lose startup time information."),l((0,o.default)(t,{view_program_changed:!0})),i(),this.emit("play"),this.emit("playing")})),this.on("fragmentchange",(function(e,t){this.currentFragmentPDT=t.currentFragmentPDT,this.currentFragmentStart=t.currentFragmentStart})),this.on("destroy",this.destroy);var d=this.destroy.bind(this);void 0!==u.default&&"function"==typeof u.default.addEventListener&&(u.default.addEventListener("visibilitychange",(function(){n.mux.WINDOW_VISIBLE="visible"===document.visibilityState,"hidden"===document.visibilityState&&(n.emit("hb"),n.send("hb"))}),!1),u.default.addEventListener("pagehide",(function(e){e.persisted||d()}),!1)),this.on("destroy",(function(){void 0!==u.default&&"function"==typeof u.default.removeEventListener&&u.default.removeEventListener("pagehide",d)})),this.on("playerready",(function(e,t){(0,o.default)(this.data,t)})),C.forEach((function(e){n.on(e,(function(t,r){0!==e.indexOf("ad")&&this._updateStateData(),(0,o.default)(this.data,r),this._sanitizeData()})),n.on("after"+e,(function(){("error"!==e||this.viewErrored)&&this.send(e)}))})),this.on("viewend",(function(e,t){(0,o.default)(n.data,t)}));this.one("playerready",(function(e){var t=this.mux.utils.now();this.data.player_init_time&&(this.data.player_startup_time=t-this.data.player_init_time),!this.mux.PLAYER_TRACKED&&this.NAVIGATION_START&&(this.mux.PLAYER_TRACKED=!0,(this.data.player_init_time||this.DOM_CONTENT_LOADED_EVENT_END)&&(this.data.page_load_time=Math.min(this.data.player_init_time||1/0,this.DOM_CONTENT_LOADED_EVENT_END||1/0)-this.NAVIGATION_START)),this.send("playerready"),delete this.data.player_startup_time,delete this.data.page_load_time})),v.default.apply(this),k.default.apply(this),E.default.apply(this),y.default.apply(this),m.default.apply(this),x.default.apply(this),g.default.apply(this),_.default.apply(this),O.default.apply(this),b.default.apply(this),w.default.apply(this),T.default.apply(this),S.default.apply(this),r.hlsjs&&this.addHLSJS(r),r.dashjs&&this.addDashJS(r),this.emit("viewinit",r.data)};(0,o.default)(D.prototype,p.default.prototype),(0,o.default)(D.prototype,y.default.prototype),(0,o.default)(D.prototype,E.default.prototype),(0,o.default)(D.prototype,m.default.prototype),(0,o.default)(D.prototype,g.default.prototype),(0,o.default)(D.prototype,_.default.prototype),(0,o.default)(D.prototype,O.default.prototype),(0,o.default)(D.prototype,b.default.prototype),(0,o.default)(D.prototype,w.default.prototype),D.prototype.destroy=function(){this._destroyed||(this._destroyed=!0,void 0!==this.data.view_start&&(this.emit("viewend"),this.send("viewend")),this.playbackEventDispatcher.destroy(),this.removeHLSJS(),this.removeDashJS(),u.default.removeEventListener("visibilitychange",this.triggerQueueFlush),u.default.clearTimeout(this._heartBeatTimeout))},D.prototype.send=function(e){var t=(0,o.default)({},this.data);1===t.player_error_code&&(delete t.player_error_code,delete t.player_error_message);if(void 0===t.video_source_is_live&&(t.player_source_duration===1/0||t.video_source_duration===1/0?t.video_source_is_live=!0:(t.player_source_duration>0||t.video_source_duration>0)&&(t.video_source_is_live=!1)),t.video_source_is_live||["player_program_time","player_manifest_newest_program_time","video_holdback","video_part_holdback","video_target_duration","video_part_target_duration"].forEach((function(e){t[e]=void 0})),t.video_source_url=t.video_source_url||t.player_source_url,t.video_source_url){var r=(0,l.extractHostnameAndDomain)(t.video_source_url),n=i(r,2),a=n[0],s=n[1];t.video_source_domain=s,t.video_source_hostname=a}delete t.ad_request_id,this.playbackEventDispatcher.send(e,t),this.data.view_sequence_number++,this.data.player_sequence_number++,this._restartHeartBeat()},D.prototype._updateStateData=function(){(0,o.default)(this.data,this.getStateData()),this._updatePlayheadTime(),this._sanitizeData()},D.prototype._sanitizeData=function(){var e=this;["player_width","player_height","video_source_width","video_source_height","player_playhead_time","video_source_bitrate"].forEach((function(t){var r=parseInt(e.data[t],10);e.data[t]=isNaN(r)?void 0:r})),["player_source_url","video_source_url"].forEach((function(t){if(e.data[t]){var r=e.data[t].toLowerCase();0!==r.indexOf("data:")&&0!==r.indexOf("blob:")||(e.data[t]="MSE style URL")}}))},D.prototype._resetVideoData=function(e,t){var r=this;Object.keys(this.data).forEach((function(e){0===e.indexOf("video_")&&delete r.data[e]}))},D.prototype._resetViewData=function(){var e=this;Object.keys(this.data).forEach((function(t){0===t.indexOf("view_")&&delete e.data[t]})),this.data.view_sequence_number=1},D.prototype._resetErrorData=function(e,t){delete this.data.player_error_code,delete this.data.player_error_message},D.prototype._initializeViewData=function(){var e=this,t=this.data.view_id=(0,s.generateUUID)(),r=function(){t===e.data.view_id&&(0,d.default)(e.data,"player_view_count",1)};this.data.player_is_paused?this.one("play",r):r()},D.prototype._restartHeartBeat=function(){var e=this;u.default.clearTimeout(this._heartBeatTimeout),this.viewErrored||(this._heartBeatTimeout=u.default.setTimeout((function(){e.data.player_is_paused||e.emit("hb")}),1e4))},D.prototype.addHLSJS=function(e){return e.hlsjs?this.hlsjs?void this.mux.log.warn("An instance of HLS.js is already being monitored for this player."):(this.hlsjs=e.hlsjs,void(0,h.monitorHlsJs)(this.mux,this.id,e.hlsjs,{},e.Hls||u.default.Hls)):void this.mux.log.warn("You must pass a valid hlsjs instance in order to track it.")},D.prototype.removeHLSJS=function(){this.hlsjs&&((0,h.stopMonitoringHlsJs)(this.hlsjs),this.hlsjs=void 0)},D.prototype.addDashJS=function(e){return e.dashjs?this.dashjs?void this.mux.log.warn("An instance of Dash.js is already being monitored for this player."):(this.dashjs=e.dashjs,void(0,f.monitorDashJS)(this.mux,this.id,e.dashjs)):void this.mux.log.warn("You must pass a valid dashjs instance in order to track it.")},D.prototype.removeDashJS=function(){this.dashjs&&((0,f.stopMonitoringDashJS)(this.dashjs),this.dashjs=void 0)},t.default=D},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringHlsJs=t.monitorHlsJs=void 0;var i=n(r(7)),a=n(r(10)),o=r(5),s=function(e){if(!e)return{};var t=a.default.navigationStart(),r=e.loading,n=r?r.start:e.trequest,i=r?r.first:e.tfirst,o=r?r.end:e.tload;return{bytesLoaded:e.total,requestStart:Math.round(t+n),responseStart:Math.round(t+i),responseEnd:Math.round(t+o)}},l=function(e){if(e&&"function"==typeof e.getAllResponseHeaders)return(0,i.default)(e.getAllResponseHeaders())};t.monitorHlsJs=function(e,t,r){var n=arguments[4],i=e.log,u=e.utils.secondsToMs,c=function(e){var t=parseInt(n.version),r=void 0;return 1===t&&null!==e.programDateTime&&(r=e.programDateTime),0===t&&null!==e.pdt&&(r=e.pdt),r};if(a.default.exists()){var d=function(r,n){return e.emit(t,r,n)},h=function(e,t){var r=t.levels,n=t.audioTracks,i=t.url,a=t.stats,u=t.networkDetails,c={},h={};r.forEach((function(e,t){c[t]={width:e.width,height:e.height,bitrate:e.bitrate,attrs:e.attrs}})),n.forEach((function(e,t){h[t]={name:e.name,language:e.lang,bitrate:e.bitrate}}));var f=s(a),p=f.bytesLoaded,m=f.requestStart,v=f.responseStart,g=f.responseEnd;d("requestcompleted",{request_event_type:e,request_bytes_loaded:p,request_start:m,request_response_start:v,request_response_end:g,request_type:"manifest",request_hostname:(0,o.extractHostname)(i),request_response_headers:l(u),request_rendition_lists:{media:c,audio:h,video:{}}})};r.on(n.Events.MANIFEST_LOADED,h);var f=function(e,t){var r=t.details,n=t.level,i=t.networkDetails,a=t.stats,h=s(a),f=h.bytesLoaded,p=h.requestStart,m=h.responseStart,v=h.responseEnd,g=r.fragments[r.fragments.length-1],_=c(g)+u(g.duration);d("requestcompleted",{request_event_type:e,request_bytes_loaded:f,request_start:p,request_response_start:m,request_response_end:v,request_current_level:n,request_type:"manifest",request_hostname:(0,o.extractHostname)(r.url),request_response_headers:l(i),video_holdback:r.holdBack&&u(r.holdBack),video_part_holdback:r.partHoldBack&&u(r.partHoldBack),video_part_target_duration:r.partTarget&&u(r.partTarget),video_target_duration:r.targetduration&&u(r.targetduration),video_source_is_live:r.live,player_manifest_newest_program_time:isNaN(_)?void 0:_})};r.on(n.Events.LEVEL_LOADED,f);var p=function(e,t){var r=t.details,n=t.networkDetails,i=t.stats,a=s(i),u=a.bytesLoaded,c=a.requestStart,h=a.responseStart,f=a.responseEnd;d("requestcompleted",{request_event_type:e,request_bytes_loaded:u,request_start:c,request_response_start:h,request_response_end:f,request_type:"manifest",request_hostname:(0,o.extractHostname)(r.url),request_response_headers:l(n)})};r.on(n.Events.AUDIO_TRACK_LOADED,p);var m=function(e,t){var n=t.stats,i=t.networkDetails,a=t.frag,u=s(n),c={request_event_type:e,request_bytes_loaded:u.bytesLoaded,request_start:u.requestStart,request_response_start:u.responseStart,request_response_end:u.responseEnd,request_hostname:i?(0,o.extractHostname)(i.responseURL):void 0,request_response_headers:l(i),request_media_duration:a.duration};"main"===a.type?(c.request_type="media",c.request_current_level=a.level,c.request_video_width=(r.levels[a.level]||{}).width,c.request_video_height=(r.levels[a.level]||{}).height):c.request_type=a.type,d("requestcompleted",c)};r.on(n.Events.FRAG_LOADED,m);var v=function(e,t){var r=t.frag,n=r.start,i={currentFragmentPDT:c(r),currentFragmentStart:u(n)};d("fragmentchange",i)};r.on(n.Events.FRAG_CHANGED,v);var g=function(e,t){var r=t.details,i=t.response,a=t.context,s=t.frag;if(r===n.ErrorDetails.MANIFEST_LOAD_ERROR||r===n.ErrorDetails.MANIFEST_LOAD_TIMEOUT||r===n.ErrorDetails.FRAG_LOAD_ERROR||r===n.ErrorDetails.FRAG_LOAD_TIMEOUT||r===n.ErrorDetails.LEVEL_LOAD_ERROR||r===n.ErrorDetails.LEVEL_LOAD_TIMEOUT){var l=s&&s.url||a&&a.url||"";d("requestfailed",{request_error:r,request_url:l,request_hostname:(0,o.extractHostname)(l),request_type:r===n.ErrorDetails.FRAG_LOAD_ERROR||r===n.ErrorDetails.FRAG_LOAD_TIMEOUT?"media":"manifest",request_error_code:i&&i.code,request_error_text:i&&i.text})}};r.on(n.Events.ERROR,g);var _=function(e,t){var r=t.frag,n=r&&r._url||"";d("requestcanceled",{request_cancel:e,request_url:n,request_type:"media",request_hostname:(0,o.extractHostname)(n)})};r.on(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,_);var y=function(e,t){var n=t.level,a=r.levels[n];if(a&&a.attrs&&a.attrs.BANDWIDTH){var o=a.attrs.BANDWIDTH;o?d("renditionchange",{video_source_bitrate:o,video_source_width:a.width,video_source_height:a.height}):i.warn("missing BANDWIDTH from HLS manifest parsed by HLS.js")}};r.on(n.Events.LEVEL_SWITCHED,y),r._stopMuxMonitor=function(){r.off(n.Events.MANIFEST_LOADED,h),r.off(n.Events.LEVEL_LOADED,f),r.off(n.Events.AUDIO_TRACK_LOADED,p),r.off(n.Events.FRAG_LOADED,m),r.off(n.Events.FRAG_CHANGED,v),r.off(n.Events.ERROR,g),r.off(n.Events.FRAG_LOAD_EMERGENCY_ABORTED,_),r.off(n.Events.LEVEL_SWITCHED,y),r.off(n.Events.DESTROYING,r._stopMuxMonitor),delete r._stopMuxMonitor},r.on(n.Events.DESTROYING,r._stopMuxMonitor)}else i.warn("performance timing not supported. Not tracking HLS.js.")},t.stopMonitoringHlsJs=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.stopMonitoringDashJS=t.monitorDashJS=void 0;var i=n(r(0)),a=n(r(7)),o=r(5),s=function(e,t){if(!e||"function"!=typeof e.getRequests)return{};var r=e.getRequests({state:"executed"});if(0===r.length)return{};var n=r[r.length-1],i=(0,o.extractHostname)(n.url),s=n.bytesLoaded,l=new Date(n.requestStartDate).getTime(),u=new Date(n.firstByteDate).getTime(),c=new Date(n.requestEndDate).getTime(),d=isNaN(n.duration)?0:n.duration,h="function"==typeof t.getMetricsFor?t.getMetricsFor(n.mediaType).HttpList:t.getDashMetrics().getHttpRequests(n.mediaType),f=void 0;return h.length>0&&(f=(0,a.default)(h[h.length-1]._responseHeaders||"")),{requestStart:l,requestResponseStart:u,requestResponseEnd:c,requestBytesLoaded:s,requestResponseHeaders:f,requestMediaDuration:d,requestHostname:i}};t.monitorDashJS=function(e,t,r){var n=e.log;if(r&&r.on){var a=function(r,n){return e.emit(t,r,n)},l=function(e){var t=e.type,r=(e.data||{}).url;a("requestcompleted",{request_event_type:t,request_start:0,request_response_start:0,request_response_end:0,request_bytes_loaded:-1,request_type:"manifest",request_hostname:(0,o.extractHostname)(r)})};r.on("manifestLoaded",l);var u={},c=function(e){var t=e.type,n=e.fragmentModel,i=(e.chunk||{}).mediaInfo||{},o=i.type,l=i.bitrateList,c={};(l=l||[]).forEach((function(e,t){c[t]={},c[t].width=e.width,c[t].height=e.height,c[t].bitrate=e.bandwidth,c[t].attrs={}})),"video"===o?u.video=c:"audio"===o?u.audio=c:u.media=c;var d=s(n,r),h=d.requestStart,f=d.requestResponseStart,p=d.requestResponseEnd,m=d.requestResponseHeaders,v=d.requestMediaDuration,g=d.requestHostname;a("requestcompleted",{request_event_type:t,request_start:h,request_response_start:f,request_response_end:p,request_bytes_loaded:-1,request_type:o+"_init",request_response_headers:m,request_hostname:g,request_media_duration:v,request_rendition_lists:u})};r.on("initFragmentLoaded",c);var d=function(e){var t=e.type,n=e.fragmentModel,i=e.chunk||{},o=i.mediaInfo,l=i.start,u=(o||{}).type,c=s(n,r),d=c.requestStart,h=c.requestResponseStart,f=c.requestResponseEnd,p=c.requestBytesLoaded,m=c.requestResponseHeaders,v=c.requestMediaDuration,g=c.requestHostname,_=function(e,t){var r=t.getQualityFor(e),n=t.getCurrentTrackFor(e).bitrateList;return n?{currentLevel:r,renditionWidth:n[r].width||null,renditionHeight:n[r].height||null,renditionBitrate:n[r].bandwidth}:{}}(u,r),y=_.currentLevel,b=_.renditionWidth,w=_.renditionHeight,x=_.renditionBitrate;a("requestcompleted",{request_event_type:t,request_start:d,request_response_start:h,request_response_end:f,request_bytes_loaded:p,request_type:u,request_response_headers:m,request_hostname:g,request_media_start_time:l,request_media_duration:v,request_current_level:y,request_labeled_bitrate:x,request_video_width:b,request_video_height:w})};r.on("mediaFragmentLoaded",d);var h={video:void 0,audio:void 0,totalBitrate:void 0},f=function(e,t,i){if("number"==typeof e.newQuality){var o=e.mediaType;if("audio"===o||"video"===o){var s=r.getBitrateInfoListFor(o).find((function(t){return t.qualityIndex===e.newQuality}));if(!s||"number"!=typeof s.bitrate)return void n.warn("missing bitrate info for "+o);h[o]=s;var l=function(){if(h.video&&"number"==typeof h.video.bitrate){if(!h.video.width||!h.video.height)return void n.warn("have bitrate info for video but missing width/height");var e=h.video.bitrate;return h.audio&&"number"==typeof h.audio.bitrate&&(e+=h.audio.bitrate),e!==h.totalBitrate?(h.totalBitrate=e,{video_source_bitrate:e,video_source_height:h.video.height,video_source_width:h.video.width}):void 0}}();l&&a("renditionchange",l)}}else n.warn("missing evt.newQuality in qualityChangeRendered event",e)};r.on("qualityChangeRendered",f);var p=function(e){var t=e.error,r=e.event,n=(r=r||{}).request||{},s=i.default.event&&i.default.event.currentTarget||{};a("requestfailed",{request_error:t+"_"+r.id+"_"+n.type,request_url:r.url,request_hostname:(0,o.extractHostname)(r.url),request_type:n.mediaType,request_error_code:s.status,request_error_type:s.statusText})};r.on("error",p),r._stopMuxMonitor=function(){r.off("manifestLoaded",l),r.off("initFragmentLoaded",c),r.off("mediaFragmentLoaded",d),r.off("qualityChangeRendered",f),r.off("error",p),delete r._stopMuxMonitor}}else n.warn("Invalid dash.js player reference. Monitoring blocked.")},t.stopMonitoringDashJS=function(e){e&&"function"==typeof e._stopMuxMonitor&&e._stopMuxMonitor()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){},i=0;n.prototype.on=function(e,t,r){return t._eventEmitterGuid=t._eventEmitterGuid||++i,this._listeners=this._listeners||{},this._listeners[e]=this._listeners[e]||[],r&&(t=t.bind(r)),this._listeners[e].push(t),t},n.prototype.off=function(e,t){var r=this._listeners&&this._listeners[e];r&&r.forEach((function(e,n){e._eventEmitterGuid===t._eventEmitterGuid&&r.splice(n,1)}))},n.prototype.one=function(e,t,r){var n=this;t._eventEmitterGuid=t._eventEmitterGuid||++i;var a=function i(){n.off(e,i),t.apply(r||this,arguments)};a._eventEmitterGuid=t._eventEmitterGuid,this.on(e,a)},n.prototype.emit=function(e,t){var r=this;if(this._listeners){t=t||{};var n=this._listeners["before*"]||[],i=this._listeners[e]||[],a=this._listeners["after"+e]||[],o=function(t,n){(t=t.slice()).forEach((function(t){t.call(r,{type:e},n)}))};o(n,t),o(i,t),o(a,t)}},t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i=function(){this._playbackHeartbeatInterval=null,this._playheadShouldBeProgressing=!1,this.on("playing",(function(){this._playheadShouldBeProgressing=!0})),this.on("play",this._startPlaybackHeartbeatInterval),this.on("playing",this._startPlaybackHeartbeatInterval),this.on("adbreakstart",this._startPlaybackHeartbeatInterval),this.on("adplay",this._startPlaybackHeartbeatInterval),this.on("adplaying",this._startPlaybackHeartbeatInterval),this.on("seeking",this._startPlaybackHeartbeatInterval),this.on("devicewake",this._startPlaybackHeartbeatInterval),this.on("viewstart",this._startPlaybackHeartbeatInterval),this.on("pause",this._stopPlaybackHeartbeatInterval),this.on("ended",this._stopPlaybackHeartbeatInterval),this.on("viewend",this._stopPlaybackHeartbeatInterval),this.on("error",this._stopPlaybackHeartbeatInterval),this.on("aderror",this._stopPlaybackHeartbeatInterval),this.on("adpause",this._stopPlaybackHeartbeatInterval),this.on("adended",this._stopPlaybackHeartbeatInterval),this.on("adbreakend",this._stopPlaybackHeartbeatInterval),this.on("seeked",(function(){this.data.player_is_paused?this._stopPlaybackHeartbeatInterval():this._startPlaybackHeartbeatInterval()})),this.on("timeupdate",(function(){null!==this._playbackHeartbeatInterval&&this.emit("playbackheartbeat")})),this.on("devicesleep",(function(e,t){null!==this._playbackHeartbeatInterval&&(n.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend",{viewer_time:t.viewer_time}),this._playbackHeartbeatInterval=null)}))};i.prototype._startPlaybackHeartbeatInterval=function(){var e=this;null===this._playbackHeartbeatInterval&&(this.emit("playbackheartbeat"),this._playbackHeartbeatInterval=n.default.setInterval((function(){e.emit("playbackheartbeat")}),this.playbackHeartbeatTime))},i.prototype._stopPlaybackHeartbeatInterval=function(){this._playheadShouldBeProgressing=!1,null!==this._playbackHeartbeatInterval&&(n.default.clearInterval(this._playbackHeartbeatInterval),this.emit("playbackheartbeatend"),this._playbackHeartbeatInterval=null)},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.on("viewinit",(function(){e.viewErrored=!1})),this.on("error",(function(){try{var t=e.errorTranslator({player_error_code:e.data.player_error_code,player_error_message:e.data.player_error_message});t?(e.data.player_error_code=t.player_error_code,e.data.player_error_message=t.player_error_message,e.viewErrored=!0):(delete e.data.player_error_code,delete e.data.player_error_message)}catch(t){e.mux.log.warn("Exception in error translator callback.",t),e.viewErrored=!0}}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3)),i=function(){this._watchTimeTrackerLastCheckedTime=null,this.on("playbackheartbeat",this._updateWatchTime),this.on("playbackheartbeatend",this._clearWatchTimeState)};i.prototype._updateWatchTime=function(e,t){var r=t.viewer_time;null===this._watchTimeTrackerLastCheckedTime&&(this._watchTimeTrackerLastCheckedTime=r),(0,n.default)(this.data,"view_watch_time",r-this._watchTimeTrackerLastCheckedTime),this._watchTimeTrackerLastCheckedTime=r},i.prototype._clearWatchTimeState=function(e,t){this._updateWatchTime(e,t),this._watchTimeTrackerLastCheckedTime=null},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3)),i=function(){this._playbackTimeTrackerLastPlayheadPosition=-1,this.on("playbackheartbeat",this._updatePlaybackTime),this.on("playbackheartbeatend",this._clearPlaybackTimeState),this.on("seeking",this._clearPlaybackTimeState)};i.prototype._updatePlaybackTime=function(){var e=this.data.player_playhead_time;if(this._playbackTimeTrackerLastPlayheadPosition>=0&&e>this._playbackTimeTrackerLastPlayheadPosition){var t=e-this._playbackTimeTrackerLastPlayheadPosition;t<=1e3&&(0,n.default)(this.data,"view_content_playback_time",t)}this._playbackTimeTrackerLastPlayheadPosition=e},i.prototype._clearPlaybackTimeState=function(){this._updatePlaybackTime(),this._playbackTimeTrackerLastPlayheadPosition=-1},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this.on("playbackheartbeat",this._updatePlayheadTime),this.on("playbackheartbeatend",this._updatePlayheadTime),this.on("timeupdate",this._updatePlayheadTime),this.on("destroy",(function(){this.off("timeupdate",this._updatePlayheadTime)}))};n.prototype._updateMaxPlayheadPosition=function(){this.data.view_max_playhead_position=void 0===this.data.view_max_playhead_position?this.data.player_playhead_time:Math.max(this.data.view_max_playhead_position,this.data.player_playhead_time)},n.prototype._updatePlayheadTime=function(e,t){var r=this,n=function(){r.currentFragmentPDT&&r.currentFragmentStart&&(r.data.player_program_time=r.currentFragmentPDT+r.data.player_playhead_time-r.currentFragmentStart)};if(t&&t.player_playhead_time)this.data.player_playhead_time=t.player_playhead_time,n(),this._updateMaxPlayheadPosition();else if(this.getPlayheadTime){var i=this.getPlayheadTime();void 0!==i&&(this.data.player_playhead_time=i,n(),this._updateMaxPlayheadPosition())}},t.default=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(2)),a=n(r(3)),o=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null,this.on("playbackheartbeat",this._checkIfRebuffering),this.on("playbackheartbeatend",this._cleanupRebufferTracker),this.on("seeking",(function(){this._cleanupRebufferTracker(null,{viewer_time:i.default.now()})}))};o.prototype._checkIfRebuffering=function(e,t){if(!this.disableRebufferTracking){if(this.isSeeking||this.isAdBreak||!this._playheadShouldBeProgressing)return void this._cleanupRebufferTracker(e,t);if(null===this._lastCheckedTime)return this._prepareRebufferTrackerState(t.viewer_time),void this._updateRebufferMetrics();if(this._lastPlayheadTime!==this.data.player_playhead_time)return void this._cleanupRebufferTracker(e,t,!0);var r=t.viewer_time-this._lastPlayheadTimeUpdatedTime;r>=this.sustainedRebufferThreshold&&(this._rebuffering?this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime):(this._rebuffering=!0,(0,a.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(r),this.emit("rebufferstart"))),this._lastCheckedTime=t.viewer_time}},o.prototype._clearRebufferTrackerState=function(){this._lastCheckedTime=null,this._lastPlayheadTime=null,this._lastPlayheadTimeUpdatedTime=null},o.prototype._prepareRebufferTrackerState=function(e){this._lastCheckedTime=e,this._lastPlayheadTime=this.data.player_playhead_time,this._lastPlayheadTimeUpdatedTime=e},o.prototype._cleanupRebufferTracker=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.disableRebufferTracking){if(this._rebuffering)this._rebuffering=!1,this._updateRebufferMetrics(t.viewer_time-this._lastCheckedTime),this.emit("rebufferend",{viewer_time:t.viewer_time});else{if(null===this._lastCheckedTime)return void this._updateRebufferMetrics();var n=this.data.player_playhead_time-this._lastPlayheadTime,i=t.viewer_time-this._lastPlayheadTimeUpdatedTime;n>0&&i-n>this.minimumRebufferDuration?((0,a.default)(this.data,"view_rebuffer_count",1),this._updateRebufferMetrics(i-n),this.emit("rebufferstart",{viewer_time:this._lastPlayheadTimeUpdatedTime}),this.emit("rebufferend",{viewer_time:this._lastPlayheadTimeUpdatedTime+i-n})):this._updateRebufferMetrics()}r?this._prepareRebufferTrackerState(t.viewer_time):this._clearRebufferTrackerState()}},o.prototype._updateRebufferMetrics=function(e){e>0&&(0,a.default)(this.data,"view_rebuffer_duration",e),this.data.view_watch_time>=0&&this.data.view_rebuffer_count>0&&(this.data.view_rebuffer_frequency=this.data.view_rebuffer_count/this.data.view_watch_time,this.data.view_rebuffer_percentage=this.data.view_rebuffer_duration/this.data.view_watch_time)},t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(2)),i=function(){this.on("viewinit",(function(){var e=this.data,t=e.view_id;if(!e.view_program_changed){var r=function(e,r){var i=r.viewer_time;"playing"===e.type&&void 0===this.data.view_time_to_first_frame?this.calculateTimeToFirstFrame(i||n.default.now(),t):"adplaying"!==e.type||void 0!==this.data.view_time_to_first_frame&&!this.inPrerollPosition()||this.calculateTimeToFirstFrame(i||n.default.now(),t)};this.one("playing",r),this.one("adplaying",r),this.one("viewend",(function(){this.off("playing",r),this.off("adplaying",r)}))}}))};i.prototype.calculateTimeToFirstFrame=function(e,t){t===this.data.view_id&&(this._updateWatchTime(null,{viewer_time:e}),this.data.view_time_to_first_frame=this.data.view_watch_time,(this.data.player_autoplay_on||this.data.video_is_autoplay)&&this.NAVIGATION_START&&(this.data.view_aggregate_startup_time=this.data.view_start+this.data.view_watch_time-this.NAVIGATION_START))},t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.on("viewinit",(function(){this._lastPlayheadPosition=-1})),["pause","rebufferstart","seeking","error","adbreakstart","hb"].forEach((function(t){e.on(t,(function(){if(this._lastPlayheadPosition>=0&&this.data.player_playhead_time>=0&&this._lastPlayerWidth>=0&&this._lastSourceWidth>0&&this._lastPlayerHeight>=0&&this._lastSourceHeight>0){var e=this.data.player_playhead_time-this._lastPlayheadPosition;if(e<0)return void(this._lastPlayheadPosition=-1);var t=Math.min(this._lastPlayerWidth/this._lastSourceWidth,this._lastPlayerHeight/this._lastSourceHeight),r=Math.max(0,t-1),i=Math.max(0,1-t);this.data.view_max_upscale_percentage=Math.max(this.data.view_max_upscale_percentage||0,r),this.data.view_max_downscale_percentage=Math.max(this.data.view_max_downscale_percentage||0,i),(0,n.default)(this.data,"view_total_content_playback_time",e),(0,n.default)(this.data,"view_total_upscaling",r*e),(0,n.default)(this.data,"view_total_downscaling",i*e)}this._lastPlayheadPosition=-1}))})),["playing","hb"].forEach((function(t){e.on(t,(function(){this._lastPlayheadPosition=this.data.player_playhead_time,this._lastPlayerWidth=this.data.player_width,this._lastPlayerHeight=this.data.player_height,this._lastSourceWidth=this.data.video_source_width,this._lastSourceHeight=this.data.video_source_height}))}))};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(3))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){this.isSeeking=!1,this.on("seeking",(function(e,t){(0,o.default)(this.data,t),this._lastSeekingTime=i.default.now(),!1===this.isSeeking&&(this.isSeeking=!0,this.send("seeking"))})),this.on("seeked",(function(){this.isSeeking=!1;var e=this._lastSeekingTime||i.default.now(),t=i.default.now()-e;(0,a.default)(this.data,"view_seek_count",1),(0,a.default)(this.data,"view_seek_duration",t);var r=this.data.view_max_seek_time||0;this.data.view_max_seek_time=Math.max(r,t)})),this.on("viewend",(function(){this.isSeeking=!1}))};var i=n(r(2)),a=n(r(3)),o=n(r(1))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=n(r(3)),o=r(5),s=n(r(1)),l=function(e,t){e.push(t),e.sort((function(e,t){return e.viewer_time-t.viewer_time}))},u=["adbreakstart","adrequest","adresponse","adplay","adplaying","adpause","adended","adbreakend","aderror"],c=function(){var e=this;this.on("viewinit",(function(){this.isAdBreak=!1,this._currentAdRequestNumber=0,this._currentAdResponseNumber=0,this._adRequests=[],this._adResponses=[],this._adHasPlayed=!1,this._wouldBeNewAdPlay=!0,this._prerollPlayTime=void 0})),u.forEach((function(t){return e.on(t,e._updateAdData)}));var t=function(){e.isAdBreak=!1};this.on("adbreakstart",(function(){this.isAdBreak=!0})),this.on("play",t),this.on("playing",t),this.on("viewend",t),this.on("adrequest",(function(e,t){t=(0,s.default)({ad_request_id:"generatedAdRequestId"+this._currentAdRequestNumber++},t),l(this._adRequests,t),(0,a.default)(this.data,"view_ad_request_count"),this.inPrerollPosition()&&(this.data.view_preroll_requested=!0,this._adHasPlayed||(0,a.default)(this.data,"view_preroll_request_count"))})),this.on("adresponse",(function(e,t){t=(0,s.default)({ad_request_id:"generatedAdRequestId"+this._currentAdResponseNumber++},t),l(this._adResponses,t);var r=this.findAdRequest(t.ad_request_id);r&&(0,a.default)(this.data,"view_ad_request_time",Math.max(0,t.viewer_time-r.viewer_time))})),this.on("adplay",(function(e,t){this._adHasPlayed=!0,this._wouldBeNewAdPlay&&(this._wouldBeNewAdPlay=!1,(0,a.default)(this.data,"view_ad_played_count")),this.inPrerollPosition()&&!this.data.view_preroll_played&&(this.data.view_preroll_played=!0,this._adRequests.length>0&&(this.data.view_preroll_request_time=Math.max(0,t.viewer_time-this._adRequests[0].viewer_time)),this.data.view_start&&(this.data.view_startup_preroll_request_time=Math.max(0,t.viewer_time-this.data.view_start)),this._prerollPlayTime=t.viewer_time)})),this.on("adplaying",(function(e,t){this.inPrerollPosition()&&void 0===this.data.view_preroll_load_time&&void 0!==this._prerollPlayTime&&(this.data.view_preroll_load_time=t.viewer_time-this._prerollPlayTime,this.data.view_startup_preroll_load_time=t.viewer_time-this._prerollPlayTime)})),this.on("adended",(function(){this._wouldBeNewAdPlay=!0})),this.on("aderror",(function(){this._wouldBeNewAdPlay=!0}))};c.prototype.inPrerollPosition=function(){return void 0===this.data.view_content_playback_time||this.data.view_content_playback_time<=1e3},c.prototype.findAdRequest=function(e){for(var t=0;t<this._adRequests.length;t++)if(this._adRequests[t].ad_request_id===e)return this._adRequests[t]},c.prototype._updateAdData=function(e,t){if(this.inPrerollPosition()){if(!this.data.view_preroll_ad_tag_hostname&&t.ad_tag_url){var r=(0,o.extractHostnameAndDomain)(t.ad_tag_url),n=i(r,2),a=n[0],s=n[1];this.data.view_preroll_ad_tag_domain=s,this.data.view_preroll_ad_tag_hostname=a}if(!this.data.view_preroll_ad_asset_hostname&&t.ad_asset_url){var l=(0,o.extractHostnameAndDomain)(t.ad_asset_url),u=i(l,2),c=u[0],d=u[1];this.data.view_preroll_ad_asset_domain=d,this.data.view_preroll_ad_asset_hostname=c}}},t.default=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this,t=void 0,r=void 0,n=function(){e.disableRebufferTracking||t&&((0,a.default)(e.data,"view_waiting_rebuffer_duration",i.default.now()-t),t=!1,window.clearInterval(r))},o=!1,s=function(){o=!1,n()};this.on("waiting",(function(){o&&(e.disableRebufferTracking||((0,a.default)(e.data,"view_waiting_rebuffer_count",1),t=i.default.now(),r=window.setInterval((function(){if(t){var r=i.default.now();(0,a.default)(e.data,"view_waiting_rebuffer_duration",r-t),t=r}}),250)))})),this.on("playing",(function(){n(),o=!0})),this.on("pause",s),this.on("seeking",s)};var i=n(r(2)),a=n(r(3))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=this;this.one("playbackheartbeat",o),this.on("playbackheartbeatend",(function(){e.off("before*",s),e.one("playbackheartbeat",o)}))};var i=n(r(1)),a=n(r(2)),o=function(){this.lastWallClockTime=a.default.now(),this.on("before*",s)},s=function(e){var t=a.default.now(),r=this.lastWallClockTime;this.lastWallClockTime=t,t-r>3e4&&(this.emit("devicesleep",{viewer_time:r}),(0,i.default)(this.data,{viewer_time:r}),this.send("devicesleep"),this.emit("devicewake",{viewer_time:t}),(0,i.default)(this.data,{viewer_time:t}),this.send("devicewake"))}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=n(r(0)),o=r(36),s=n(r(4)),l=n(r(40)),u=n(r(9)),c=n(r(41)),d=n(r(14)),h=n(r(42)),f=n(r(1)),p=["env_key","view_id","view_sequence_number","player_sequence_number","beacon_domain","player_playhead_time","viewer_time","mux_api_version","event","video_id","player_instance_id"],m=["viewstart","error","ended","viewend"],v=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.mux=e,this.envKey=t,this.eventQueue=new h.default((0,l.default)(t,r.beaconDomain)),this.previousBeaconData=null,this.lastEventTime=null,this.sampleRate=r.sampleRate,this.disableCookies=r.disableCookies,this.respectDoNotTrack=r.respectDoNotTrack;var n=r.platform||{};this.pageLevelData={mux_api_version:this.mux.API_VERSION,mux_embed:this.mux.NAME,mux_embed_version:this.mux.VERSION,viewer_application_name:n.name,viewer_application_version:n.version,viewer_application_engine:n.layout,viewer_device_name:n.product,viewer_device_category:"",viewer_device_manufacturer:n.manufacturer,viewer_os_family:n.os&&n.os.family,viewer_os_architecture:n.os&&n.os.architecture,viewer_os_version:n.os&&n.os.version};var i=(0,c.default)();i&&(this.pageLevelData=(0,f.default)(this.pageLevelData,{viewer_connection_type:i})),void 0!==a.default&&a.default.location&&a.default.location.href&&(this.pageLevelData.page_url=a.default.location.href),this.viewerData=this.disableCookies?{}:(0,o.getAndUpdateViewerData)()};v.prototype.send=function(e,t){if(e){if(this.respectDoNotTrack&&(0,u.default)())return s.default.info("Not sending `"+e+"` because Do Not Track is enabled");if(!t||"object"!==(void 0===t?"undefined":i(t)))return s.default.error("A data object was expected in send() but was not provided");var r=this.disableCookies?{}:(0,o.getAndUpdateSessionData)(),n={};(0,f.default)(n,this.pageLevelData),(0,f.default)(n,t),(0,f.default)(n,r),(0,f.default)(n,this.viewerData),n.event=e,n.env_key=this.envKey,n.user_id&&(n.viewer_user_id=n.user_id,delete n.user_id);var a=n.mux_sample_number>=this.sampleRate,l=this._deduplicateBeaconData(e,n),c=(0,d.default)(l);if(this.lastEventTime=this.mux.utils.now(),a)return s.default.info("Not sending event due to sample rate restriction",e,n,c);if(!this.envKey)return s.default.info("Not sending event due to missing environment key",e,n,c);if(!this.rateLimited)if(s.default.info("Sending event",e,n,c),this.rateLimited=!this.eventQueue.queueEvent(e,c),this.mux.WINDOW_UNLOADING&&"viewend"===e)this.eventQueue.destroy(!0);else if((m.indexOf(e)>=0||!1===this.mux.WINDOW_VISIBLE&&"hb"===e)&&this.eventQueue.flushEvents(),this.rateLimited)return n.event="eventrateexceeded",c=(0,d.default)(n),this.eventQueue.queueEvent(n.event,c),s.default.error("Beaconing disabled due to rate limit.")}},v.prototype.destroy=function(){this.eventQueue.destroy(!1)};var g=function(e,t,r,n){return!(!e||0!==t.indexOf("request_")||"request_response_headers"!==t&&"object"===(void 0===r?"undefined":i(r))&&"object"===(void 0===n?"undefined":i(n))&&Object.keys(r||{}).length===Object.keys(n||{}).length)};v.prototype._deduplicateBeaconData=function(e,t){var r=this,n={},i=t.view_id;if(!i||"viewstart"===e||"viewend"===e||!this.previousBeaconData||this.mux.utils.now()-this.lastEventTime>=6e5)n=(0,f.default)({},t),i&&(this.previousBeaconData=n),i&&"viewend"===e&&(this.previousBeaconData=null);else{var a=0===e.indexOf("request");Object.keys(t).forEach((function(i){var o=t[i];(o!==r.previousBeaconData[i]||p.indexOf(i)>-1||g(a,i,o,r.previousBeaconData[i])||function(e,t){return"renditionchange"===e&&0===t.indexOf("video_source_")}(e,i))&&(n[i]=o,r.previousBeaconData[i]=o)}))}return n},t.default=v},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getAndUpdateSessionData=t.getAndUpdateViewerData=void 0;var i=n(r(11)),a=n(r(39)),o=r(6),s=n(r(2)),l=function(){var e=void 0;try{e=i.default.parse(a.default.get("muxData")||"")}catch(t){e={}}return e},u=function(e){try{a.default.set("muxData",i.default.stringify(e),{expires:7300})}catch(e){}};t.getAndUpdateViewerData=function(){var e=l();return e.mux_viewer_id=e.mux_viewer_id||(0,o.generateUUID)(),e.msn=e.msn||Math.random(),u(e),{mux_viewer_id:e.mux_viewer_id,mux_sample_number:e.msn}},t.getAndUpdateSessionData=function(){var e=l(),t=s.default.now();return e.session_start&&(e.sst=e.session_start,delete e.session_start),e.session_id&&(e.sid=e.session_id,delete e.session_id),e.session_expires&&(e.sex=e.session_expires,delete e.session_expires),(!e.sex||e.sex<t)&&(e.sid=(0,o.generateUUID)(),e.sst=t),e.sex=t+15e5,u(e),{session_id:e.sid,session_start:e.sst,session_expires:e.sex}}},function(e,t,r){"use strict";var n=r(12),i=r(13),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},o=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return o.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,i,a,o,l,u,c,d,h,f,p){var m=t;if("function"==typeof u)m=u(r,m);else if(m instanceof Date)m=h(m);else if(null===m){if(a)return l&&!p?l(r,s.encoder):r;m=""}if("string"==typeof m||"number"==typeof m||"boolean"==typeof m||n.isBuffer(m))return l?[f(p?r:l(r,s.encoder))+"="+f(l(m,s.encoder))]:[f(r)+"="+f(String(m))];var v,g=[];if(void 0===m)return g;if(Array.isArray(u))v=u;else{var _=Object.keys(m);v=c?_.sort(c):_}for(var y=0;y<v.length;++y){var b=v[y];o&&null===m[b]||(g=Array.isArray(m)?g.concat(e(m[b],i(r,b),i,a,o,l,u,c,d,h,f,p)):g.concat(e(m[b],r+(d?"."+b:"["+b+"]"),i,a,o,l,u,c,d,h,f,p)))}return g};e.exports=function(e,t){var r=e,o=t?n.assign({},t):{};if(null!==o.encoder&&void 0!==o.encoder&&"function"!=typeof o.encoder)throw new TypeError("Encoder has to be a function.");var u=void 0===o.delimiter?s.delimiter:o.delimiter,c="boolean"==typeof o.strictNullHandling?o.strictNullHandling:s.strictNullHandling,d="boolean"==typeof o.skipNulls?o.skipNulls:s.skipNulls,h="boolean"==typeof o.encode?o.encode:s.encode,f="function"==typeof o.encoder?o.encoder:s.encoder,p="function"==typeof o.sort?o.sort:null,m=void 0!==o.allowDots&&o.allowDots,v="function"==typeof o.serializeDate?o.serializeDate:s.serializeDate,g="boolean"==typeof o.encodeValuesOnly?o.encodeValuesOnly:s.encodeValuesOnly;if(void 0===o.format)o.format=i.default;else if(!Object.prototype.hasOwnProperty.call(i.formatters,o.format))throw new TypeError("Unknown format option provided.");var _,y,b=i.formatters[o.format];"function"==typeof o.filter?r=(y=o.filter)("",r):Array.isArray(o.filter)&&(_=y=o.filter);var w,x=[];if("object"!=typeof r||null===r)return"";w=o.arrayFormat in a?o.arrayFormat:"indices"in o?o.indices?"indices":"repeat":"indices";var E=a[w];_||(_=Object.keys(r)),p&&_.sort(p);for(var O=0;O<_.length;++O){var T=_[O];d&&null===r[T]||(x=x.concat(l(r[T],T,E,c,d,h?f:null,y,p,m,v,b,g)))}var k=x.join(u),P=!0===o.addQueryPrefix?"?":"";return k.length>0?P+k:""}},function(e,t,r){"use strict";var n=r(12),i=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},o=function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,o),l=0;l<s.length;++l){var u,c,d=s[l],h=d.indexOf("]="),f=-1===h?d.indexOf("="):h+1;-1===f?(u=t.decoder(d,a.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,f),a.decoder),c=t.decoder(d.slice(f+1),a.decoder)),i.call(r,u)?r[u]=[].concat(r[u]).concat(c):r[u]=c}return r},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),s=o?n.slice(0,o.index):n,l=[];if(s){if(!r.plainObjects&&i.call(Object.prototype,s)&&!r.allowPrototypes)return;l.push(s)}for(var u=0;null!==(o=a.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&i.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+n.slice(o.index)+"]"),function(e,t,r){for(var n=t,i=e.length-1;i>=0;--i){var a,o=e[i];if("[]"===o)a=(a=[]).concat(n);else{a=r.plainObjects?Object.create(null):{};var s="["===o.charAt(0)&&"]"===o.charAt(o.length-1)?o.slice(1,-1):o,l=parseInt(s,10);!isNaN(l)&&o!==s&&String(l)===s&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(a=[])[l]=n:a[s]=n}n=a}return n}(l,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:a.delimiter,r.depth="number"==typeof r.depth?r.depth:a.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:a.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:a.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:a.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:a.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:a.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:a.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:a.strictNullHandling,""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?o(e,r):e,l=r.plainObjects?Object.create(null):{},u=Object.keys(i),c=0;c<u.length;++c){var d=u[c],h=s(d,i[d],r);l=n.merge(l,h,r)}return n.compact(l)}},function(e,t,r){"use strict";var n,i,a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(o){var s=!1;if(void 0!==(i="function"==typeof(n=o)?n.call(t,r,t,e):n)&&(e.exports=i),s=!0,"object"===a(t)&&(e.exports=o(),s=!0),!s){var l=window.Cookies,u=window.Cookies=o();u.noConflict=function(){return window.Cookies=l,u}}}((function(){var e=function(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t};return function t(r){function n(t,i,a){var o;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(a=e({path:"/"},n.defaults,a)).expires){var s=new Date;s.setMilliseconds(s.getMilliseconds()+864e5*a.expires),a.expires=s}try{o=JSON.stringify(i),/^[\{\[]/.test(o)&&(i=o)}catch(t){}return i=r.write?r.write(i,t):encodeURIComponent(String(i)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=(t=(t=encodeURIComponent(String(t))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[t,"=",i,a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}t||(o={});for(var l=document.cookie?document.cookie.split("; "):[],u=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var d=l[c].split("="),h=d.slice(1).join("=");'"'===h.charAt(0)&&(h=h.slice(1,-1));try{var f=d[0].replace(u,decodeURIComponent);if(h=r.read?r.read(h,f):r(h,f)||h.replace(u,decodeURIComponent),this.json)try{h=JSON.parse(h)}catch(t){}if(t===f){o=h;break}t||(o[f]=h)}catch(t){}}return o}}return n.set=n,n.get=function(e){return n.call(n,e)},n.getJSON=function(){return n.apply({json:!0},[].slice.call(arguments))},n.defaults={},n.remove=function(t,r){n(t,"",e(r,{expires:-1}))},n.withConverter=t,n}((function(){}))}))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t=t||"litix.io",(e=e||"").match(/^[a-z0-9]+$/)?"https://"+e+"."+t:"https://img.litix.io/a.gif"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i=function(){var e=n.default.navigator,t=e&&(e.connection||e.mozConnection||e.webkitConnection);return t&&t.type};t.default=function(){var e=void 0;switch(i()){case"cellular":e="cellular";break;case"ethernet":e="wired";break;case"wifi":e="wifi";break;case void 0:break;default:e="other"}return e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(0)),a=n(r(4)),o=n(r(43)),s=n(r(1)),l=n(r(14)),u=n(r(2)),c=!!i.default.XMLHttpRequest&&"withCredentials"in new i.default.XMLHttpRequest,d={maxBeaconSize:300,maxQueueLength:3600,baseTimeBetweenBeacons:1e4},h=function(e,t){this._beaconUrl=e||"https://img.litix.io",this._eventQueue=[],this._postInFlight=!1,this._failureCount=0,this._sendTimeout=!1,this._options=(0,s.default)({},d,t)};h.prototype.queueEvent=function(e,t){var r=(0,s.default)({},t);return c?(this._eventQueue.length<=this._options.maxQueueLength||"eventrateexceeded"===e)&&(this._eventQueue.push(r),this._sendTimeout||this._startBeaconSending(),this._eventQueue.length<=this._options.maxQueueLength):(o.default.send(this._beaconUrl,r),!0)},h.prototype.flushEvents=function(){c&&(this._eventQueue.length&&this._sendBeaconQueue(),this._startBeaconSending())},h.prototype.destroy=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.destroyed=!0,e?this._clearBeaconQueue():this.flushEvents(),i.default.clearTimeout(this._sendTimeout)},h.prototype._clearBeaconQueue=function(){var e=i.default.navigator,t=this._eventQueue.length>this._options.maxBeaconSize?this._eventQueue.length-this._options.maxBeaconSize:0,r=this._eventQueue.slice(t);t>0&&(0,s.default)(r[r.length-1],(0,l.default)({mux_view_message:"event queue truncated"}));var n=this._createPayload(r);if(e.sendBeacon)e.sendBeacon(this._beaconUrl,n);else if(i.default.XMLHttpRequest){var a=new i.default.XMLHttpRequest;a.open("POST",this._beaconUrl),a.setRequestHeader("Content-Type","application/json"),a.send(n)}else o.default.send(this._beaconUrl,r[r.length-1])},h.prototype._sendBeaconQueue=function(){var e=this;if(i.default.XMLHttpRequest&&!this._postInFlight){var t=new i.default.XMLHttpRequest,r=this._eventQueue.slice(0,this._options.maxBeaconSize);this._eventQueue=this._eventQueue.slice(this._options.maxBeaconSize),this._postInFlight=!0,t.onreadystatechange=function(){4===t.readyState&&(200!==t.status?(e._eventQueue=r.concat(e._eventQueue),e._failureCount+=1,a.default.info("Error sending beacon: "+t.status),a.default.info(t.responseText)):e._failureCount=0,e._roundTripTime=u.default.now()-o,e._postInFlight=!1)},t.open("POST",this._beaconUrl),t.setRequestHeader("Content-Type","application/json");var n=this._createPayload(r),o=u.default.now();t.send(n)}},h.prototype._getNextBeaconTime=function(){if(!this._failureCount)return this._options.baseTimeBetweenBeacons;var e=Math.pow(2,this._failureCount-1);return(1+(e*=Math.random()))*this._options.baseTimeBetweenBeacons},h.prototype._startBeaconSending=function(){var e=this;i.default.clearTimeout(this._sendTimeout),this.destroyed||(this._sendTimeout=i.default.setTimeout((function(){e._eventQueue.length&&e._sendBeaconQueue(),e._startBeaconSending()}),this._getNextBeaconTime()))},h.prototype._createPayload=function(e){var t={transmission_timestamp:Math.round(u.default.now())};return this._roundTripTime&&(t.rtt_ms=Math.round(this._roundTripTime)),JSON.stringify({metadata:t,events:e})},t.default=h},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(11)),a=n(r(0)),o={send:function(e,t){function r(){n.src=s+(o?"&rc="+o:"")}var n=new Image,o=0,s=e+"?"+i.default.stringify(t);return n.addEventListener("error",(function(){o>3||a.default.setTimeout((function(){o++,r()}),5e3*o)})),r(),n}};t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=0,t=0,r=0,n=0,i=0,a=0,o=0;this.on("requestcompleted",(function(a,o){var s=o.request_start,l=o.request_response_start,u=o.request_response_end,c=o.request_bytes_loaded;n++;var d=void 0,h=void 0;if(l?(d=l-s,h=u-l):h=u-s,h>0&&c>0){var f=c/h*8e3;i++,t+=c,r+=h,this.data.view_min_request_throughput=Math.min(this.data.view_min_request_throughput||1/0,f),this.data.view_average_request_throughput=t/r*8e3,this.data.view_request_count=n,d>0&&(e+=d,this.data.view_max_request_latency=Math.max(this.data.view_max_request_latency||0,d),this.data.view_average_request_latency=e/i)}})),this.on("requestfailed",(function(e,t){n++,a++,this.data.view_request_count=n,this.data.view_request_failed_count=a})),this.on("requestcanceled",(function(e,t){n++,o++,this.data.view_request_count=n,this.data.view_request_canceled_count=o}))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.default=function(e,t,r){var u=(0,o.findMediaElement)(t),c=i(u,3),d=c[0],h=c[1],f=c[2],p=e.log,m=e.utils.getComputedStyle,v=e.utils.secondsToMs;if(!d)return p.error("No element was found with the `"+h+"` query selector.");if("video"!==f&&"audio"!==f)return p.error("The element of `"+h+"` was not a media element.");(r=(0,a.default)({automaticErrorTracking:!0},r)).data=(0,a.default)({player_software:"HTML5 Video Element",player_software_version:"No Versions",player_mux_plugin_name:"VideoElementMonitor",player_mux_plugin_version:"4.4.4"},r.data),r.getPlayheadTime=function(){return v(d.currentTime)},r.getStateData=function(){var e=this.hlsjs&&this.hlsjs.url,t=this.dashjs&&n("function"===this.dashjs.getSource)&&this.dashjs.getSource();return{player_is_paused:d.paused,player_playhead_time:v(d.currentTime),player_width:parseInt(m(d,"width")),player_height:parseInt(m(d,"height")),player_autoplay_on:d.autoplay,player_preload_on:d.preload,video_poster_url:d.poster,video_source_url:e||t||d.currentSrc,video_source_duration:v(d.duration),video_source_height:d.videoHeight,video_source_width:d.videoWidth}},d.mux=d.mux||{},d.mux.deleted=!1,d.mux.emit=function(t,r){e.emit(h,t,r)};var g=function(){p.error("The monitor for this video element has already been destroyed.")};d.mux.destroy=function(){Object.keys(d.mux.listeners).forEach((function(e){d.removeEventListener(e,d.mux.listeners[e],!1)})),delete d.mux.listeners,d.mux.destroy=g,d.mux.swapElement=g,d.mux.emit=g,d.mux.addHLSJS=g,d.mux.addDashJS=g,d.mux.removeHLSJS=g,d.mux.removeDashJS=g,d.mux.deleted=!0,e.emit(h,"destroy")},d.mux.swapElement=function(t){var r=(0,o.findMediaElement)(t),n=i(r,3),s=n[0],l=n[1],u=n[2];return s?"video"!==u&&"audio"!==u?e.log.error("The element of `"+l+"` was not a media element."):(s.muxId=d.muxId,delete d.muxId,s.mux=s.mux||{},s.mux.listeners=(0,a.default)({},d.mux.listeners),delete d.mux.listeners,Object.keys(s.mux.listeners).forEach((function(e){d.removeEventListener(e,s.mux.listeners[e],!1),s.addEventListener(e,s.mux.listeners[e],!1)})),s.mux.swapElement=d.mux.swapElement,s.mux.destroy=d.mux.destroy,delete d.mux,void(d=s)):e.log.error("No element was found with the `"+l+"` query selector.")},d.mux.addHLSJS=function(t){e.addHLSJS(h,t)},d.mux.addDashJS=function(t){e.addDashJS(h,t)},d.mux.removeHLSJS=function(){e.removeHLSJS(h)},d.mux.removeDashJS=function(){e.removeDashJS(h)},e.init(h,r),e.emit(h,"playerready"),d.paused||(e.emit(h,"play"),d.readyState>2&&e.emit(h,"playing")),d.mux.listeners={},s.forEach((function(t){("error"!==t||r.automaticErrorTracking)&&(d.mux.listeners[t]=function(){var r={};if("error"===t){if(!d.error)return;r.player_error_code=d.error.code,r.player_error_message=l[d.error.code]||d.error.message}e.emit(h,t,r)},d.addEventListener(t,d.mux.listeners[t],!1))}))};var a=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),o=r(8),s=["loadstart","pause","play","playing","seeking","seeked","timeupdate","ratechange","stalled","waiting","error","ended"],l={1:"MEDIA_ERR_ABORTED",2:"MEDIA_ERR_NETWORK",3:"MEDIA_ERR_DECODE",4:"MEDIA_ERR_SRC_NOT_SUPPORTED"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(r(47)),a=n(r(3)),o=n(r(48)),s=n(r(49)),l=n(r(1)),u=n(r(7)),c=r(5),d=n(r(2)),h=n(r(50)),f={};f.safeCall=i.default,f.safeIncrement=a.default,f.getComputedStyle=o.default,f.secondsToMs=s.default,f.assign=l.default,f.headersStringToObject=u.default,f.extractHostnameAndDomain=c.extractHostnameAndDomain,f.extractHostname=c.extractHostname,f.now=d.default.now,f.manifestParser=h.default,t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,i){var a=i;if(e&&"function"==typeof e[t])try{a=e[t].apply(e,r)}catch(e){n.default.info("safeCall error",e)}return a};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(4))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e&&t&&n.default&&"function"==typeof n.default.getComputedStyle){var r=void 0;return i&&i.has(e)&&(r=i.get(e)),r||(r=n.default.getComputedStyle(e,null),i&&i.set(e,r)),r.getPropertyValue(t)}};var n=function(e){return e&&e.__esModule?e:{default:e}}(r(0)),i=void 0;n.default&&n.default.WeakMap&&(i=new WeakMap)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return Math.floor(1e3*e)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return e&&e.__esModule?e:{default:e}}(r(1)),i="#EXT-X-TARGETDURATION",a="#EXT-X-PART-INF",o="#EXT-X-SERVER-CONTROL",s="#EXTINF",l="#EXT-X-PROGRAM-DATE-TIME",u="#EXT-X-VERSION",c=function(e){return this.buffer="",this.manifest={segments:[],serverControl:{}},this.currentUri={},this.process(e),this.manifest};c.prototype.process=function(e){var t=void 0;for(this.buffer+=e,t=this.buffer.indexOf("\n");t>-1;t=this.buffer.indexOf("\n"))this.processLine(this.buffer.substring(0,t)),this.buffer=this.buffer.substring(t+1)},c.prototype.processLine=function(e){var t=e.indexOf(":"),r=g(e,t),n=r[0],c=2===r.length?f(r[1]):void 0;if("#"!==n[0])this.currentUri.uri=n,this.manifest.segments.push(this.currentUri),!this.manifest.targetDuration||"duration"in this.currentUri||(this.currentUri.duration=this.manifest.targetDuration),this.currentUri={};else switch(n){case i:if(!isFinite(c)||c<0)return;this.manifest.targetDuration=c,this.setHoldBack();break;case a:d(this.manifest,r),this.manifest.partInf.partTarget&&(this.manifest.partTargetDuration=this.manifest.partInf.partTarget),this.setHoldBack();break;case o:d(this.manifest,r),this.setHoldBack();break;case s:0===c?this.currentUri.duration=.01:c>0&&(this.currentUri.duration=c);break;case l:var h=c,p=new Date(h);this.manifest.dateTimeString||(this.manifest.dateTimeString=h,this.manifest.dateTimeObject=p),this.currentUri.dateTimeString=h,this.currentUri.dateTimeObject=p;break;case u:d(this.manifest,r)}},c.prototype.setHoldBack=function(){var e=this.manifest,t=e.serverControl,r=e.targetDuration,n=e.partTargetDuration;if(t){var i="holdBack",a="partHoldBack",o=r&&3*r,s=n&&2*n;r&&!t.hasOwnProperty(i)&&(t[i]=o),o&&t[i]<o&&(t[i]=o),n&&!t.hasOwnProperty(a)&&(t[a]=3*n),n&&t[a]<s&&(t[a]=s)}};var d=function(e,t){var r=h(t[0].replace("#EXT-X-","")),i=void 0;v(t[1])?(i={},i=(0,n.default)(m(t[1]),i)):i=f(t[1]),e[r]=i},h=function(e){return e.toLowerCase().replace(/-(\w)/g,(function(e){return e[1].toUpperCase()}))},f=function(e){if("yes"===e.toLowerCase()||"no"===e.toLowerCase())return"yes"===e.toLowerCase();var t=-1!==e.indexOf(":")?e:parseFloat(e);return isNaN(t)?e:t},p=function(e){var t={},r=e.split("=");return r.length>1&&(t[h(r[0])]=f(r[1])),t},m=function(e){for(var t=e.split(","),r={},i=0;t.length>i;i++){var a=t[i],o=p(a);r=(0,n.default)(o,r)}return r},v=function(e){return e.indexOf("=")>-1},g=function(e,t){return-1===t?[e]:[e.substring(0,t),e.substring(t+1)]};t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={PLAYER_READY:"playerready",VIEW_INIT:"viewinit",VIDEO_CHANGE:"videochange",PLAY:"play",PAUSE:"pause",PLAYING:"playing",TIME_UPDATE:"timeupdate",SEEKING:"seeking",SEEKED:"seeked",REBUFFER_START:"rebufferstart",REBUFFER_END:"rebufferend",ERROR:"error",ENDED:"ended",RENDITION_CHANGE:"renditionchange",ORIENTATION_CHANGE:"orientationchange",AD_REQUEST:"adrequest",AD_RESPONSE:"adresponse",AD_BREAK_START:"adbreakstart",AD_PLAY:"adplay",AD_PLAYING:"adplaying",AD_PAUSE:"adpause",AD_FIRST_QUARTILE:"adfirstquartile",AD_MID_POINT:"admidpoint",AD_THIRD_QUARTILE:"adthirdquartile",AD_ENDED:"adended",AD_BREAK_END:"adbreakend",AD_ERROR:"aderror",REQUEST_COMPLETED:"requestcompleted",REQUEST_FAILED:"requestfailed",REQUEST_CANCELLED:"requestcanceled"}}])},973935:(e,t,r)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=r(364448)},549880:(e,t,r)=>{"use strict";r.d(t,{H:()=>u,f:()=>c});var n=r(667294),i=r(45697),a=r.n(i),o=a().shape({subscribe:a().func.isRequired,eventIndex:a().number.isRequired});function s(e){return"@@contextSubscriber/"+e}var l=void 0!==n.forwardRef;function u(e){var t,r,n=s(e),i=n+"/listeners",a=n+"/eventIndex",u=n+"/subscribe",c=((r={childContextTypes:(t={},t[n]=o.isRequired,t),getChildContext:function(){var e;return(e={})[n]={eventIndex:this[a],subscribe:this[u]},e},componentWillMount:function(){this[i]=[],this[a]=0},componentWillReceiveProps:function(){this[a]++},componentDidUpdate:function(){var e=this;this[i].forEach((function(t){return t(e[a])}))}})[u]=function(e){var t=this;return this[i].push(e),function(){t[i]=t[i].filter((function(t){return t!==e}))}},r);return l&&(c.UNSAFE_componentWillMount=c.componentWillMount,c.UNSAFE_componentWillReceiveProps=c.componentWillReceiveProps,delete c.componentWillMount,delete c.componentWillReceiveProps),c}function c(e){var t,r,n=s(e),i=n+"/lastRenderedEventIndex",a=n+"/handleContextUpdate",u=n+"/unsubscribe",c=((r={contextTypes:(t={},t[n]=o,t),getInitialState:function(){var e;return this.context[n]?((e={})[i]=this.context[n].eventIndex,e):{}},componentDidMount:function(){this.context[n]&&(this[u]=this.context[n].subscribe(this[a]))},componentWillReceiveProps:function(){var e;this.context[n]&&this.setState(((e={})[i]=this.context[n].eventIndex,e))},componentWillUnmount:function(){this[u]&&(this[u](),this[u]=null)}})[a]=function(e){var t;e!==this.state[i]&&this.setState(((t={})[i]=e,t))},r);return l&&(c.UNSAFE_componentWillReceiveProps=c.componentWillReceiveProps,delete c.componentWillReceiveProps),c}},312855:(e,t,r)=>{"use strict";r.d(t,{Z:()=>f});var n=r(441143),i=r.n(n),a=r(667294),o=r(972555),s=r.n(o),l=r(228420),u=r.n(l),c=r(549880),d=r(211938),h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};function f(e,t){var r=t&&t.withRef,n=s()({displayName:"WithRouter",mixins:[(0,c.f)("router")],contextTypes:{router:d.I},propTypes:{router:d.I},getWrappedInstance:function(){return r||i()(!1),this.wrappedInstance},render:function(){var t=this,n=this.props.router||this.context.router;if(!n)return a.createElement(e,this.props);var i=n.params,o=n.location,s=n.routes,l=h({},this.props,{router:n,params:i,location:o,routes:s});return r&&(l.ref=function(e){t.wrappedInstance=e}),a.createElement(e,l)}});return n.displayName="withRouter("+function(e){return e.displayName||e.name||"Component"}(e)+")",n.WrappedComponent=e,u()(n,e)}},228420:(e,t,r)=>{"use strict";var n=r(550663),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return n.isMemo(e)?o:s[e.$$typeof]||i}s[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[n.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(p){var i=f(r);i&&i!==p&&e(t,i,n)}var o=c(r);d&&(o=o.concat(d(r)));for(var s=l(t),m=l(r),v=0;v<o.length;++v){var g=o[v];if(!(a[g]||n&&n[g]||m&&m[g]||s&&s[g])){var _=h(r,g);try{u(t,g,_)}catch(e){}}}}return t}},596774:e=>{e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<a.length;l++){var u=a[l];if(!s(u))return!1;var c=e[u],d=t[u];if(!1===(i=r?r.call(n,c,d,u):void 0)||void 0===i&&c!==d)return!1}return!0}},542473:e=>{"use strict";e.exports=function(){}}}]);
//# sourceMappingURL=1813.00e42aac0226cfd23155.js.map